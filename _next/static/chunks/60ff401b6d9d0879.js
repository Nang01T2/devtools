(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,442656,(e,t,r)=>{"use strict";t.exports=function(){}},102579,e=>{e.v("/_next/static/media/imageWorker.a235cdf8.ts")},701870,486415,e=>{"use strict";let t=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]));async function r(e,t,r){return e({...r,locateFile:e=>e.endsWith(".wasm")?new URL(e,location.origin).toString():e,...t?{wasmModule:t}:{}})}function a(e,t){return console.time(e),t().finally(()=>console.timeEnd(e))}async function l(e,t){if(e.aborted)throw new DOMException("AbortError","AbortError");return Promise.race([t,new Promise((t,r)=>{e.addEventListener("abort",()=>r(new DOMException("AbortError","AbortError")))})])}e.s(["simd",0,t,"threads",0,()=>(async e=>{try{return"undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))],486415),e.s(["abortable",()=>l,"initEmscriptenModule",()=>r,"timed",()=>a],701870)},255519,e=>{"use strict";let t=Symbol("Comlink.proxy"),r=Symbol("Comlink.endpoint"),a=Symbol("Comlink.releaseProxy"),l=Symbol("Comlink.finalizer"),s=Symbol("Comlink.thrown"),n=e=>"object"==typeof e&&null!==e||"function"==typeof e,i=new Map([["proxy",{canHandle:e=>n(e)&&e[t],serialize(e){let{port1:t,port2:r}=new MessageChannel;return o(e,t),[r,[r]]},deserialize:e=>(e.start(),c(e))}],["throw",{canHandle:e=>n(e)&&s in e,serialize:({value:e})=>[e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[]],deserialize(e){if(e.isError)throw Object.assign(Error(e.value.message),e.value);throw e.value}}]]);function o(e,r=globalThis,a=["*"]){r.addEventListener("message",function n(i){let c;if(!i||!i.data)return;if(!function(e,t){for(let r of e)if(t===r||"*"===r||r instanceof RegExp&&r.test(t))return!0;return!1}(a,i.origin))return void console.warn(`Invalid origin '${i.origin}' for comlink proxy`);let{id:u,type:f,path:m}=Object.assign({path:[]},i.data),p=(i.data.argumentList||[]).map(b);try{var h,y,v;let r=m.slice(0,-1).reduce((e,t)=>e[t],e),a=m.reduce((e,t)=>e[t],e);switch(f){case"GET":c=a;break;case"SET":r[m.slice(-1)[0]]=b(i.data.value),c=!0;break;case"APPLY":c=a.apply(r,p);break;case"CONSTRUCT":h=new a(...p),c=Object.assign(h,{[t]:!0});break;case"ENDPOINT":{let{port1:t,port2:r}=new MessageChannel;o(e,r),y=t,v=[t],x.set(y,v),c=y}break;case"RELEASE":c=void 0;break;default:return}}catch(e){c={value:e,[s]:0}}Promise.resolve(c).catch(e=>({value:e,[s]:0})).then(t=>{let[a,s]=g(t);r.postMessage(Object.assign(Object.assign({},a),{id:u}),s),"RELEASE"===f&&(r.removeEventListener("message",n),d(r),l in e&&"function"==typeof e[l]&&e[l]())}).catch(e=>{let[t,a]=g({value:TypeError("Unserializable return value"),[s]:0});r.postMessage(Object.assign(Object.assign({},t),{id:u}),a)})}),r.start&&r.start()}function d(e){"MessagePort"===e.constructor.name&&e.close()}function c(e,t){let l=new Map;return e.addEventListener("message",function(e){let{data:t}=e;if(!t||!t.id)return;let r=l.get(t.id);if(r)try{r(t)}finally{l.delete(t.id)}}),function e(t,l,s=[],n=function(){}){let i,o=!1,d=new Proxy(n,{get(r,n){if(u(o),n===a)return()=>{p&&p.unregister(d),f(t),l.clear(),o=!0};if("then"===n){if(0===s.length)return{then:()=>d};let e=y(t,l,{type:"GET",path:s.map(e=>e.toString())}).then(b);return e.then.bind(e)}return e(t,l,[...s,n])},set(e,r,a){u(o);let[n,i]=g(a);return y(t,l,{type:"SET",path:[...s,r].map(e=>e.toString()),value:n},i).then(b)},apply(a,n,i){u(o);let d=s[s.length-1];if(d===r)return y(t,l,{type:"ENDPOINT"}).then(b);if("bind"===d)return e(t,l,s.slice(0,-1));let[c,f]=h(i);return y(t,l,{type:"APPLY",path:s.map(e=>e.toString()),argumentList:c},f).then(b)},construct(e,r){u(o);let[a,n]=h(r);return y(t,l,{type:"CONSTRUCT",path:s.map(e=>e.toString()),argumentList:a},n).then(b)}});return i=(m.get(t)||0)+1,m.set(t,i),p&&p.register(d,t,d),d}(e,l,[],t)}function u(e){if(e)throw Error("Proxy has been released and is not useable")}function f(e){return y(e,new Map,{type:"RELEASE"}).then(()=>{d(e)})}let m=new WeakMap,p="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{let t=(m.get(e)||0)-1;m.set(e,t),0===t&&f(e)});function h(e){var t;let r=e.map(g);return[r.map(e=>e[0]),(t=r.map(e=>e[1]),Array.prototype.concat.apply([],t))]}let x=new WeakMap;function g(e){for(let[t,r]of i)if(r.canHandle(e)){let[a,l]=r.serialize(e);return[{type:"HANDLER",name:t,value:a},l]}return[{type:"RAW",value:e},x.get(e)||[]]}function b(e){switch(e.type){case"HANDLER":return i.get(e.name).deserialize(e.value);case"RAW":return e.value}}function y(e,t,r,a){return new Promise(l=>{let s=[,,,,].fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");t.set(s,l),e.start&&e.start(),e.postMessage(Object.assign({id:s},r),a)})}e.s(["expose",()=>o,"wrap",()=>c])},469214,e=>{e.v(e.b(["static/chunks/b3dc0f90c895c0ad.js","static/chunks/da9e0027efd365df.js","static/chunks/turbopack-06e03e7753e2a8c7.js"]))},570766,e=>{"use strict";var t=e.i(255519),r=e.i(701870);class a{_queue=Promise.resolve();_worker;_workerApi;_workerTimeout;_terminateWorker(){this._worker&&(this._worker.terminate(),this._worker=void 0,this._workerApi=void 0)}_startWorker(){this._worker=new Worker(e.r(469214),{type:"module",type:void 0}),this._workerApi=t.wrap(this._worker)}}for(let e of["avifEncode","webpEncode","jxlEncode","avifDecode","webpDecode","mozjpegEncode","jxlDecode","qoiEncode","resize","quantize","rotate","flipHorizontal","flipVertical","grayscale","sepia","sharpen","gaussianBlur","brightness","contrast","hueRotate","watermark","filter","blendOver","blendOverlay","blendAtop","blendPlus","blendMultiply","blendBurn","blendDifference","blendSoftLight","blendHardLight","blendDodge","blendExclusion","blendLighten","blendDarken"])a.prototype[e]=function(t,...a){return this._queue=this._queue.catch(()=>{}).then(async()=>{if(t.aborted)throw new DOMException("AbortError","AbortError");clearTimeout(this._workerTimeout),this._worker||this._startWorker();let l=()=>this._terminateWorker();return t.addEventListener("abort",l),(0,r.abortable)(t,this._workerApi[e](...a)).finally(()=>{t.removeEventListener("abort",l),this._workerTimeout=setTimeout(()=>{this._terminateWorker()},1e4)})}),this._queue};let l=new a;e.s(["processor",0,l],570766)},840470,297339,e=>{"use strict";var t=e.i(343794),r=e.i(271645);let a=r.createContext({});e.s(["default",0,a],297339);var l=e.i(650582),s=e.i(843476);let n=r.forwardRef(({id:e,bsPrefix:n,className:i,type:o="checkbox",isValid:d=!1,isInvalid:c=!1,as:u="input",...f},m)=>{let{controlId:p}=(0,r.useContext)(a);return n=(0,l.useBootstrapPrefix)(n,"form-check-input"),(0,s.jsx)(u,{...f,ref:m,type:o,id:e||p,className:(0,t.default)(i,n,d&&"is-valid",c&&"is-invalid")})});n.displayName="FormCheckInput",e.s(["default",0,n],840470)},568874,e=>{"use strict";var t=e.i(343794),r=e.i(271645),a=e.i(650582),l=e.i(843476);let s=r.forwardRef((e,r)=>{let[{className:s,...n},{as:i="div",bsPrefix:o,spans:d}]=function({as:e,bsPrefix:r,className:l,...s}){r=(0,a.useBootstrapPrefix)(r,"col");let n=(0,a.useBootstrapBreakpoints)(),i=(0,a.useBootstrapMinBreakpoint)(),o=[],d=[];return n.forEach(e=>{let t,a,l,n=s[e];delete s[e],"object"==typeof n&&null!=n?{span:t,offset:a,order:l}=n:t=n;let c=e!==i?`-${e}`:"";t&&o.push(!0===t?`${r}${c}`:`${r}${c}-${t}`),null!=l&&d.push(`order${c}-${l}`),null!=a&&d.push(`offset${c}-${a}`)}),[{...s,className:(0,t.default)(l,...o,...d)},{as:e,bsPrefix:r,spans:o}]}(e);return(0,l.jsx)(i,{...n,ref:r,className:(0,t.default)(s,!d.length&&o)})});s.displayName="Col",e.s(["default",0,s])},617881,440918,e=>{"use strict";var t=e.i(343794),r=e.i(745009),a=e.i(271645),l=e.i(843476);let s={type:r.default.string,tooltip:r.default.bool,as:r.default.elementType},n=a.forwardRef(({as:e="div",className:r,type:a="valid",tooltip:s=!1,...n},i)=>(0,l.jsx)(e,{...n,ref:i,className:(0,t.default)(r,`${a}-${s?"tooltip":"feedback"}`)}));n.displayName="Feedback",n.propTypes=s;var i=e.i(840470),o=e.i(297339),d=e.i(650582);let c=a.forwardRef(({bsPrefix:e,className:r,htmlFor:s,...n},i)=>{let{controlId:c}=(0,a.useContext)(o.default);return e=(0,d.useBootstrapPrefix)(e,"form-check-label"),(0,l.jsx)("label",{...n,ref:i,htmlFor:s||c,className:(0,t.default)(r,e)})});c.displayName="FormCheckLabel";var u=e.i(359565);let f=a.forwardRef(({id:e,bsPrefix:r,bsSwitchPrefix:s,inline:f=!1,reverse:m=!1,disabled:p=!1,isValid:h=!1,isInvalid:x=!1,feedbackTooltip:g=!1,feedback:b,feedbackType:y,className:v,style:w,title:j="",type:N="checkbox",label:k,children:E,as:C="input",...R},S)=>{r=(0,d.useBootstrapPrefix)(r,"form-check"),s=(0,d.useBootstrapPrefix)(s,"form-switch");let{controlId:A}=(0,a.useContext)(o.default),L=(0,a.useMemo)(()=>({controlId:e||A}),[A,e]),T=!E&&null!=k&&!1!==k||(0,u.hasChildOfType)(E,c),P=(0,l.jsx)(i.default,{...R,type:"switch"===N?"checkbox":N,ref:S,isValid:h,isInvalid:x,disabled:p,as:C});return(0,l.jsx)(o.default.Provider,{value:L,children:(0,l.jsx)("div",{style:w,className:(0,t.default)(v,T&&r,f&&`${r}-inline`,m&&`${r}-reverse`,"switch"===N&&s),children:E||(0,l.jsxs)(l.Fragment,{children:[P,T&&(0,l.jsx)(c,{title:j,children:k}),b&&(0,l.jsx)(n,{type:y,tooltip:g,children:b})]})})})});f.displayName="FormCheck";let m=Object.assign(f,{Input:i.default,Label:c});e.s(["default",0,m],440918),e.i(247167),e.i(442656);let p=a.forwardRef(({bsPrefix:e,type:r,size:s,htmlSize:n,id:i,className:c,isValid:u=!1,isInvalid:f=!1,plaintext:m,readOnly:p,as:h="input",...x},g)=>{let{controlId:b}=(0,a.useContext)(o.default);return e=(0,d.useBootstrapPrefix)(e,"form-control"),(0,l.jsx)(h,{...x,type:r,size:n,ref:g,readOnly:p,id:i||b,className:(0,t.default)(c,m?`${e}-plaintext`:e,s&&`${e}-${s}`,"color"===r&&`${e}-color`,u&&"is-valid",f&&"is-invalid")})});p.displayName="FormControl";let h=Object.assign(p,{Feedback:n}),x=a.forwardRef(({className:e,bsPrefix:r,as:a="div",...s},n)=>(r=(0,d.useBootstrapPrefix)(r,"form-floating"),(0,l.jsx)(a,{ref:n,className:(0,t.default)(e,r),...s})));x.displayName="FormFloating";let g=a.forwardRef(({controlId:e,as:t="div",...r},s)=>{let n=(0,a.useMemo)(()=>({controlId:e}),[e]);return(0,l.jsx)(o.default.Provider,{value:n,children:(0,l.jsx)(t,{...r,ref:s})})});g.displayName="FormGroup";var b=e.i(568874);let y=a.forwardRef(({as:e="label",bsPrefix:r,column:s=!1,visuallyHidden:n=!1,className:i,htmlFor:c,...u},f)=>{let{controlId:m}=(0,a.useContext)(o.default);r=(0,d.useBootstrapPrefix)(r,"form-label");let p="col-form-label";"string"==typeof s&&(p=`${p} ${p}-${s}`);let h=(0,t.default)(i,r,n&&"visually-hidden",s&&p);return(c=c||m,s)?(0,l.jsx)(b.default,{ref:f,as:"label",className:h,htmlFor:c,...u}):(0,l.jsx)(e,{ref:f,className:h,htmlFor:c,...u})});y.displayName="FormLabel";let v=a.forwardRef(({bsPrefix:e,className:r,id:s,...n},i)=>{let{controlId:c}=(0,a.useContext)(o.default);return e=(0,d.useBootstrapPrefix)(e,"form-range"),(0,l.jsx)("input",{...n,type:"range",ref:i,className:(0,t.default)(r,e),id:s||c})});v.displayName="FormRange";let w=a.forwardRef(({bsPrefix:e,size:r,htmlSize:s,className:n,isValid:i=!1,isInvalid:c=!1,id:u,...f},m)=>{let{controlId:p}=(0,a.useContext)(o.default);return e=(0,d.useBootstrapPrefix)(e,"form-select"),(0,l.jsx)("select",{...f,size:s,ref:m,className:(0,t.default)(n,e,r&&`${e}-${r}`,i&&"is-valid",c&&"is-invalid"),id:u||p})});w.displayName="FormSelect";let j=a.forwardRef(({bsPrefix:e,className:r,as:a="small",muted:s,...n},i)=>(e=(0,d.useBootstrapPrefix)(e,"form-text"),(0,l.jsx)(a,{...n,ref:i,className:(0,t.default)(r,e,s&&"text-muted")})));j.displayName="FormText";let N=a.forwardRef((e,t)=>(0,l.jsx)(m,{...e,ref:t,type:"switch"}));N.displayName="Switch";let k=Object.assign(N,{Input:m.Input,Label:m.Label}),E=a.forwardRef(({bsPrefix:e,className:r,children:a,controlId:s,label:n,...i},o)=>(e=(0,d.useBootstrapPrefix)(e,"form-floating"),(0,l.jsxs)(g,{ref:o,className:(0,t.default)(r,e),controlId:s,...i,children:[a,(0,l.jsx)("label",{htmlFor:s,children:n})]})));E.displayName="FloatingLabel";let C={_ref:r.default.any,validated:r.default.bool,as:r.default.elementType},R=a.forwardRef(({className:e,validated:r,as:a="form",...s},n)=>(0,l.jsx)(a,{...s,ref:n,className:(0,t.default)(e,r&&"was-validated")}));R.displayName="Form",R.propTypes=C;let S=Object.assign(R,{Group:g,Control:h,Floating:x,Check:m,Switch:k,Label:y,Text:j,Range:v,Select:w,FloatingLabel:E});e.s(["default",0,S],617881)},33720,e=>{"use strict";var t=e.i(343794),r=e.i(268209),a=e.i(271645),l=e.i(585642),s=e.i(114783),n=e.i(687944);let i=function(...e){return e.filter(e=>null!=e).reduce((e,t)=>{if("function"!=typeof t)throw Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(...r){e.apply(this,r),t.apply(this,r)}},null)};var o=e.i(733645),d=e.i(685455),c=e.i(843476);let u={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function f(e,t){let a=t[`offset${e[0].toUpperCase()}${e.slice(1)}`],l=u[e];return a+parseInt((0,r.default)(t,l[0]),10)+parseInt((0,r.default)(t,l[1]),10)}let m={[l.EXITED]:"collapse",[l.EXITING]:"collapsing",[l.ENTERING]:"collapsing",[l.ENTERED]:"collapse show"},p=a.default.forwardRef(({onEnter:e,onEntering:r,onEntered:l,onExit:u,onExiting:p,className:h,children:x,dimension:g="height",in:b=!1,timeout:y=300,mountOnEnter:v=!1,unmountOnExit:w=!1,appear:j=!1,getDimensionValue:N=f,...k},E)=>{let C="function"==typeof g?g():g,R=(0,a.useMemo)(()=>i(e=>{e.style[C]="0"},e),[C,e]),S=(0,a.useMemo)(()=>i(e=>{let t=`scroll${C[0].toUpperCase()}${C.slice(1)}`;e.style[C]=`${e[t]}px`},r),[C,r]),A=(0,a.useMemo)(()=>i(e=>{e.style[C]=null},l),[C,l]),L=(0,a.useMemo)(()=>i(e=>{e.style[C]=`${N(C,e)}px`,(0,o.default)(e)},u),[u,N,C]),T=(0,a.useMemo)(()=>i(e=>{e.style[C]=null},p),[C,p]);return(0,c.jsx)(d.default,{ref:E,addEndListener:n.default,...k,"aria-expanded":k.role?b:null,onEnter:R,onEntering:S,onEntered:A,onExit:L,onExiting:T,childRef:(0,s.getChildRef)(x),in:b,timeout:y,mountOnEnter:v,unmountOnExit:w,appear:j,children:(e,r)=>a.default.cloneElement(x,{...r,className:(0,t.default)(h,x.props.className,m[e],"width"===C&&"collapse-horizontal")})})});p.displayName="Collapse",e.s(["default",0,p],33720)},483635,661179,e=>{"use strict";var t=e.i(843476),r=e.i(271645);let a=e=>(0,t.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",...e}),l=()=>(0,t.jsx)("svg",{viewBox:"0 -1.95 9.8 9.8",children:(0,t.jsx)("path",{d:"M8.2.2a1 1 0 011.4 1.4l-4 4a1 1 0 01-1.4 0l-4-4A1 1 0 011.6.2l3.3 3.3L8.2.2z"})});e.s(["Arrow",0,l,"CheckedIcon",0,e=>(0,t.jsx)(a,{...e,children:(0,t.jsx)("path",{d:"M21.3 0H2.7A2.7 2.7 0 0 0 0 2.7v18.6A2.7 2.7 0 0 0 2.7 24h18.6a2.7 2.7 0 0 0 2.7-2.7V2.7A2.7 2.7 0 0 0 21.3 0zm-12 18.7L2.7 12l1.8-1.9L9.3 15 19.5 4.8l1.8 1.9z"})}),"UncheckedIcon",0,e=>(0,t.jsx)(a,{...e,children:(0,t.jsx)("path",{d:"M21.3 2.7v18.6H2.7V2.7h18.6m0-2.7H2.7A2.7 2.7 0 0 0 0 2.7v18.6A2.7 2.7 0 0 0 2.7 24h18.6a2.7 2.7 0 0 0 2.7-2.7V2.7A2.7 2.7 0 0 0 21.3 0z"})})],661179);let s=(0,r.forwardRef)(({children:e,className:r,large:a=!1,disabled:s,...n},i)=>(0,t.jsxs)("div",{className:"position-relative d-inline-block",children:[(0,t.jsx)("select",{ref:i,className:`form-select ${a?"form-select-lg":"form-select"} pe-5 ${s?"opacity-75":""} ${r??""}`,disabled:s,...n,value:void 0===n.value||null===n.value||Number.isNaN(n.value)?"":String(n.value),children:e}),(0,t.jsx)("div",{className:"position-absolute top-50 end-0 translate-middle-y pe-3 pointer-events-none","aria-hidden":"true",children:(0,t.jsx)(l,{width:16,height:16,className:"text-body-secondary",style:{transform:"rotate(90deg)"}})})]}));s.displayName="Select",e.s(["default",0,s],483635)},488094,e=>{"use strict";var t=e.i(843476),r=e.i(437902),a=e.i(271645),l=e.i(617881);let s=(0,a.forwardRef)(({children:e,value:s,min:n=0,max:i=100,step:o=1,trackColor:d="var(--bs-primary)",className:c,...u},f)=>{let m=(0,a.useRef)(null),p=(0,a.useRef)(null),[h,x]=(0,a.useState)(!1),[g,b]=(0,a.useState)(s??"");return(0,a.useImperativeHandle)(f,()=>m.current),(0,a.useEffect)(()=>{h||b(s??"")},[s,h]),(0,t.jsxs)("label",{ref:m,style:{gridTemplateColumns:"1fr auto",zIndex:0},...u,className:"jsx-bf42b2e25b35135f "+(u&&null!=u.className&&u.className||`d-grid position-relative ${c??""}`),children:[e&&(0,t.jsx)("span",{style:{gridRow:"1",gridColumn:"1",paddingLeft:"0.75rem"},className:"jsx-bf42b2e25b35135f text-body fw-medium align-self-center",children:e}),(0,t.jsx)("input",{ref:p,type:"number",style:{gridRow:"1",gridColumn:"2",width:"60px",padding:"2px 8px",font:"inherit",textDecoration:"underline dotted",textDecorationColor:"var(--bs-primary)",textUnderlinePosition:"under"},value:h?g:s,min:n,max:i,step:o,onChange:e=>{b(e.target.value),u.onChange?.(e)},onFocus:e=>{x(!0),e.target.style.backgroundColor="var(--bs-light)",e.target.style.color="var(--bs-dark)"},onBlur:e=>{x(!1),e.target.style.backgroundColor="transparent",e.target.style.color="inherit"},className:"jsx-bf42b2e25b35135f bg-transparent border-0 text-end text-body pe-3"}),(0,t.jsx)("div",{style:{gridRow:"2",gridColumn:"1 / 3",zIndex:1},className:"jsx-bf42b2e25b35135f position-relative px-3 pt-3 pb-4",children:(0,t.jsx)(l.default.Range,{value:s,min:n,max:i,step:o,onChange:u.onChange})}),(0,t.jsx)(r.default,{id:"bf42b2e25b35135f",children:"input[type=number].jsx-bf42b2e25b35135f::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number].jsx-bf42b2e25b35135f::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number].jsx-bf42b2e25b35135f{-moz-appearance:textfield}"})]})});s.displayName="Range",e.s(["default",0,s])},2894,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(33720),l=e.i(483635),s=e.i(488094);function n({options:e,onChange:n}){let[i,o]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=[38,38,40,40,37,39,37,39,66,65],t=0,r=r=>{r.keyCode===e[t]?++t===e.length&&(o(!0),t=0):t=0};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[]);let d=t=>{n({...e,...t})},c=1===e.zx;return(0,t.jsxs)("div",{className:"d-flex flex-column gap-4",children:[(0,t.jsx)(a.default,{in:i,children:(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,t.jsx)("span",{className:"fw-medium",children:"Type"}),(0,t.jsxs)(l.default,{value:e.zx,onChange:e=>d({zx:Number(e.target.value)}),children:[(0,t.jsx)("option",{value:0,children:"Standard"}),(0,t.jsx)("option",{value:1,children:"ZX"})]})]})})}),(0,t.jsx)(a.default,{in:!c,children:(0,t.jsx)("div",{children:(0,t.jsx)(s.default,{min:2,max:256,value:e.maxNumColors,onChange:e=>d({maxNumColors:Number(e.target.value)}),children:"Colors"})})}),(0,t.jsx)(s.default,{min:0,max:1,step:.01,value:e.dither,onChange:e=>d({dither:Number(e.target.value)}),children:"Dithering"})]})}var i=e.i(570766);function o(){let e=(0,r.useRef)(null),a=(0,r.useRef)(null),l=(0,r.useRef)(null),s=(0,r.useRef)(null),[o,d]=(0,r.useState)(null),[c,u]=(0,r.useState)(0),[f,m]=(0,r.useState)(0),[p,h]=(0,r.useState)(null),[x,g]=(0,r.useState)(null),[b,y]=(0,r.useState)([]),[v,w]=(0,r.useState)(!1),[j,N]=(0,r.useState)({zx:0,maxNumColors:256,dither:.5});return(0,r.useEffect)(()=>{o&&(async()=>{w(!0);try{let e=new AbortController,t=new OffscreenCanvas(o.naturalWidth,o.naturalHeight).getContext("2d");if(!t)throw Error("Failed to get context");t.drawImage(o,0,0);let r=t.getImageData(0,0,o.naturalWidth,o.naturalHeight),a=await i.processor.quantize(e.signal,r,j);g(a);let l=new Set,s=a.data;for(let e=0;e<s.length;e+=4){let t=s[e],r=s[e+1],a=s[e+2],n=`#${t.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}`;l.add(n.toUpperCase())}y(Array.from(l).sort())}catch(e){console.error("Quantization failed:",e)}finally{w(!1)}})()},[o,j]),(0,r.useEffect)(()=>{if(!x||!e.current)return;let t=e.current;t.width=x.width,t.height=x.height;let r=t.getContext("2d");r&&r.putImageData(x,0,0)},[x]),(0,r.useEffect)(()=>{if(!b.length||!a.current)return;let e=a.current,t=e.getContext("2d");if(!t)return;let r=Math.floor(e.width/38);e.height=38*Math.ceil(b.length/r)+8,t.fillStyle="#f8f9fa",t.fillRect(0,0,e.width,e.height),b.forEach((e,a)=>{let l=8+a%r*38,s=8+38*Math.floor(a/r);t.fillStyle=e,t.fillRect(l,s,30,30),t.strokeStyle="#ddd",t.lineWidth=2,t.strokeRect(l,s,30,30)})},[b]),(0,t.jsx)("div",{className:"min-vh-100 bg-body d-flex align-items-center justify-content-center p-4",children:(0,t.jsxs)("div",{className:"card shadow-lg",style:{maxWidth:"1000px",width:"100%"},children:[(0,t.jsxs)("div",{className:"card-header bg-primary text-white text-center py-4",children:[(0,t.jsx)("h4",{className:"mb-0",children:"Palette Reduction Demo (Live with ImageProcessor)"}),(0,t.jsx)("small",{className:"d-block mt-2 opacity-75",children:"Try the Konami code â†‘â†‘â†“â†“â†â†’â†â†’BA to unlock hidden settings!"})]}),(0,t.jsxs)("div",{className:"card-body p-4",children:[(0,t.jsxs)("div",{className:"text-center mb-5",children:[(0,t.jsx)("input",{ref:l,type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(!t)return;let r=new FileReader;r.onload=e=>{let t=e.target?.result;h(t);let r=new Image;r.onload=()=>{d(r),u(r.naturalWidth),m(r.naturalHeight)},r.src=t},r.readAsDataURL(t)},style:{display:"none"}}),(0,t.jsx)("button",{onClick:()=>l.current?.click(),className:"btn btn-outline-primary btn-lg",children:"ðŸ“ Upload Image to Test Quantization"}),p&&(0,t.jsxs)("p",{className:"mt-3 text-muted",children:["Loaded: ",c," Ã— ",f," pixels"]})]}),o?(0,t.jsxs)("div",{className:"row g-4",children:[(0,t.jsxs)("div",{className:"col-lg-6",children:[(0,t.jsx)("h5",{className:"mb-3",children:"Original Image"}),(0,t.jsx)("div",{className:"border rounded overflow-hidden shadow-sm mb-4",children:(0,t.jsx)("img",{src:p,alt:"Original",style:{width:"100%",height:"auto",display:"block"}})}),(0,t.jsx)("h5",{children:"Quantization Controls"}),(0,t.jsx)(n,{options:j,onChange:N})]}),(0,t.jsxs)("div",{className:"col-lg-6",children:[(0,t.jsxs)("h5",{className:"mb-3",children:["Quantized Result ",v&&"(Processing...)"]}),(0,t.jsx)("div",{className:"border rounded overflow-hidden shadow-sm bg-white mb-4",children:v?(0,t.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center py-5",children:[(0,t.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,t.jsx)("span",{className:"visually-hidden",children:"Processing..."})}),(0,t.jsx)("p",{className:"mt-3 text-muted",children:"Applying palette reduction..."})]}):(0,t.jsx)("canvas",{ref:e,style:{maxWidth:"100%",height:"auto",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",borderRadius:"6px"}})}),!v&&x&&(0,t.jsxs)("div",{className:"text-center mb-4",children:[(0,t.jsx)("button",{onClick:()=>{x&&e.current&&e.current.toBlob(e=>{if(!e)return;let t=URL.createObjectURL(e);s.current&&(s.current.href=t,s.current.download=`quantized_${j.maxNumColors}colors.png`,s.current.click()),URL.revokeObjectURL(t)},"image/png")},className:"btn btn-success btn-lg",children:"â¬‡ï¸ Download Quantized PNG"}),(0,t.jsx)("a",{ref:s,style:{display:"none"}})]}),b.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h5",{className:"mb-3",children:["Color Palette (",b.length," colors)"]}),(0,t.jsxs)("div",{className:"border rounded p-3 bg-light",children:[(0,t.jsx)("canvas",{ref:a,width:480,style:{maxWidth:"100%",height:"auto",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},title:b.join("\n")}),(0,t.jsxs)("p",{className:"mt-2 text-center text-muted small",children:[b.length," unique colors used"]})]})]})]})]}):(0,t.jsxs)("div",{className:"text-center py-5",children:[(0,t.jsx)("p",{className:"text-muted",children:"No image uploaded yet."}),(0,t.jsx)("p",{children:"Upload an image above to see live palette reduction."})]})]}),(0,t.jsx)("div",{className:"card-footer bg-body-tertiary text-center py-3",children:(0,t.jsxs)("div",{className:"small text-muted",children:["Current settings:",(0,t.jsx)("pre",{className:"d-inline-block ms-2 mb-0 text-start bg-body border rounded px-3 py-2",children:JSON.stringify(j,null,2)})]})})]})})}e.s(["default",()=>o],2894)}]);