(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41515,e=>{e.v(e.b(["static/chunks/3c2180c4538cae39.js","static/chunks/65a07582177f60de.js","static/chunks/turbopack-5508bbbf7b6b697d.js"]))},925306,e=>{e.v(e.b(["static/chunks/12b9f27bee298e4f.js","static/chunks/65a07582177f60de.js","static/chunks/turbopack-9bb826bbae85109c.js"]))},327505,e=>{e.v({file:"index-module-scss-module__Z2SdlW__file"})},210670,e=>{e.v({active:"index-module-scss-module__fwuHyG__active",container:"index-module-scss-module__fwuHyG__container",inner:"index-module-scss-module__fwuHyG__inner",mask:"index-module-scss-module__fwuHyG__mask",pasteHint:"index-module-scss-module__fwuHyG__pasteHint"})},598244,(e,t,n)=>{"use strict";n.match=function(e,t){return l(e).some(function(e){var n=e.inverse,i="all"===e.type||t.type===e.type;if(i&&n||!(i||n))return!1;var r=e.expressions.every(function(e){var n=e.feature,i=e.modifier,r=e.value,s=t[n];if(!s)return!1;switch(n){case"orientation":case"scan":return s.toLowerCase()===r.toLowerCase();case"width":case"height":case"device-width":case"device-height":r=d(r),s=d(s);break;case"resolution":r=c(r),s=c(s);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":r=u(r),s=u(s);break;case"grid":case"color":case"color-index":case"monochrome":r=parseInt(r,10)||1,s=parseInt(s,10)||0}switch(i){case"min":return s>=r;case"max":return s<=r;default:return s===r}});return r&&!n||!r&&n})},n.parse=l;var i=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,r=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,s=/^(?:(min|max)-)?(.+)/,a=/(em|rem|px|cm|mm|in|pt|pc)?$/,o=/(dpi|dpcm|dppx)?$/;function l(e){return e.split(",").map(function(e){var t=(e=e.trim()).match(i),n=t[1],a=t[2],o=t[3]||"",l={};return l.inverse=!!n&&"not"===n.toLowerCase(),l.type=a?a.toLowerCase():"all",l.expressions=(o=o.match(/\([^\)]+\)/g)||[]).map(function(e){var t=e.match(r),n=t[1].toLowerCase().match(s);return{modifier:n[1],feature:n[2],value:t[2]}}),l})}function u(e){var t,n=Number(e);return n||(n=(t=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/t[2]),n}function c(e){var t=parseFloat(e);switch(String(e).match(o)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function d(e){var t=parseFloat(e);switch(String(e).match(a)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}},874144,(e,t,n)=>{"use strict";var i=e.r(598244).match,r="undefined"!=typeof window?window.matchMedia:null;function s(e,t,n){var s,a=this;function o(e){a.matches=e.matches,a.media=e.media}r&&!n&&(s=r.call(window,e)),s?(this.matches=s.matches,this.media=s.media,s.addListener(o)):(this.matches=i(e,t),this.media=e),this.addListener=function(e){s&&s.addListener(e)},this.removeListener=function(e){s&&s.removeListener(e)},this.dispose=function(){s&&s.removeListener(o)}}t.exports=function(e,t,n){return new s(e,t,n)}},627911,e=>{e.v({IndicatorRun:"index-module-scss-module__xUP1OG__IndicatorRun",container:"index-module-scss-module__xUP1OG__container",large:"index-module-scss-module__xUP1OG__large",white:"index-module-scss-module__xUP1OG__white"})},700362,e=>{e.v({action:"index-module-scss-module__Z3SrLW__action",actionlink:"index-module-scss-module__Z3SrLW__actionlink",container:"index-module-scss-module__Z3SrLW__container",content:"index-module-scss-module__Z3SrLW__content",fileok:"index-module-scss-module__Z3SrLW__fileok",github:"index-module-scss-module__Z3SrLW__github",header:"index-module-scss-module__Z3SrLW__header",locale:"index-module-scss-module__Z3SrLW__locale",main:"index-module-scss-module__Z3SrLW__main",name:"index-module-scss-module__Z3SrLW__name",preview:"index-module-scss-module__Z3SrLW__preview",status:"index-module-scss-module__Z3SrLW__status"})},682980,e=>{e.v({optionHelp:"index-module-scss-module__i4M26G__optionHelp",optionHelpBox:"index-module-scss-module__i4M26G__optionHelpBox",sideMobile:"index-module-scss-module__i4M26G__sideMobile",sidePad:"index-module-scss-module__i4M26G__sidePad",sidePc:"index-module-scss-module__i4M26G__sidePc"})},53331,e=>{e.v({container:"index-module-scss-module__cBEnnG__container",desc:"index-module-scss-module__cBEnnG__desc"})},482791,e=>{e.v({BoxHide:"index-module-scss-module__EZuDuq__BoxHide",BoxShow:"index-module-scss-module__EZuDuq__BoxShow",action:"index-module-scss-module__EZuDuq__action",after:"index-module-scss-module__EZuDuq__after",before:"index-module-scss-module__EZuDuq__before",container:"index-module-scss-module__EZuDuq__container",hide:"index-module-scss-module__EZuDuq__hide",moving:"index-module-scss-module__EZuDuq__moving",show:"index-module-scss-module__EZuDuq__show"})},687124,e=>{"use strict";var t,n,i,r,s,a,o,l,u,c,d,h,f,p,m,v,g=e.i(843476),b=e.i(958155),_=e.i(59042),y=e.i(195883);function x(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}function j(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:e.g}e.i(247167);var w=Object.assign,S=Object.getOwnPropertyDescriptor,O=Object.defineProperty,N=Object.prototype,k=[];Object.freeze(k);var C={};Object.freeze(C);var A="undefined"!=typeof Proxy,E=Object.toString();function M(){A||x("Proxy not available")}function P(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var L=function(){};function R(e){return"function"==typeof e}function D(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function z(e){return null!==e&&"object"==typeof e}function V(e){if(!z(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===E}function T(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function B(e,t,n){O(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function I(e,t,n){O(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function H(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return z(e)&&!0===e[n]}}function q(e){return null!=e&&"[object Map]"===Object.prototype.toString.call(e)}function W(e){return null!=e&&"[object Set]"===Object.prototype.toString.call(e)}var U=void 0!==Object.getOwnPropertySymbols,G="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:U?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function $(e){return null===e?null:"object"==typeof e?""+e:e}function F(e,t){return N.hasOwnProperty.call(e,t)}var K=Object.getOwnPropertyDescriptors||function(e){var t={};return G(e).forEach(function(n){t[n]=S(e,n)}),t};function Z(e,t,n){return n?e|=t:e&=~t,e}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function X(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}function Q(e,t,n){return t&&X(e.prototype,t),n&&X(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function J(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Y(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ee(){return(ee=Object.assign.bind()).apply(null,arguments)}function et(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,en(e,t)}function en(e,t){return(en=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ei=Symbol("mobx-stored-annotations");function er(e){return Object.assign(function(t,n){if(ea(n))return e.decorate_20223_(t,n);es(t,n,e)},e)}function es(e,t,n){F(e,ei)||B(e,ei,ee({},e[ei])),"override"!==n.annotationType_&&(e[ei][t]=n)}function ea(e){return"object"==typeof e&&"string"==typeof e.kind}var eo=Symbol("mobx administration"),el=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=h.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.reportObserved=function(){return tb(this)},t.reportChanged=function(){tv(),t_(this),tg()},t.toString=function(){return this.name_},Q(e,[{key:"isBeingObserved",get:function(){return!!(this.flags_&e.isBeingObservedMask_)},set:function(t){this.flags_=Z(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return!!(this.flags_&e.isPendingUnobservationMask_)},set:function(t){this.flags_=Z(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return+!!(this.flags_&e.diffValueMask_)},set:function(t){this.flags_=Z(this.flags_,e.diffValueMask_,1===t)}}])}();el.isBeingObservedMask_=1,el.isPendingUnobservationMask_=2,el.diffValueMask_=4;var eu=H("Atom",el);function ec(e,t,n){void 0===t&&(t=L),void 0===n&&(n=L);var i=new el(e);return t!==L&&tV("onBO",i,t,void 0),n!==L&&tz(i,n),i}var ed=function(e,t){return nD(e,t)},eh=function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t};function ef(e,t,n){if(tF(e))return e;if(Array.isArray(e))return e$.array(e,{name:n});if(V(e))return e$.object(e,void 0,{name:n});if(q(e))return e$.map(e,{name:n});if(W(e))return e$.set(e,{name:n});if("function"==typeof e&&!tR(e)&&!t$(e))if(T(e))return tU(e);else return tL(n,e);return e}function ep(e){return e}function em(e,t){return{annotationType_:e,options_:t,make_:ev,extend_:eg,decorate_20223_:eb}}function ev(e,t,n,i){if(null!=(r=this.options_)&&r.bound)return+(null!==this.extend_(e,t,n,!1));if(i===e.target_)return 2*(null!==this.extend_(e,t,n,!1));if(tR(n.value))return 1;var r,s=e_(e,this,t,n,!1);return O(i,t,s),2}function eg(e,t,n,i){var r=e_(e,this,t,n);return e.defineProperty_(t,r,i)}function eb(e,t){var n,i=t.kind,r=t.name,s=t.addInitializer,a=this,o=function(e){var t,n,i,s;return e1(null!=(t=null==(n=a.options_)?void 0:n.name)?t:r.toString(),e,null!=(i=null==(s=a.options_)?void 0:s.autoAction)&&i)};return"field"==i?function(e){var t,n=e;return tR(n)||(n=o(n)),null!=(t=a.options_)&&t.bound&&((n=n.bind(this)).isMobxAction=!0),n}:"method"==i?(tR(e)||(e=o(e)),null!=(n=this.options_)&&n.bound&&s(function(){var e=this[r].bind(this);e.isMobxAction=!0,this[r]=e}),e):void x("Cannot apply '"+a.annotationType_+"' to '"+String(r)+"' (kind: "+i+"):\n'"+a.annotationType_+"' can only be used on properties with a function value.")}function e_(e,t,n,i,r){void 0===r&&(r=tf.safeDescriptors),t.annotationType_,i.value;var s,a,o,l,u,c,d,h,f=i.value;return null!=(s=t.options_)&&s.bound&&(f=f.bind(null!=(h=e.proxy_)?h:e.target_)),{value:e1(null!=(a=null==(o=t.options_)?void 0:o.name)?a:n.toString(),f,null!=(l=null==(u=t.options_)?void 0:u.autoAction)&&l,null!=(c=t.options_)&&c.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!r||e.isPlainObject_,enumerable:!1,writable:!r}}function ey(e,t){return{annotationType_:e,options_:t,make_:ex,extend_:ej,decorate_20223_:ew}}function ex(e,t,n,i){if(i===e.target_)return 2*(null!==this.extend_(e,t,n,!1));if(null!=(r=this.options_)&&r.bound&&(!F(e.target_,t)||!t$(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(t$(n.value))return 1;var r,s=eS(e,this,t,n,!1,!1);return O(i,t,s),2}function ej(e,t,n,i){var r,s=eS(e,this,t,n,null==(r=this.options_)?void 0:r.bound);return e.defineProperty_(t,s,i)}function ew(e,t){var n,i=t.name,r=t.addInitializer;return t$(e)||(e=tU(e)),null!=(n=this.options_)&&n.bound&&r(function(){var e=this[i].bind(this);e.isMobXFlow=!0,this[i]=e}),e}function eS(e,t,n,i,r,s){void 0===s&&(s=tf.safeDescriptors),t.annotationType_,i.value;var a,o=i.value;return t$(o)||(o=tU(o)),r&&((o=o.bind(null!=(a=e.proxy_)?a:e.target_)).isMobXFlow=!0),{value:o,configurable:!s||e.isPlainObject_,enumerable:!1,writable:!s}}function eO(e,t){return{annotationType_:e,options_:t,make_:eN,extend_:ek,decorate_20223_:eC}}function eN(e,t,n){return+(null!==this.extend_(e,t,n,!1))}function ek(e,t,n,i){var r,s;return r=this,s=n,r.annotationType_,s.get,e.defineComputedProperty_(t,ee({},this.options_,{get:n.get,set:n.set}),i)}function eC(e,t){var n=this,i=t.name;return(0,t.addInitializer)(function(){var t=nb(this)[eo],r=ee({},n.options_,{get:e,context:this});r.name||(r.name="ObservableObject."+i.toString()),t.values_.set(i,new e6(r))}),function(){return this[eo].getObservablePropValue_(i)}}function eA(e,t){return{annotationType_:e,options_:t,make_:eE,extend_:eM,decorate_20223_:eP}}function eE(e,t,n){return+(null!==this.extend_(e,t,n,!1))}function eM(e,t,n,i){var r,s,a;return a=this,a.annotationType_,e.defineObservableProperty_(t,n.value,null!=(r=null==(s=this.options_)?void 0:s.enhancer)?r:ef,i)}function eP(e,t){var n=this,i=t.kind,r=t.name,s=new WeakSet;function a(e,t){var i,a,o=nb(e)[eo],l=new e5(t,null!=(i=null==(a=n.options_)?void 0:a.enhancer)?i:ef,"ObservableObject."+r.toString(),!1);o.values_.set(r,l),s.add(e)}if("accessor"==i)return{get:function(){return s.has(this)||a(this,e.get.call(this)),this[eo].getObservablePropValue_(r)},set:function(e){return s.has(this)||a(this,e),this[eo].setObservablePropValue_(r,e)},init:function(e){return s.has(this)||a(this,e),e}}}var eL=eR();function eR(e){return{annotationType_:"true",options_:e,make_:eD,extend_:ez,decorate_20223_:eV}}function eD(e,t,n,i){if(n.get)return eY.make_(e,t,n,i);if(n.set){var r,s,a,o,l,u=tR(n.set)?n.set:e1(t.toString(),n.set);return i===e.target_?2*(null!==e.defineProperty_(t,{configurable:!tf.safeDescriptors||e.isPlainObject_,set:u})):(O(i,t,{configurable:!0,set:u}),2)}if(i!==e.target_&&"function"==typeof n.value)return T(n.value)?(null!=(o=this.options_)&&o.autoBind?tU.bound:tU).make_(e,t,n,i):(null!=(a=this.options_)&&a.autoBind?tL.bound:tL).make_(e,t,n,i);var c=(null==(r=this.options_)?void 0:r.deep)===!1?e$.ref:e$;return"function"==typeof n.value&&null!=(s=this.options_)&&s.autoBind&&(n.value=n.value.bind(null!=(l=e.proxy_)?l:e.target_)),c.make_(e,t,n,i)}function ez(e,t,n,i){var r,s,a;return n.get?eY.extend_(e,t,n,i):n.set?e.defineProperty_(t,{configurable:!tf.safeDescriptors||e.isPlainObject_,set:e1(t.toString(),n.set)},i):("function"==typeof n.value&&null!=(r=this.options_)&&r.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_)),((null==(s=this.options_)?void 0:s.deep)===!1?e$.ref:e$).extend_(e,t,n,i))}function eV(e,t){x("'"+this.annotationType_+"' cannot be used as a decorator")}var eT={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(eT);var eB=eA("observable"),eI=eA("observable.ref",{enhancer:ep}),eH=eA("observable.shallow",{enhancer:function(e,t,n){return null==e||nx(e)||ns(e)||nu(e)||nf(e)?e:Array.isArray(e)?e$.array(e,{name:n,deep:!1}):V(e)?e$.object(e,void 0,{name:n,deep:!1}):q(e)?e$.map(e,{name:n,deep:!1}):W(e)?e$.set(e,{name:n,deep:!1}):void 0}}),eq=eA("observable.struct",{enhancer:function(e,t){return nD(e,t)?t:e}}),eW=er(eB);function eU(e){var t,n,i;return!0===e.deep?ef:!1===e.deep?ep:(t=e.defaultDecorator)&&null!=(n=null==(i=t.options_)?void 0:i.enhancer)?n:ef}function eG(e,t,n){return ea(t)?eB.decorate_20223_(e,t):D(t)?void es(e,t,eB):tF(e)?e:V(e)?e$.object(e,t,n):Array.isArray(e)?e$.array(e,t):q(e)?e$.map(e,t):W(e)?e$.set(e,t):"object"==typeof e&&null!==e?e:e$.box(e,t)}w(eG,eW);var e$=w(eG,{box:function(e,t){var n=t||eT;return new e5(e,eU(n),n.name,!0,n.equals)},array:function(e,t){var n=t||eT;return(!1===tf.useProxies||!1===n.proxy?function(e,t,n){return new nC(e,t,n)}:function(e,t,n,i){return void 0===n&&(n="ObservableArray"),void 0===i&&(i=!1),M(),nL(function(){var r=new t7(n,t,i,!1);I(r.values_,eo,r);var s=new Proxy(r.values_,t8);return r.proxy_=s,e&&e.length&&r.spliceWithArray_(0,0,e),s})})(e,eU(n),n.name)},map:function(e,t){var n=t||eT;return new nl(e,eU(n),n.name)},set:function(e,t){var n=t||eT;return new nh(e,eU(n),n.name)},object:function(e,t,n){return nL(function(){var i,r,s,a;return tB(!1===tf.useProxies||(null==n?void 0:n.proxy)===!1?nb({},n):(i={},r=n,M(),null!=(a=(s=(i=nb(i,r))[eo]).proxy_)?a:s.proxy_=new Proxy(i,tX)),e,t)})},ref:er(eI),shallow:er(eH),deep:eW,struct:er(eq)}),eF="computed",eK=eO(eF),eZ=eO("computed.struct",{equals:ed}),eY=function(e,t){if(ea(t))return eK.decorate_20223_(e,t);if(D(t))return es(e,t,eK);if(V(e))return er(eO(eF,e));var n=V(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new e6(n)};Object.assign(eY,eK),eY.struct=er(eZ);var eX=0,eQ=1,eJ=null!=(c=null==(d=S(function(){},"name"))?void 0:d.configurable)&&c,e0={value:"action",configurable:!0,writable:!1,enumerable:!1};function e1(e,t,n,i){function r(){return function(e,t,n,i,r){var s,a,o,l,u,c,d=(s=t,a=tf.trackingDerivation,o=!s||!a,tv(),l=tf.allowStateChanges,o&&(ts(),l=e3(!0)),eX=(u={runAsAction_:o,prevDerivation_:a,prevAllowStateChanges_:l,prevAllowStateReads_:to(!0),notifySpy_:!1,startTime_:0,actionId_:eQ++,parentActionId_:eX}).actionId_,u);try{return n.apply(i,r)}catch(e){throw d.error_=e,e}finally{eX!==(c=d).actionId_&&x(30),eX=c.parentActionId_,void 0!==c.error_&&(tf.suppressReactionErrors=!0),e2(c.prevAllowStateChanges_),tl(c.prevAllowStateReads_),tg(),c.runAsAction_&&ta(c.prevDerivation_),tf.suppressReactionErrors=!1}}(e,n,t,i||this,arguments)}return void 0===n&&(n=!1),r.isMobxAction=!0,r.toString=function(){return t.toString()},eJ&&(e0.value=e,O(r,"name",e0)),r}function e3(e){var t=tf.allowStateChanges;return tf.allowStateChanges=e,t}function e2(e){tf.allowStateChanges=e}var e5=function(e){function t(t,n,i,r,s){var a;return void 0===i&&(i="ObservableValue"),void 0===r&&(r=!0),void 0===s&&(s=eh),(a=e.call(this,i)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=i,a.equals=s,a.value_=n(t,void 0,i),a}et(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==tf.UNCHANGED&&this.setNewValue_(e)},n.prepareNewValue_=function(e){if(tt(this),tQ(this)){var t=t0(this,{object:this,type:t6,newValue:e});if(!t)return tf.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?tf.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),t1(this)&&t2(this,{type:t6,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return tJ(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:t6,newValue:this.value_,oldValue:void 0}),t3(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return $(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(el),e4=H("ObservableValue",e5),e6=function(){function e(e){this.dependenciesState_=h.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=h.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new e7(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=f.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||x(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=e1("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?ed:eh),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){var e;e=this,e.lowestObserverState_===h.UP_TO_DATE_&&(e.lowestObserverState_=h.POSSIBLY_STALE_,e.observers_.forEach(function(e){e.dependenciesState_===h.UP_TO_DATE_&&(e.dependenciesState_=h.POSSIBLY_STALE_,e.onBecomeStale_())}))},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.get=function(){if(this.isComputing&&x(32,this.name_,this.derivation),0!==tf.inBatch||0!==this.observers_.size||this.keepAlive_){if(tb(this),te(this)){var e,t=tf.trackingContext;this.keepAlive_&&!t&&(tf.trackingContext=this),this.trackAndCompute()&&(e=this,e.lowestObserverState_!==h.STALE_&&(e.lowestObserverState_=h.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===h.POSSIBLY_STALE_?t.dependenciesState_=h.STALE_:t.dependenciesState_===h.UP_TO_DATE_&&(e.lowestObserverState_=h.UP_TO_DATE_)}))),tf.trackingContext=t}}else te(this)&&(this.warnAboutUntrackedRead_(),tv(),this.value_=this.computeValue_(!1),tg());var n=this.value_;if(e9(n))throw n.cause;return n},t.set=function(e){if(this.setter_){this.isRunningSetter&&x(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter=!1}}else x(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===h.NOT_TRACKING_,n=this.computeValue_(!0),i=t||e9(e)||e9(n)||!this.equals_(e,n);return i&&(this.value_=n),i},t.computeValue_=function(e){this.isComputing=!0;var t,n=e3(!1);if(e)t=tn(this,this.derivation,this.scope_);else if(!0===tf.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new e7(e)}return e2(n),this.isComputing=!1,t},t.suspend_=function(){this.keepAlive_||(ti(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,i=!0,r=void 0;return function(e,t){void 0===t&&(t=C);var n,i,r,s,a,o=null!=(n=null==(i=t)?void 0:i.name)?n:"Autorun";if(t.scheduler||t.delay){var l,u=(l=t).scheduler?l.scheduler:l.delay?function(e){return setTimeout(e,l.delay)}:tD,c=!1;a=new ty(o,function(){c||(c=!0,u(function(){c=!1,a.isDisposed||a.track(d)}))},t.onError,t.requiresObservable)}else a=new ty(o,function(){this.track(d)},t.onError,t.requiresObservable);function d(){e(a)}return null!=(r=t)&&null!=(r=r.signal)&&r.aborted||a.schedule_(),a.getDisposer_(null==(s=t)?void 0:s.signal)}(function(){var s=n.get();if(!i||t){var a=ts();e({observableKind:"computed",debugObjectName:n.name_,type:t6,object:n,newValue:s,oldValue:r}),ta(a)}i=!1,r=s})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return $(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Q(e,[{key:"isComputing",get:function(){return!!(this.flags_&e.isComputingMask_)},set:function(t){this.flags_=Z(this.flags_,e.isComputingMask_,t)}},{key:"isRunningSetter",get:function(){return!!(this.flags_&e.isRunningSetterMask_)},set:function(t){this.flags_=Z(this.flags_,e.isRunningSetterMask_,t)}},{key:"isBeingObserved",get:function(){return!!(this.flags_&e.isBeingObservedMask_)},set:function(t){this.flags_=Z(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return!!(this.flags_&e.isPendingUnobservationMask_)},set:function(t){this.flags_=Z(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return+!!(this.flags_&e.diffValueMask_)},set:function(t){this.flags_=Z(this.flags_,e.diffValueMask_,1===t)}}])}();e6.isComputingMask_=1,e6.isRunningSetterMask_=2,e6.isBeingObservedMask_=4,e6.isPendingUnobservationMask_=8,e6.diffValueMask_=16;var e8=H("ComputedValue",e6);(t=h||(h={}))[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_",(n=f||(f={}))[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK";var e7=function(e){this.cause=void 0,this.cause=e};function e9(e){return e instanceof e7}function te(e){switch(e.dependenciesState_){case h.UP_TO_DATE_:return!1;case h.NOT_TRACKING_:case h.STALE_:return!0;case h.POSSIBLY_STALE_:for(var t=to(!0),n=ts(),i=e.observing_,r=i.length,s=0;s<r;s++){var a=i[s];if(e8(a)){if(tf.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return ta(n),tl(t),!0}if(e.dependenciesState_===h.STALE_)return ta(n),tl(t),!0}}return tu(e),ta(n),tl(t),!1}}function tt(e){}function tn(e,t,n){var i,r=to(!0);tu(e),e.newObserving_=Array(0===e.runId_?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++tf.runId;var s=tf.trackingDerivation;if(tf.trackingDerivation=e,tf.inBatch++,!0===tf.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new e7(e)}return tf.inBatch--,tf.trackingDerivation=s,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,i=h.UP_TO_DATE_,r=0,s=e.unboundDepsCount_,a=0;a<s;a++){var o=n[a];0===o.diffValue&&(o.diffValue=1,r!==a&&(n[r]=o),r++),o.dependenciesState_>i&&(i=o.dependenciesState_)}for(n.length=r,e.newObserving_=null,s=t.length;s--;){var l=t[s];0===l.diffValue&&tp(l,e),l.diffValue=0}for(;r--;){var u,c,d=n[r];1===d.diffValue&&(d.diffValue=0,u=d,c=e,u.observers_.add(c),u.lowestObserverState_>c.dependenciesState_&&(u.lowestObserverState_=c.dependenciesState_))}i!==h.UP_TO_DATE_&&(e.dependenciesState_=i,e.onBecomeStale_())}(e),tl(r),i}function ti(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)tp(t[n],e);e.dependenciesState_=h.NOT_TRACKING_}function tr(e){var t=ts();try{return e()}finally{ta(t)}}function ts(){var e=tf.trackingDerivation;return tf.trackingDerivation=null,e}function ta(e){tf.trackingDerivation=e}function to(e){var t=tf.allowStateReads;return tf.allowStateReads=e,t}function tl(e){tf.allowStateReads=e}function tu(e){if(e.dependenciesState_!==h.UP_TO_DATE_){e.dependenciesState_=h.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=h.UP_TO_DATE_}}var tc=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},td=!0,th=!1,tf=((i=j()).__mobxInstanceCount>0&&!i.__mobxGlobals&&(td=!1),i.__mobxGlobals&&i.__mobxGlobals.version!==new tc().version&&(td=!1),td)?i.__mobxGlobals?(i.__mobxInstanceCount+=1,i.__mobxGlobals.UNCHANGED||(i.__mobxGlobals.UNCHANGED={}),i.__mobxGlobals):(i.__mobxInstanceCount=1,i.__mobxGlobals=new tc):(setTimeout(function(){th||x(35)},1),new tc);function tp(e,t){e.observers_.delete(t),0===e.observers_.size&&tm(e)}function tm(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,tf.pendingUnobservations.push(e))}function tv(){tf.inBatch++}function tg(){if(0==--tf.inBatch){tj();for(var e=tf.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers_.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof e6&&n.suspend_())}tf.pendingUnobservations=[]}}function tb(e){var t=tf.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&tf.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(0===e.observers_.size&&tf.inBatch>0&&tm(e),!1)}function t_(e){e.lowestObserverState_!==h.STALE_&&(e.lowestObserverState_=h.STALE_,e.observers_.forEach(function(e){e.dependenciesState_===h.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=h.STALE_}))}var ty=function(){function e(e,t,n,i){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=h.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=f.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=i}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,tf.pendingReactions.push(this),tj())},t.runReaction_=function(){if(!this.isDisposed){tv(),this.isScheduled=!1;var e=tf.trackingContext;if(tf.trackingContext=this,te(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}tf.trackingContext=e,tg()}},t.track=function(e){if(!this.isDisposed){tv(),this.isRunning=!0;var t=tf.trackingContext;tf.trackingContext=this;var n=tn(this,e,void 0);tf.trackingContext=t,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&ti(this),e9(n)&&this.reportExceptionInDerivation_(n.cause),tg()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)return void this.errorHandler_(e,this);if(tf.disableErrorBoundaries)throw e;tf.suppressReactionErrors||console.error("[mobx] uncaught error in '"+this+"'",e),tf.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})},t.dispose=function(){!this.isDisposed&&(this.isDisposed=!0,this.isRunning||(tv(),ti(this),tg()))},t.getDisposer_=function(e){var t=this,n=function n(){t.dispose(),null==e||null==e.removeEventListener||e.removeEventListener("abort",n)};return null==e||null==e.addEventListener||e.addEventListener("abort",n),n[eo]=this,"dispose"in Symbol&&"symbol"==typeof Symbol.dispose&&(n[Symbol.dispose]=n),n},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1)},Q(e,[{key:"isDisposed",get:function(){return!!(this.flags_&e.isDisposedMask_)},set:function(t){this.flags_=Z(this.flags_,e.isDisposedMask_,t)}},{key:"isScheduled",get:function(){return!!(this.flags_&e.isScheduledMask_)},set:function(t){this.flags_=Z(this.flags_,e.isScheduledMask_,t)}},{key:"isTrackPending",get:function(){return!!(this.flags_&e.isTrackPendingMask_)},set:function(t){this.flags_=Z(this.flags_,e.isTrackPendingMask_,t)}},{key:"isRunning",get:function(){return!!(this.flags_&e.isRunningMask_)},set:function(t){this.flags_=Z(this.flags_,e.isRunningMask_,t)}},{key:"diffValue",get:function(){return+!!(this.flags_&e.diffValueMask_)},set:function(t){this.flags_=Z(this.flags_,e.diffValueMask_,1===t)}}])}();ty.isDisposedMask_=1,ty.isScheduledMask_=2,ty.isTrackPendingMask_=4,ty.isRunningMask_=8,ty.diffValueMask_=16;var tx=function(e){return e()};function tj(){tf.inBatch>0||tf.isRunningReactions||tx(tw)}function tw(){tf.isRunningReactions=!0;for(var e=tf.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction_()}tf.isRunningReactions=!1}var tS=H("Reaction",ty),tO="action",tN="autoAction",tk=em(tO),tC=em("action.bound",{bound:!0}),tA=em(tN,{autoAction:!0}),tE=em("autoAction.bound",{autoAction:!0,bound:!0});function tM(e){return function(t,n){return R(t)?e1(t.name||"<unnamed action>",t,e):R(n)?e1(t,n,e):ea(n)?(e?tA:tk).decorate_20223_(t,n):D(n)?es(t,n,e?tA:tk):D(t)?er(em(e?tN:tO,{name:t,autoAction:e})):void 0}}var tP=tM(!1);Object.assign(tP,tk);var tL=tM(!0);function tR(e){return R(e)&&!0===e.isMobxAction}Object.assign(tL,tA),tP.bound=er(tC),tL.bound=er(tE);var tD=function(e){return e()};function tz(e,t,n){return tV("onBUO",e,t,n)}function tV(e,t,n,i){var r="function"==typeof i?nM(t,n):nM(t),s=R(i)?i:n,a=e+"L";return r[a]?r[a].add(s):r[a]=new Set([s]),function(){var e=r[a];e&&(e.delete(s),0===e.size&&delete r[a])}}var tT="always";function tB(e,t,n,i){var r=K(t);return nL(function(){var t=nb(e,i)[eo];G(r).forEach(function(e){t.extend_(e,r[e],!n||!(e in n)||n[e])})}),e}var tI=0;function tH(){this.message="FLOW_CANCELLED"}tH.prototype=Object.create(Error.prototype);var tq=ey("flow"),tW=ey("flow.bound",{bound:!0}),tU=Object.assign(function(e,t){if(ea(t))return tq.decorate_20223_(e,t);if(D(t))return es(e,t,tq);var n=e.name||"<unnamed flow>",i=function(){var t,i=arguments,r=++tI,s=tP(n+" - runid: "+r+" - init",e).apply(this,i),a=void 0,o=new Promise(function(e,i){var o=0;function l(e){var t;a=void 0;try{t=tP(n+" - runid: "+r+" - yield "+o++,s.next).call(s,e)}catch(e){return i(e)}c(t)}function u(e){var t;a=void 0;try{t=tP(n+" - runid: "+r+" - yield "+o++,s.throw).call(s,e)}catch(e){return i(e)}c(t)}function c(t){return R(null==t?void 0:t.then)?void t.then(c,i):t.done?e(t.value):(a=Promise.resolve(t.value)).then(l,u)}t=i,l(void 0)});return o.cancel=tP(n+" - runid: "+r+" - cancel",function(){try{a&&tG(a);var e=s.return(void 0),n=Promise.resolve(e.value);n.then(L,L),tG(n),t(new tH)}catch(e){t(e)}}),o};return i.isMobXFlow=!0,i},tq);function tG(e){R(e.cancel)&&e.cancel()}function t$(e){return(null==e?void 0:e.isMobXFlow)===!0}function tF(e){return!!e&&(nx(e)||!!e[eo]||eu(e)||tS(e)||e8(e))}function tK(e,t,n){return e.set(t,n),n}function tZ(e,t){return function e(t,n){if(null==t||"object"!=typeof t||t instanceof Date||!tF(t))return t;if(e4(t)||e8(t))return e(t.get(),n);if(n.has(t))return n.get(t);if(ns(t)){var i=tK(n,t,Array(t.length));return t.forEach(function(t,r){i[r]=e(t,n)}),i}if(nf(t)){var r=tK(n,t,new Set);return t.forEach(function(t){r.add(e(t,n))}),r}if(nu(t)){var s=tK(n,t,new Map);return t.forEach(function(t,i){s.set(i,e(t,n))}),s}var a=tK(n,t,{});return(function(e){if(nx(e))return e[eo].ownKeys_();x(38)})(t).forEach(function(i){N.propertyIsEnumerable.call(t,i)&&(a[i]=e(t[i],n))}),a}(e,new Map)}function tY(e,t){void 0===t&&(t=void 0),tv();try{return e.apply(t)}finally{tg()}}tU.bound=er(tW);var tX={has:function(e,t){return e[eo].has_(t)},get:function(e,t){return e[eo].get_(t)},set:function(e,t,n){var i;return!!D(t)&&(null==(i=e[eo].set_(t,n,!0))||i)},deleteProperty:function(e,t){var n;return!!D(t)&&(null==(n=e[eo].delete_(t,!0))||n)},defineProperty:function(e,t,n){var i;return null==(i=e[eo].defineProperty_(t,n))||i},ownKeys:function(e){return e[eo].ownKeys_()},preventExtensions:function(e){x(13)}};function tQ(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function tJ(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),P(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function t0(e,t){var n=ts();try{for(var i=[].concat(e.interceptors_||[]),r=0,s=i.length;r<s&&((t=i[r](t))&&!t.type&&x(14),t);r++);return t}finally{ta(n)}}function t1(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function t3(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),P(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function t2(e,t){var n=ts(),i=e.changeListeners_;if(i){i=i.slice();for(var r=0,s=i.length;r<s;r++)i[r](t);ta(n)}}var t5=Symbol("mobx-keys"),t4="splice",t6="update",t8={get:function(e,t){var n=e[eo];return t===eo?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?F(t9,t)?t9[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var i=e[eo];return"length"===t&&i.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:i.set_(parseInt(t),n),!0},preventExtensions:function(){x(15)}},t7=function(){function e(e,t,n,i){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=i,this.atom_=new el(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return tJ(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),t3(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&x("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&x(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&nE(e+t+1)},t.spliceWithArray_=function(e,t,n){var i=this;tt(this.atom_);var r=this.values_.length;if(void 0===e?e=0:e>r?e=r:e<0&&(e=Math.max(0,r+e)),t=1==arguments.length?r-e:null==t?0:Math.max(0,Math.min(t,r-e)),void 0===n&&(n=k),tQ(this)){var s=t0(this,{object:this.proxy_,type:t4,index:e,removedCount:t,added:n});if(!s)return k;t=s.removedCount,n=s.added}if(n=0===n.length?n:n.map(function(e){return i.enhancer_(e,void 0)}),this.legacyMode_){var a=n.length-t;this.updateArrayLength_(r,a)}var o=this.spliceItemsIntoValues_(e,t,n);return(0!==t||0!==n.length)&&this.notifyArraySplice_(e,n,o),this.dehanceValues_(o)},t.spliceItemsIntoValues_=function(e,t,n){if(n.length<1e4){var i;return(i=this.values_).splice.apply(i,[e,t].concat(n))}var r=this.values_.slice(e,e+t),s=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var a=0;a<n.length;a++)this.values_[e+a]=n[a];for(var o=0;o<s.length;o++)this.values_[e+n.length+o]=s[o];return r},t.notifyArrayChildUpdate_=function(e,t,n){var i=!this.owned_&&!1,r=t1(this),s=r||i?{observableKind:"array",object:this.proxy_,type:t6,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),r&&t2(this,s)},t.notifyArraySplice_=function(e,t,n){var i=!this.owned_&&!1,r=t1(this),s=r||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:t4,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),r&&t2(this,s)},t.get_=function(e){return this.legacyMode_&&e>=this.values_.length?void console.warn("[mobx] Out of bounds read: "+e):(this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]))},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&x(17,e,n.length),e<n.length){tt(this.atom_);var i=n[e];if(tQ(this)){var r=t0(this,{type:t6,object:this.proxy_,index:e,newValue:t});if(!r)return;t=r.newValue}(t=this.enhancer_(t,i))!==i&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,i))}else{for(var s=Array(e+1-n.length),a=0;a<s.length-1;a++)s[a]=void 0;s[s.length-1]=t,this.spliceWithArray_(n.length,0,s)}},e}(),t9={clear:function(){return this.splice(0)},replace:function(e){var t=this[eo];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var s=this[eo];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(e);case 2:return s.spliceWithArray_(e,t)}return s.spliceWithArray_(e,t,i)},spliceWithArray:function(e,t,n){return this[eo].spliceWithArray_(e,t,n)},push:function(){for(var e=this[eo],t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[eo].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[eo],t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return tf.trackingDerivation&&x(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){tf.trackingDerivation&&x(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[eo],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function ne(e,t){"function"==typeof Array.prototype[e]&&(t9[e]=t(e))}function nt(e){return function(){var t=this[eo];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function nn(e){return function(t,n){var i=this,r=this[eo];return r.atom_.reportObserved(),r.dehanceValues_(r.values_)[e](function(e,r){return t.call(n,e,r,i)})}}function ni(e){return function(){var t=this,n=this[eo];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(e,n,i){return r(e,n,i,t)},i[e].apply(i,arguments)}}ne("at",nt),ne("concat",nt),ne("flat",nt),ne("includes",nt),ne("indexOf",nt),ne("join",nt),ne("lastIndexOf",nt),ne("slice",nt),ne("toString",nt),ne("toLocaleString",nt),ne("toSorted",nt),ne("toSpliced",nt),ne("with",nt),ne("every",nn),ne("filter",nn),ne("find",nn),ne("findIndex",nn),ne("findLast",nn),ne("findLastIndex",nn),ne("flatMap",nn),ne("forEach",nn),ne("map",nn),ne("some",nn),ne("toReversed",nn),ne("reduce",ni),ne("reduceRight",ni);var nr=H("ObservableArrayAdministration",t7);function ns(e){return z(e)&&nr(e[eo])}var na={},no="delete",nl=function(){function e(e,t,n){var i=this;void 0===t&&(t=ef),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[eo]=na,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,R(Map)||x(18),nL(function(){i.keysAtom_=ec("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,e&&i.merge(e)})}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!tf.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var i=n=new e5(this.has_(e),ep,"ObservableMap.key?",!1);this.hasMap_.set(e,i),tz(i,function(){return t.hasMap_.delete(e)})}return n.get()},t.set=function(e,t){var n=this.has_(e);if(tQ(this)){var i=t0(this,{type:n?t6:"add",object:this,newValue:t,name:e});if(!i)return this;t=i.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if(tt(this.keysAtom_),tQ(this)&&!t0(this,{type:no,object:this,name:e}))return!1;if(this.has_(e)){var n=t1(this),i=n?{observableKind:"map",debugObjectName:this.name_,type:no,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return tY(function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)}),n&&t2(this,i),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==tf.UNCHANGED){var i=t1(this),r=i?{observableKind:"map",debugObjectName:this.name_,type:t6,object:this,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),i&&t2(this,r)}},t.addValue_=function(e,t){var n=this;tt(this.keysAtom_),tY(function(){var i,r=new e5(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,r),t=r.value_,null==(i=n.hasMap_.get(e))||i.setNewValue_(!0),n.keysAtom_.reportChanged()});var i=t1(this),r=i?{observableKind:"map",debugObjectName:this.name_,type:"add",object:this,name:e,newValue:t}:null;i&&t2(this,r)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return nc({next:function(){var n=t.next(),i=n.done,r=n.value;return{done:i,value:i?void 0:e.get(r)}}})},t.entries=function(){var e=this,t=this.keys();return nc({next:function(){var n=t.next(),i=n.done,r=n.value;return{done:i,value:i?void 0:[r,e.get(r)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(e,t){for(var n,i=J(this);!(n=i()).done;){var r=n.value,s=r[0],a=r[1];e.call(t,a,s,this)}},t.merge=function(e){var t=this;return nu(e)&&(e=new Map(e)),tY(function(){V(e)?(function(e){var t=Object.keys(e);if(!U)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(t){return N.propertyIsEnumerable.call(e,t)})):t})(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=e[0],i=e[1];return t.set(n,i)}):q(e)?(null!==Object.getPrototypeOf(Object.getPrototypeOf(Object.getPrototypeOf(e)))&&x(19,e),e.forEach(function(e,n){return t.set(n,e)})):null!=e&&x(20,e)}),this},t.clear=function(){var e=this;tY(function(){tr(function(){for(var t,n=J(e.keys());!(t=n()).done;){var i=t.value;e.delete(i)}})})},t.replace=function(e){var t=this;return tY(function(){for(var n,i=function(e){if(q(e)||nu(e))return e;if(Array.isArray(e))return new Map(e);if(!V(e))return x(21,e);var t=new Map;for(var n in e)t.set(n,e[n]);return t}(e),r=new Map,s=!1,a=J(t.data_.keys());!(n=a()).done;){var o=n.value;if(!i.has(o))if(t.delete(o))s=!0;else{var l=t.data_.get(o);r.set(o,l)}}for(var u,c=J(i.entries());!(u=c()).done;){var d=u.value,h=d[0],f=d[1],p=t.data_.has(h);if(t.set(h,f),t.data_.has(h)){var m=t.data_.get(h);r.set(h,m),p||(s=!0)}}if(!s)if(t.data_.size!==r.size)t.keysAtom_.reportChanged();else for(var v=t.data_.keys(),g=r.keys(),b=v.next(),_=g.next();!b.done;){if(b.value!==_.value){t.keysAtom_.reportChanged();break}b=v.next(),_=g.next()}t.data_=r}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return t3(this,e)},t.intercept_=function(e){return tJ(this,e)},Q(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),nu=H("ObservableMap",nl);function nc(e){return e[Symbol.toStringTag]="MapIterator",nT(e)}var nd={},nh=function(){function e(e,t,n){var i=this;void 0===t&&(t=ef),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[eo]=nd,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,R(Set)||x(22),this.enhancer_=function(e,i){return t(e,i,n)},nL(function(){i.atom_=ec(i.name_),e&&i.replace(e)})}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;tY(function(){tr(function(){for(var t,n=J(e.data_.values());!(t=n()).done;){var i=t.value;e.delete(i)}})})},t.forEach=function(e,t){for(var n,i=J(this);!(n=i()).done;){var r=n.value;e.call(t,r,r,this)}},t.add=function(e){var t=this;if(tt(this.atom_),tQ(this)){var n=t0(this,{type:"add",object:this,newValue:e});if(!n)return this;e=n.newValue}if(!this.has(e)){tY(function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()});var i=t1(this),r=i?{observableKind:"set",debugObjectName:this.name_,type:"add",object:this,newValue:e}:null;i&&t2(this,r)}return this},t.delete=function(e){var t=this;if(tQ(this)&&!t0(this,{type:no,object:this,oldValue:e}))return!1;if(this.has(e)){var n=t1(this),i=n?{observableKind:"set",debugObjectName:this.name_,type:no,object:this,oldValue:e}:null;return tY(function(){t.atom_.reportChanged(),t.data_.delete(e)}),n&&t2(this,i),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=this.values();return np({next:function(){var t=e.next(),n=t.value,i=t.done;return i?{value:void 0,done:i}:{value:[n,n],done:i}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=this.data_.values();return np({next:function(){var n=t.next(),i=n.value,r=n.done;return r?{value:void 0,done:r}:{value:e.dehanceValue_(i),done:r}}})},t.intersection=function(e){return W(e)&&!nf(e)?e.intersection(this):new Set(this).intersection(e)},t.union=function(e){return W(e)&&!nf(e)?e.union(this):new Set(this).union(e)},t.difference=function(e){return new Set(this).difference(e)},t.symmetricDifference=function(e){return W(e)&&!nf(e)?e.symmetricDifference(this):new Set(this).symmetricDifference(e)},t.isSubsetOf=function(e){return new Set(this).isSubsetOf(e)},t.isSupersetOf=function(e){return new Set(this).isSupersetOf(e)},t.isDisjointFrom=function(e){return W(e)&&!nf(e)?e.isDisjointFrom(this):new Set(this).isDisjointFrom(e)},t.replace=function(e){var t=this;return nf(e)&&(e=new Set(e)),tY(function(){Array.isArray(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):W(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):null!=e&&x("Cannot initialize set from "+e)}),this},t.observe_=function(e,t){return t3(this,e)},t.intercept_=function(e){return tJ(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Q(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),nf=H("ObservableSet",nh);function np(e){return e[Symbol.toStringTag]="SetIterator",nT(e)}var nm=Object.create(null),nv="remove",ng=function(){function e(e,t,n,i){void 0===t&&(t=new Map),void 0===i&&(i=eL),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=i,this.keysAtom_=new el("ObservableObject.keys"),this.isPlainObject_=V(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof e6)return n.set(t),!0;if(tQ(this)){var i=t0(this,{type:t6,object:this.proxy_||this.target_,name:e,newValue:t});if(!i)return null;t=i.newValue}if((t=n.prepareNewValue_(t))!==tf.UNCHANGED){var r=t1(this),s=r?{type:t6,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),r&&t2(this,s)}return!0},t.get_=function(e){return tf.trackingDerivation&&!F(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return(void 0===n&&(n=!1),F(this.target_,e))?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!tf.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new e5(e in this.target_,ep,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(nw(this,t,e),!(e in this.target_)){var n;if(null!=(n=this.target_[ei])&&n[e])return;x(1,t.annotationType_,this.name_+"."+e.toString())}for(var i=this.target_;i&&i!==N;){var r=S(i,e);if(r){var s=t.make_(this,e,r,i);if(0===s)return;if(1===s)break}i=Object.getPrototypeOf(i)}nj(this,t,e)}},t.extend_=function(e,t,n,i){if(void 0===i&&(i=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,i);nw(this,n,e);var r=n.extend_(this,e,t,i);return r&&nj(this,n,e),r},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1),tt(this.keysAtom_);try{tv();var i=this.delete_(e);if(!i)return i;if(tQ(this)){var r=t0(this,{object:this.proxy_||this.target_,name:e,type:"add",newValue:t.value});if(!r)return null;var s=r.newValue;t.value!==s&&(t=ee({},t,{value:s}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else O(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{tg()}return!0},t.defineObservableProperty_=function(e,t,n,i){void 0===i&&(i=!1),tt(this.keysAtom_);try{tv();var r=this.delete_(e);if(!r)return r;if(tQ(this)){var s=t0(this,{object:this.proxy_||this.target_,name:e,type:"add",newValue:t});if(!s)return null;t=s.newValue}var a=ny(e),o={configurable:!tf.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(i){if(!Reflect.defineProperty(this.target_,e,o))return!1}else O(this.target_,e,o);var l=new e5(t,n,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{tg()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1),tt(this.keysAtom_);try{tv();var i=this.delete_(e);if(!i)return i;if(tQ(this)&&!t0(this,{object:this.proxy_||this.target_,name:e,type:"add",newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var r=ny(e),s={configurable:!tf.safeDescriptors||this.isPlainObject_,enumerable:!1,get:r.get,set:r.set};if(n){if(!Reflect.defineProperty(this.target_,e,s))return!1}else O(this.target_,e,s);this.values_.set(e,new e6(t)),this.notifyPropertyAddition_(e,void 0)}finally{tg()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),tt(this.keysAtom_),!F(this.target_,e))return!0;if(tQ(this)&&!t0(this,{object:this.proxy_||this.target_,name:e,type:nv}))return null;try{tv();var n,i,r=t1(this),s=this.values_.get(e),a=void 0;if(!s&&(r||0)&&(a=null==(i=S(this.target_,e))?void 0:i.value),t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(s&&(this.values_.delete(e),s instanceof e5&&(a=s.value_),t_(s)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(e in this.target_),r||0){var o={type:nv,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:a,name:e};r&&t2(this,o)}}finally{tg()}return!0},t.observe_=function(e,t){return t3(this,e)},t.intercept_=function(e){return tJ(this,e)},t.notifyPropertyAddition_=function(e,t){var n,i=t1(this);if(i){var r=i?{type:"add",observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;i&&t2(this,r)}null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),G(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function nb(e,t){if(F(e,eo))return e;var n,i,r=null!=(i=null==t?void 0:t.name)?i:"ObservableObject",s=new ng(e,new Map,String(r),t?null!=(n=t.defaultDecorator)?n:eR(t):void 0);return B(e,eo,s),e}var n_=H("ObservableObjectAdministration",ng);function ny(e){return nm[e]||(nm[e]={get:function(){return this[eo].getObservablePropValue_(e)},set:function(t){return this[eo].setObservablePropValue_(e,t)}})}function nx(e){return!!z(e)&&n_(e[eo])}function nj(e,t,n){var i;null==(i=e.target_[ei])||delete i[n]}function nw(e,t,n){}var nS=nA(0),nO=(r=!1,Object.defineProperty(s={},"0",{set:function(){r=!0}}),Object.create(s)["0"]=1,!1===r),nN=0,nk=function(){};a=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(nk.prototype,a):void 0!==nk.prototype.__proto__?nk.prototype.__proto__=a:nk.prototype=a;var nC=function(e){function t(t,n,i,r){var s;return void 0===i&&(i="ObservableArray"),void 0===r&&(r=!1),s=e.call(this)||this,nL(function(){var e=new t7(i,n,r,!0);e.proxy_=s,I(s,eo,e),t&&t.length&&s.spliceWithArray(0,0,t),nO&&Object.defineProperty(s,"0",nS)}),s}et(t,e);var n=t.prototype;return n.concat=function(){this[eo].atom_.reportObserved();for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map(function(e){return ns(e)?e.slice():e}))},n[Symbol.iterator]=function(){var e=this,t=0;return nT({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},Q(t,[{key:"length",get:function(){return this[eo].getArrayLength_()},set:function(e){this[eo].setArrayLength_(e)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(nk);function nA(e){return{enumerable:!1,configurable:!0,get:function(){return this[eo].get_(e)},set:function(t){this[eo].set_(e,t)}}}function nE(e){if(e>nN){for(var t,n=nN;n<e+100;n++)t=n,O(nC.prototype,""+t,nA(t));nN=e}}function nM(e,t){if("object"==typeof e&&null!==e){if(ns(e))return void 0!==t&&x(23),e[eo].atom_;if(nf(e))return e.atom_;if(nu(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||x(25,t,nP(e)),n}if(nx(e)){if(!t)return x(26);var i=e[eo].values_.get(t);return i||x(27,t,nP(e)),i}if(eu(e)||e8(e)||tS(e))return e}else if(R(e)&&tS(e[eo]))return e[eo];x(28)}function nP(e,t){var n;if(void 0!==t)n=nM(e,t);else{if(tR(e))return e.name;n=nx(e)||nu(e)||nf(e)?function e(t,n){return(t||x(29),void 0!==n)?e(nM(t,n)):eu(t)||e8(t)||tS(t)||nu(t)||nf(t)?t:t[eo]?t[eo]:void x(24,t)}(e):nM(e)}return n.name_}function nL(e){var t=ts(),n=e3(!0);tv();try{return e()}finally{tg(),e2(n),ta(t)}}Object.entries(t9).forEach(function(e){var t=e[0],n=e[1];"concat"!==t&&B(nC.prototype,t,n)}),nE(1e3);var nR=N.toString;function nD(e,t,n){return void 0===n&&(n=-1),function e(t,n,i,r,s){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof n)return!1;var o=nR.call(t);if(o!==nR.call(n))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":if(+t!=+t)return+n!=+n;return 0==+t?1/t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":i>=0&&i++}t=nz(t),n=nz(n);var l="[object Array]"===o;if(!l){if("object"!=typeof t||"object"!=typeof n)return!1;var u=t.constructor,c=n.constructor;if(u!==c&&!(R(u)&&u instanceof u&&R(c)&&c instanceof c)&&"constructor"in t&&"constructor"in n)return!1}if(0===i)return!1;i<0&&(i=-1),s=s||[];for(var d=(r=r||[]).length;d--;)if(r[d]===t)return s[d]===n;if(r.push(t),s.push(n),l){if((d=t.length)!==n.length)return!1;for(;d--;)if(!e(t[d],n[d],i-1,r,s))return!1}else{var h=Object.keys(t),f=h.length;if(Object.keys(n).length!==f)return!1;for(var p=0;p<f;p++){var m=h[p];if(!(F(n,m)&&e(t[m],n[m],i-1,r,s)))return!1}}return r.pop(),s.pop(),!0}(e,t,n)}function nz(e){return ns(e)?e.slice():q(e)||nu(e)||W(e)||nf(e)?Array.from(e.entries()):e}var nV=(null==(p=j().Iterator)?void 0:p.prototype)||{};function nT(e){return e[Symbol.iterator]=nB,Object.assign(Object.create(nV),e)}function nB(){return this}["Symbol","Map","Set"].forEach(function(e){void 0===j()[e]&&x("MobX requires global '"+e+"' to be available or polyfilled")}),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:nP},$mobx:eo});var nI=e.i(271645);if(!nI.useState)throw Error("mobx-react-lite requires React with Hooks support");var nH=e.i(174080);function nq(e){return function e(t){var n={name:t.name_};return t.observing_&&t.observing_.length>0&&(n.dependencies=Array.from(new Set(t.observing_)).map(e)),n}(nM(e,void 0))}var nW=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach(function(i,r){n-i.registeredAt>=e&&(t.finalize(i.value),t.registrations.delete(r))}),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),nU=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:nW)(function(e){var t;null==(t=e.reaction)||t.dispose(),e.reaction=null}),nG=e.i(802239);function n$(e){e.reaction=new ty("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),null==(t=e.onStoreChange)||t.call(e)})}var nF="function"==typeof Symbol&&Symbol.for,nK=null!=(v=null==(m=Object.getOwnPropertyDescriptor(function(){},"name"))?void 0:m.configurable)&&v,nZ=nF?Symbol.for("react.forward_ref"):"function"==typeof nI.forwardRef&&(0,nI.forwardRef)(function(e){return null}).$$typeof,nY=nF?Symbol.for("react.memo"):"function"==typeof nI.memo&&(0,nI.memo)(function(e){return null}).$$typeof;function nX(e,t){if(nY&&e.$$typeof===nY)throw Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var n,i,r,s=null!=(r=null==t?void 0:t.forwardRef)&&r,a=e,o=e.displayName||e.name;if(nZ&&e.$$typeof===nZ&&(s=!0,"function"!=typeof(a=e.render)))throw Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var l=function(e,t){return function(e,t){void 0===t&&(t="observed");var n,i,r=nI.default.useRef(null);if(!r.current){var s={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(e){return nU.unregister(s),s.onStoreChange=e,s.reaction||(n$(s),s.stateVersion=Symbol()),function(){var e;s.onStoreChange=null,null==(e=s.reaction)||e.dispose(),s.reaction=null}},getSnapshot:function(){return s.stateVersion}};r.current=s}var a=r.current;if(a.reaction||(n$(a),nU.register(r,a,a)),nI.default.useDebugValue(a.reaction,nq),(0,nG.useSyncExternalStore)(a.subscribe,a.getSnapshot,a.getSnapshot),a.reaction.track(function(){try{n=e()}catch(e){i=e}}),i)throw i;return n}(function(){return a(e,t)},o)};return l.displayName=e.displayName,nK&&Object.defineProperty(l,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(l.contextTypes=e.contextTypes),s&&(l=(0,nI.forwardRef)(l)),n=e,i=l=(0,nI.memo)(l),Object.keys(n).forEach(function(e){nQ[e]||Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(n,e))}),l}var nQ={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};(o=nH.unstable_batchedUpdates)||(o=function(e){e()}),function(e){!0===e.isolateGlobalState&&function(){if((tf.pendingReactions.length||tf.inBatch||tf.isRunningReactions)&&x(36),th=!0,td){var e=j();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),tf=new tc}}();var t,n,i=e.useProxies,r=e.enforceActions;if(void 0!==i&&(tf.useProxies=i===tT||"never"!==i&&"undefined"!=typeof Proxy),"ifavailable"===i&&(tf.verifyProxies=!0),void 0!==r){var s=r===tT?tT:"observed"===r;tf.enforceActions=s,tf.allowStateChanges=!0!==s&&s!==tT}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(t){t in e&&(tf[t]=!!e[t])}),tf.allowStateReads=!tf.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=tx,tx=function(e){return t(function(){return n(e)})})}({reactionScheduler:o}),nU.finalizeAllImmediately;let nJ="jedec",n0="bits",n1="byte",n3="bytes",n2="array",n5="object",n4="exponent",n6={iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},n8={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},n7=[1,1024,1048576,0x40000000,0x10000000000,0x4000000000000,0x1000000000000000,11805916207174113e5,12089258196146292e8],n9=[1,1e3,1e6,1e9,1e12,1e15,1e18,1e21,1e24],ie=Math.log(1024),it=Math.log(1e3),ii={si:{isDecimal:!0,ceil:1e3,actualStandard:nJ},iec:{isDecimal:!1,ceil:1024,actualStandard:"iec"},[nJ]:{isDecimal:!1,ceil:1024,actualStandard:nJ}};function ir(e,t,n,i,r){let s=e/(n?n9[t]:n7[t]);return i&&(s*=8)>=r&&t<8&&(s/=r,t++),{result:s,e:t}}var is=e.i(538149);e.i(701870);var ia=((l={})[l.auto=0]="auto",l[l.psnr=1]="psnr",l[l.ssim=2]="ssim",l);let io={quality:50,qualityAlpha:-1,denoiseLevel:0,tileColsLog2:0,tileRowsLog2:0,speed:8,subsample:1,chromaDeltaQ:!1,sharpness:0,tune:0,enableSharpYUV:!1};function il({children:e}){let[t,n]=(0,nI.useState)(null),[i,r]=(0,nI.useState)(e),[s,a]=(0,nI.useState)(!1),o=(0,nI.useRef)(null);(0,nI.useEffect)(()=>{e?(i?e!==i&&r(e):r(e),n(null),a(!1)):i&&(n(i),r(null),a(!0))},[e,i]);let l=i||t;return(0,g.jsx)("div",{ref:o,className:"overflow-hidden transition-all duration-300 ease-in-out",style:{maxHeight:l?s?"0":o.current?.scrollHeight+"px":"0",opacity:l?+!s:0},onTransitionEnd:()=>{s&&(n(null),a(!1))},children:(0,g.jsx)("div",{className:"py-1",children:s?t:i})})}e.s(["AVIFTune",()=>ia,"defaultOptions",0,io,"extension",0,"avif","label",0,"AVIF","mimeType",0,"image/avif"],542986),e.i(542986);let iu=e=>(0,g.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",...e}),ic=e=>(0,g.jsx)(iu,{...e,children:(0,g.jsx)("path",{d:"M21.3 2.7v18.6H2.7V2.7h18.6m0-2.7H2.7A2.7 2.7 0 0 0 0 2.7v18.6A2.7 2.7 0 0 0 2.7 24h18.6a2.7 2.7 0 0 0 2.7-2.7V2.7A2.7 2.7 0 0 0 21.3 0z"})}),id=e=>(0,g.jsx)(iu,{...e,children:(0,g.jsx)("path",{d:"M21.3 0H2.7A2.7 2.7 0 0 0 0 2.7v18.6A2.7 2.7 0 0 0 2.7 24h18.6a2.7 2.7 0 0 0 2.7-2.7V2.7A2.7 2.7 0 0 0 21.3 0zm-12 18.7L2.7 12l1.8-1.9L9.3 15 19.5 4.8l1.8 1.9z"})}),ih=()=>(0,g.jsx)("svg",{viewBox:"0 -1.95 9.8 9.8",children:(0,g.jsx)("path",{d:"M8.2.2a1 1 0 011.4 1.4l-4 4a1 1 0 01-1.4 0l-4-4A1 1 0 011.6.2l3.3 3.3L8.2.2z"})}),ip=(0,nI.forwardRef)(({checked:e,disabled:t,className:n,...i},r)=>(0,g.jsxs)("div",{className:"form-check d-inline-flex align-items-center",children:[(0,g.jsxs)("div",{className:"position-relative me-2",children:[e?t?(0,g.jsx)(id,{className:"text-muted opacity-50",width:20,height:20}):(0,g.jsx)(id,{className:"text-primary",width:20,height:20}):(0,g.jsx)(ic,{className:"text-muted",width:20,height:20}),(0,g.jsx)("input",{type:"checkbox",className:"position-absolute top-0 start-0 w-100 h-100 opacity-0 cursor-pointer",checked:e,disabled:t,ref:r,...i})]}),i.children&&(0,g.jsx)("label",{className:"form-check-label cursor-pointer user-select-none",children:i.children})]}));ip.displayName="Checkbox";let im=(0,nI.forwardRef)(({children:e,className:t,large:n=!1,disabled:i,...r},s)=>(0,g.jsxs)("div",{className:"position-relative d-inline-block",children:[(0,g.jsx)("select",{ref:s,className:`form-select ${n?"form-select-lg":"form-select"} pe-5 ${i?"opacity-75":""} ${t??""}`,disabled:i,...r,children:e}),(0,g.jsx)("div",{className:"position-absolute top-50 end-0 translate-middle-y pe-3 pointer-events-none","aria-hidden":"true",children:(0,g.jsx)(ih,{width:16,height:16,className:"text-body-secondary",style:{transform:"rotate(90deg)"}})})]}));im.displayName="Select";var iv=e.i(437902),ig=e.i(617881);let ib=(0,nI.forwardRef)(({children:e,value:t,min:n=0,max:i=100,step:r=1,trackColor:s="var(--bs-primary)",className:a,...o},l)=>{let u=(0,nI.useRef)(null),c=(0,nI.useRef)(null),[d,h]=(0,nI.useState)(!1),[f,p]=(0,nI.useState)(t??"");return(0,nI.useImperativeHandle)(l,()=>u.current),(0,nI.useEffect)(()=>{d||p(t??"")},[t,d]),(0,g.jsxs)("label",{ref:u,style:{gridTemplateColumns:"1fr auto",zIndex:0},...o,className:"jsx-bf42b2e25b35135f "+(o&&null!=o.className&&o.className||`d-grid position-relative ${a??""}`),children:[e&&(0,g.jsx)("span",{style:{gridRow:"1",gridColumn:"1",paddingLeft:"0.75rem"},className:"jsx-bf42b2e25b35135f text-body fw-medium align-self-center",children:e}),(0,g.jsx)("input",{ref:c,type:"number",style:{gridRow:"1",gridColumn:"2",width:"60px",padding:"2px 8px",font:"inherit",textDecoration:"underline dotted",textDecorationColor:"var(--bs-primary)",textUnderlinePosition:"under"},value:d?f:t,min:n,max:i,step:r,onChange:e=>{p(e.target.value),o.onChange?.(e)},onFocus:e=>{h(!0),e.target.style.backgroundColor="var(--bs-light)",e.target.style.color="var(--bs-dark)"},onBlur:e=>{h(!1),e.target.style.backgroundColor="transparent",e.target.style.color="inherit"},className:"jsx-bf42b2e25b35135f bg-transparent border-0 text-end text-body pe-3"}),(0,g.jsx)("div",{style:{gridRow:"2",gridColumn:"1 / 3",zIndex:1},className:"jsx-bf42b2e25b35135f position-relative px-3 pt-3 pb-4",children:(0,g.jsx)(ig.default.Range,{value:t,min:n,max:i,step:r,onChange:o.onChange})}),(0,g.jsx)(iv.default,{id:"bf42b2e25b35135f",children:"input[type=number].jsx-bf42b2e25b35135f::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number].jsx-bf42b2e25b35135f::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number].jsx-bf42b2e25b35135f{-moz-appearance:textfield}"})]})});function i_({options:e,onChange:t}){let[n,i]=(0,nI.useState)(!1),r=100===e.quality&&(-1===e.qualityAlpha||100===e.qualityAlpha)&&3===e.subsample,s=-1!==e.qualityAlpha,[a,o]=(0,nI.useState)(r),[l,u]=(0,nI.useState)(r?io.quality:e.quality),[c,d]=(0,nI.useState)(s),[h,f]=(0,nI.useState)(s?e.qualityAlpha:e.quality),[p,m]=(0,nI.useState)(e.subsample),[v,b]=(0,nI.useState)(e.enableSharpYUV),[_,y]=(0,nI.useState)(e.chromaDeltaQ),[x,j]=(0,nI.useState)(e.sharpness),[w,S]=(0,nI.useState)(e.denoiseLevel),[O,N]=(0,nI.useState)(e.tune),[k,C]=(0,nI.useState)(e.tileRowsLog2),[A,E]=(0,nI.useState)(e.tileColsLog2),[M,P]=(0,nI.useState)(10-e.speed);(0,nI.useEffect)(()=>{o(r),u(r?io.quality:e.quality),d(s),f(s?e.qualityAlpha:e.quality),m(e.subsample),b(e.enableSharpYUV),y(e.chromaDeltaQ),j(e.sharpness),S(e.denoiseLevel),N(e.tune),C(e.tileRowsLog2),E(e.tileColsLog2),P(10-e.speed)},[e]);let L=(0,nI.useCallback)(()=>{let n={...e,quality:a?100:l,qualityAlpha:a||!c?-1:h,subsample:a?3:p,tileRowsLog2:k,tileColsLog2:A,speed:10-M,chromaDeltaQ:_,sharpness:x,denoiseLevel:w,tune:O,enableSharpYUV:v};t(n)},[e,a,l,c,h,p,k,A,M,_,x,w,O,v,t]);return(0,nI.useEffect)(()=>{L()},[L]),(0,g.jsxs)("div",{className:"d-flex flex-column gap-4",children:[(0,g.jsx)(il,{children:!a&&(0,g.jsx)("div",{children:(0,g.jsx)(ib,{min:0,max:99,value:l,onChange:e=>u(Number(e.target.value)),trackColor:"var(--bs-primary)",children:"Quality"})})}),(0,g.jsx)(ib,{min:0,max:10,value:M,onChange:e=>P(Number(e.target.value)),children:"Effort"}),n&&(0,g.jsxs)("div",{className:"d-flex flex-column gap-4 ps-4",children:[(0,g.jsx)(il,{children:!a&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Subsample chroma"}),(0,g.jsxs)(im,{value:p,onChange:e=>m(Number(e.target.value)),children:[(0,g.jsx)("option",{value:0,children:"4:0:0"}),(0,g.jsx)("option",{value:1,children:"4:2:0"}),(0,g.jsx)("option",{value:2,children:"4:2:2"}),(0,g.jsx)("option",{value:3,children:"4:4:4"})]})]}),(0,g.jsx)(il,{children:1===p&&(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Sharp YUV Downsampling"}),(0,g.jsx)(ip,{checked:v,onChange:e=>b(e.target.checked)})]})}),(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Separate alpha quality"}),(0,g.jsx)(ip,{checked:c,onChange:e=>d(e.target.checked)})]}),(0,g.jsx)(il,{children:c&&(0,g.jsx)("div",{children:(0,g.jsx)(ib,{min:0,max:99,value:h,onChange:e=>f(Number(e.target.value)),children:"Alpha quality"})})}),(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Extra chroma compression"}),(0,g.jsx)(ip,{checked:_,onChange:e=>y(e.target.checked)})]}),(0,g.jsx)(ib,{min:0,max:7,value:x,onChange:e=>j(Number(e.target.value)),children:"Sharpness"}),(0,g.jsx)(ib,{min:0,max:50,value:w,onChange:e=>S(Number(e.target.value)),children:"Noise synthesis"}),(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Tuning"}),(0,g.jsxs)(im,{value:O,onChange:e=>N(Number(e.target.value)),children:[(0,g.jsx)("option",{value:ia.auto,children:"Auto"}),(0,g.jsx)("option",{value:ia.psnr,children:"PSNR"}),(0,g.jsx)("option",{value:ia.ssim,children:"SSIM"})]})]})]})}),(0,g.jsx)(ib,{min:0,max:6,value:k,onChange:e=>C(Number(e.target.value)),children:"Log2 of tile rows"}),(0,g.jsx)(ib,{min:0,max:6,value:A,onChange:e=>E(Number(e.target.value)),children:"Log2 of tile cols"})]})]})}ib.displayName="Range",e.s(["default",()=>i_,"encode",0,(e,t,n,i)=>t.avifEncode(e,n,i)],298808),e.i(298808);let iy=0;function ix(e){let t=function(e,{bits:t=!1,pad:n=!1,base:i=-1,round:r=2,locale:s="",localeOptions:a={},separator:o="",spacer:l=" ",symbols:u={},standard:c="",output:d="string",fullform:h=!1,fullforms:f=[],exponent:p=-1,roundingMethod:m="round",precision:v=0}={}){var g;let b=p,_=Number(e),y=[],x=0,j="",{isDecimal:w,ceil:S,actualStandard:O}=ii[c]?ii[c]:2===i?{isDecimal:!1,ceil:1024,actualStandard:"iec"}:{isDecimal:!0,ceil:1e3,actualStandard:nJ},N=!0===h,k=_<0,C=Math[m];if("bigint"!=typeof e&&isNaN(e))throw TypeError("Invalid number");if("function"!=typeof C)throw TypeError("Invalid rounding method");if(k&&(_=-_),0===_){let e,n;return g=v,(e=[])[0]=g>0?0..toPrecision(g):0,n=e[1]=n6[O][t?n0:n3][0],d===n4?0:(u[e[1]]&&(e[1]=u[e[1]]),N&&(e[1]=f[0]||n8[O][0]+(t?"bit":n1)),d===n2?e:d===n5?{value:e[0],symbol:e[1],exponent:0,unit:n}:e.join(l))}if((-1===b||isNaN(b))&&(b=w?Math.floor(Math.log(_)/it):Math.floor(Math.log(_)/ie))<0&&(b=0),b>8&&(v>0&&(v+=8-b),b=8),d===n4)return b;let{result:A,e:E}=ir(_,b,w,t,S);x=A;let M=(b=E)>0&&r>0?Math.pow(10,r):1;if(y[0]=1===M?C(x):C(x*M)/M,y[0]===S&&b<8&&-1===p&&(y[0]=1,b++),v>0){let e=function(e,t,n,i,r,s,a,o,l){let u=e.toPrecision(t);if(u.includes("e")&&n<8){let{result:e}=ir(i,++n,r,s,a),c=l>0?Math.pow(10,l):1;u=(1===c?o(e):o(e*c)/c).toPrecision(t)}return{value:u,e:n}}(y[0],v,b,_,w,t,S,C,r);y[0]=e.value,b=e.e}let P=n6[O][t?n0:n3];return(j=y[1]=w&&1===b?t?"kbit":"kB":P[b],k&&(y[0]=-y[0]),u[y[1]]&&(y[1]=u[y[1]]),y[0]=function(e,t,n,i,r,s){let a=e;if(!0===t?a=a.toLocaleString():t.length>0?a=a.toLocaleString(t,n):i.length>0&&(a=a.toString().replace(".",i)),r&&s>0){let e=a.toString(),t=i||(e.match(/(\D)/g)||[]).pop()||".",n=e.split(t),r=n[1]||"",o=r.length;a=`${n[0]}${t}${r.padEnd(o+(s-o),"0")}`}return a}(y[0],s,a,o,n,r),N&&(y[1]=f[b]||n8[O][b]+(t?"bit":n1)+(1===y[0]?"":"s")),d===n2)?y:d===n5?{value:y[0],symbol:y[1],exponent:b,unit:j}:" "===l?`${y[0]} ${y[1]}`:y.join(l)}(e,{standard:"jedec",output:"array"});return t[0]+" "+t[1]}function ij(e,t){let n=document.createElement("a");n.href=URL.createObjectURL(t),n.download=e,n.click(),n.remove()}async function iw(e){if(e.isFile)return new Promise(t=>{e.file(e=>{t(Object.values(is.Mimes).includes(e.type)?[e]:[])},()=>t([]))});if(e.isDirectory){let t=await new Promise(t=>{e.createReader().readEntries(t,()=>t([]))}),n=[];for(let e of t){let t=await iw(e);n.push(...t)}return n}return[]}async function iS(e){if(!e)return[];if("file"===e.kind){let t=await e.getFile();return Object.values(is.Mimes).includes(t.type)?[t]:[]}if("directory"===e.kind){let t=[];for await(let n of e.values()){let e=await iS(n);t.push(...e)}return t}return[]}function iO(e,t){var n;let i;if(e.blob.type===e.compress?.blob.type)return e.name;let{name:r,suffix:s}=(i=(n=e.name).lastIndexOf("."),{name:n.substring(0,i),suffix:n.substring(i+1).toLowerCase()}),a=s;for(let t in is.Mimes)if(e.compress.blob.type===is.Mimes[t]){a=t;break}return["jpg","jpeg"].includes(a)&&(a=t.format.target?.toLowerCase()||a),r+"."+a}async function iN(e){let t=[];if(!e.clipboardData)return t;let n=e.clipboardData.items;for(let e=0;e<n.length;e++){let i=n[e];if(i.type.startsWith("image/")){let e=i.getAsFile();e&&Object.values(is.Mimes).includes(e.type)&&t.push(e)}}return t}var ik=((u={})[u.GRAYSCALE=1]="GRAYSCALE",u[u.RGB=2]="RGB",u[u.YCbCr=3]="YCbCr",u);let iC={effort:7,quality:75,progressive:!1,epf:-1,lossyPalette:!1,decodingSpeedTier:0,photonNoiseIso:0,lossyModular:!1},iA={preview:{maxSize:256},resize:{method:void 0,width:void 0,height:void 0,short:void 0,long:void 0,cropWidthRatio:void 0,cropHeightRatio:void 0,cropWidthSize:void 0,cropHeightSize:void 0},format:{target:void 0,transparentFill:"#FFFFFF"},jpeg:{quality:75,baseline:!1,arithmetic:!1,progressive:!0,optimize_coding:!0,smoothing:0,color_space:3,quant_table:3,trellis_multipass:!1,trellis_opt_zero:!1,trellis_opt_table:!1,trellis_loops:1,auto_subsample:!0,chroma_subsample:2,separate_chroma_quality:!1,chroma_quality:75},png:{colors:128,dithering:.5},gif:{colors:128,dithering:!1},avif:io,webp:{quality:75,target_size:0,target_PSNR:0,method:4,sns_strength:50,filter_strength:60,filter_sharpness:0,filter_type:1,partitions:0,segments:4,pass:1,show_compressed:0,preprocessing:0,autofilter:0,partition_limit:0,alpha_compression:1,alpha_filtering:1,alpha_quality:100,lossless:0,exact:0,image_hint:0,emulate_jpeg_size:0,thread_level:0,low_memory:0,near_lossless:100,use_delta_palette:0,use_sharp_yuv:0},jxl:iC};class iE{list=new Map;option=iA;tempOption=iA;compareId=null;showOption=!1;constructor(){!function(e,t,n){V(e)?tB(e,e,void 0,void 0):nL(function(){var t=nb(e,void 0)[eo];if(!e[t5]){var n=Object.getPrototypeOf(e),i=new Set([].concat(G(e),G(n)));i.delete("constructor"),i.delete(eo),B(n,t5,i)}e[t5].forEach(function(e){return t.make_(e,!0)})})}(this)}isCropMode(){let e=this.option.resize;return"setCropRatio"===e.method&&e.cropWidthRatio&&e.cropHeightRatio&&e.cropWidthRatio>0&&e.cropHeightRatio>0||"setCropSize"===e.method&&e.cropWidthSize&&e.cropHeightSize&&e.cropWidthSize>0&&e.cropHeightSize>0}clear(){this.list.clear(),this.tempOption={...iA},this.option={...iA}}reCompress(){this.list.forEach(e=>{URL.revokeObjectURL(e.compress.src),e.compress=void 0,iT(e)})}hasTaskRunning(){for(let[e,t]of this.list)if(!t.preview||!t.compress)return!0;return!1}getProgressHintInfo(){let e=this.list.size,t=0,n=0,i=0;for(let[e,r]of this.list)n+=r.blob.size,r.compress&&(t++,i+=r.compress.blob.size);let r=Math.ceil(100*t/e),s=Number(Math.abs((i-n)*100/n).toFixed(2));return{totalNum:e,loadedNum:t,originSize:n,outputSize:i,percent:r,rate:s}}}let iM=new iE;var iP=e.i(501764);async function iL(e){let t;if(!iM.option.format.target)return e;let n=iM.option.format.target.toLowerCase(),i=document.createElement("canvas");i.width=e.width,i.height=e.height;let r=i.getContext("2d");["jpg","jpeg"].includes(n)&&(r.fillStyle=iM.option.format.transparentFill,r.fillRect(0,0,e.width,e.height));let s=await new Promise(t=>{let n=new Image;n.src=e.src,n.onload=()=>t(n)});return r.drawImage(s,0,0,e.width,e.height,0,0,e.width,e.height),t="avif"===n?await iP.AvifImage.encode(r,e.width,e.height,iM.option.avif.quality,iM.option.avif.speed):await new Promise(e=>{i.toBlob(t=>{e(t)},is.Mimes[n],1)}),e.blob=t,e.src=URL.createObjectURL(t),e}let iR=null,iD=null;async function iz(e){let t=iM.list.get(e.data.key);if(!t)return;let n=tZ(t);n.width=e.data.width,n.height=e.data.height,n.compress=e.data.compress??n.compress,n.preview=e.data.preview??n.preview,n.blob.type===is.Mimes.svg&&e.data.compress&&await iL(n.compress),iM.list.set(n.key,n)}function iV(e){return{info:{key:e.key,name:e.name,blob:e.blob,width:e.width,height:e.height},option:tZ(iM.option)}}function iT(e){iR?.postMessage(iV(e))}async function iB(e){let t=e.map(async e=>{let t={key:iy+=1,name:e.name,blob:e,width:0,height:0,src:URL.createObjectURL(e)};if(e.type===is.Mimes.svg){let{width:e,height:n}=await new Promise(e=>{let n=new Image;n.src=t.src,n.onload=()=>{e({x:0,y:0,width:n.width,height:n.height})}});t.width=e,t.height=n}return t});(await Promise.all(t)).forEach(e=>{iM.list.set(e.key,e)}),iM.option=tZ(iM.tempOption),iM.list.forEach(e=>{iD?.postMessage(iV(e)),iT(e)})}var iI=e.i(343794),iH=e.i(327505);let iq=nX((0,nI.forwardRef)((e,t)=>(0,g.jsx)("input",{ref:t,className:iH.default.file,type:"file",multiple:!0,accept:Object.keys(is.Mimes).map(e=>"."+e).join(","),onChange:async e=>{let t=e.target.files;if(!t?.length){e.target.value="";return}let n=Array.from(t).filter(e=>!!e);await iB(n),e.target.value=""}}))),iW=e$.object({dragActive:!1,isImporting:!1});var iU=e.i(210670);let iG=nX(()=>{let e=(0,nI.useRef)(null),t=async e=>{e.preventDefault(),iW.dragActive=!1,iW.isImporting=!0;let t=[],{dataTransfer:n}=e,i=n.getData("text/plain")||n.getData("text/uri-list");if(i){let e=i.trim(),n=e,r=e.match(/[?&]url=([^&]+)/i);if(r&&r[1])try{n=decodeURIComponent(r[1])}catch(e){}else e.startsWith("http")&&/\.(jpe?g|png|gif|webp|bmp|avif|svg)$/i.test(e)&&(n=e);if(n)try{let e=`https://image-proxy.thaonguyen83-dn.workers.dev?url=${encodeURIComponent(n)}`,i=await fetch(e,{mode:"cors"});if(!i.ok)throw Error("Proxy failed");let r=await i.blob();if(r.type.startsWith("image/")&&Object.values(is.Mimes).includes(r.type)){let e=r.type.split("/")[1]||"png";"jpeg"===e&&(e="jpg");let i="web-image",s=n.match(/\/([^/?#]+)(?:\?|$|#)/);if(s){let t=decodeURIComponent(s[1]);if(t.includes(".")){let n=t.split("."),r=n.pop()?.toLowerCase(),s=n.join(".");["jpg","jpeg","png","gif","webp","bmp","avif","svg"].includes(r||"")&&s&&!["image","file","download","photo","pic","img"].includes(s.toLowerCase())&&(i=s,r&&(e="jpg"===r?"jpeg":r))}}let a=`${i}.${e}`,o=new File([r],a,{type:r.type});t.push(o)}}catch(e){}}if(n.items){let e=[];for(let i of n.items){if("function"==typeof i.getAsFileSystemHandle){e.push((async()=>{let e=await i.getAsFileSystemHandle();e&&t.push(...await iS(e))})());continue}if("function"==typeof i.webkitGetAsEntry){e.push((async()=>{let e=i.webkitGetAsEntry();e&&t.push(...await iw(e))})());continue}if("file"===i.kind){let e=i.getAsFile();e&&Object.values(is.Mimes).includes(e.type)&&t.push(e)}}await Promise.all(e)}else if(n.files)for(let e=0;e<n.files.length;e++){let i=n.files[e];i&&Object.values(is.Mimes).includes(i.type)&&t.push(i)}t.length>0&&(console.log("Dropped files:",t),iB(t)),iW.isImporting=!1};(0,nI.useEffect)(()=>{let e=async e=>{if(function(e){if(!e.clipboardData)return!1;let t=e.clipboardData.items;for(let e=0;e<t.length;e++)if(t[e].type.startsWith("image/"))return!0;return!1}(e)){e.preventDefault(),iW.isImporting=!0;let t=await iN(e);t.length>0&&iB(t),iW.isImporting=!1}};return document.addEventListener("paste",e),()=>document.removeEventListener("paste",e)},[]);let n=Object.keys(is.Mimes).map(e=>e.toUpperCase()).join("/");return(0,g.jsxs)("div",{className:(0,iI.default)("d-flex justify-content-center align-items-center border border-2 border-dashed position-relative w-100","bg-body-tertiary text-center p-5 transition-all",iW.dragActive&&"border-primary bg-primary-subtle shadow-lg"),style:{minHeight:"300px",cursor:"pointer"},onClick:()=>e.current?.click(),children:[(0,g.jsx)("div",{className:iU.default.inner,children:(0,g.jsxs)("div",{className:"text-body-secondary",children:[(0,g.jsx)("svg",{viewBox:"0 0 1024 1024",width:"80",height:"80",fill:"currentColor",className:"mb-4 opacity-75",children:(0,g.jsx)("path",{d:"M128 256l0 640 896 0L1024 256 128 256zM960 789.344 832 576l-145.056 120.896L576 512 192 832 192 320l768 0L960 789.344zM256 480A3 3 7560 1 0 448 480 3 3 7560 1 0 256 480zM896 128 0 128 0 768 64 768 64 192 896 192z"})}),(0,g.jsx)("h4",{className:"fw-medium mb-3",children:"Select files or drag & drop images and folders here"}),(0,g.jsxs)("p",{className:"mb-2",children:["Supports ",n," images"]}),(0,g.jsx)("div",{className:iU.default.pasteHint,children:"Tip: Paste with Ctrl+V  Drag images from websites  Drop folders too"})]})}),(0,g.jsx)(iq,{ref:e}),(0,g.jsx)("div",{className:"position-absolute top-0 start-0 w-100 h-100",onDragOver:e=>{e.preventDefault(),iW.dragActive=!0},onDragLeave:e=>{e.preventDefault(),iW.dragActive=!1},onDrop:t}),iW.isImporting&&(0,g.jsxs)("div",{className:"position-absolute inset-0 d-flex flex-column justify-content-center align-items-center bg-white bg-opacity-75 rounded",children:[(0,g.jsx)("div",{className:"spinner-border text-primary mb-3",role:"status",style:{width:"3rem",height:"3rem"},children:(0,g.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,g.jsx)("p",{className:"fw-medium text-primary mb-0",children:"Importing images..."})]})]})});var i$=e.i(874144),iF=/[A-Z]/g,iK=/^ms-/,iZ={};function iY(e){return"-"+e.toLowerCase()}let iX=function(e){if(iZ.hasOwnProperty(e))return iZ[e];var t=e.replace(iF,iY);return iZ[e]=iK.test(t)?"-"+t:t};var iQ=e.i(745009);let iJ=iQ.default.oneOfType([iQ.default.string,iQ.default.number]),i0={all:iQ.default.bool,grid:iQ.default.bool,aural:iQ.default.bool,braille:iQ.default.bool,handheld:iQ.default.bool,print:iQ.default.bool,projection:iQ.default.bool,screen:iQ.default.bool,tty:iQ.default.bool,tv:iQ.default.bool,embossed:iQ.default.bool},{type:i1,...i3}={orientation:iQ.default.oneOf(["portrait","landscape"]),scan:iQ.default.oneOf(["progressive","interlace"]),aspectRatio:iQ.default.string,deviceAspectRatio:iQ.default.string,height:iJ,deviceHeight:iJ,width:iJ,deviceWidth:iJ,color:iQ.default.bool,colorIndex:iQ.default.bool,monochrome:iQ.default.bool,resolution:iJ,type:Object.keys(i0)},i2={minAspectRatio:iQ.default.string,maxAspectRatio:iQ.default.string,minDeviceAspectRatio:iQ.default.string,maxDeviceAspectRatio:iQ.default.string,minHeight:iJ,maxHeight:iJ,minDeviceHeight:iJ,maxDeviceHeight:iJ,minWidth:iJ,maxWidth:iJ,minDeviceWidth:iJ,maxDeviceWidth:iJ,minColor:iQ.default.number,maxColor:iQ.default.number,minColorIndex:iQ.default.number,maxColorIndex:iQ.default.number,minMonochrome:iQ.default.number,maxMonochrome:iQ.default.number,minResolution:iJ,maxResolution:iJ,...i3};var i5={...i0,...i2};let i4=(0,nI.createContext)(void 0),i6=e=>{if(e)return Object.keys(e).reduce((t,n)=>(t[iX(n)]=e[n],t),{})},i8=()=>{let e=(0,nI.useRef)(!1);return(0,nI.useEffect)(()=>{e.current=!0},[]),e.current},i7=(e,t,n)=>{let i=(e=>{let t=(0,nI.useContext)(i4),n=()=>i6(e)||i6(t),[i,r]=(0,nI.useState)(n);return(0,nI.useEffect)(()=>{let e=n();!function(e,t){if(e===t)return!0;if(!e||!t)return!1;let n=Object.keys(e),i=Object.keys(t),r=n.length;if(i.length!==r)return!1;for(let i=0;i<r;i++){let r=n[i];if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1}return!0}(i,e)&&r(e)},[e,t]),i})(t),r=(e=>{let t=()=>{let t;return e.query||(t=[],Object.keys(i5).forEach(n=>{let i=e[n];null!=i&&t.push(((e,t)=>{let n=iX(e);if("number"==typeof t&&(t=`${t}px`),!0===t)return n;if(!1===t)return`not ${n}`;return`(${n}: ${t})`})(n,i))}),t.join(" and "))},[n,i]=(0,nI.useState)(t);return(0,nI.useEffect)(()=>{let e=t();n!==e&&i(e)},[e]),n})(e);if(!r)throw Error("Invalid or missing MediaQuery!");let s=((e,t)=>{let n=()=>(0,i$.default)(e,t||{},!!t),[i,r]=(0,nI.useState)(n),s=i8();return(0,nI.useEffect)(()=>{if(s){let e=n();return r(e),()=>{e&&e.dispose()}}},[e,t]),i})(r,i),a=(e=>{let[t,n]=(0,nI.useState)(e.matches);return(0,nI.useEffect)(()=>{let t=e=>{n(e.matches)};return e.addListener(t),n(e.matches),()=>{e.removeListener(t)}},[e]),t})(s),o=i8();return(0,nI.useEffect)(()=>{o&&n&&n(a)},[a]),(0,nI.useEffect)(()=>()=>{s&&s.dispose()},[]),a};function i9(){let e=i7({maxWidth:719});return{isMobile:e,isPad:i7({minWidth:720,maxWidth:1279}),isPC:i7({minWidth:1280})}}var re=e.i(507273),rt=e.i(826024),rn=e.i(86019),ri=e.i(109876);function rr({data:e,columns:t,keyExtractor:n,sortBy:i,sortDirection:r=null,onSort:s,emptyMessage:a="No data available",className:o="",striped:l=!0,pagination:u,pageSizeOptions:c=[10,25,50,100],showPageSizeSelector:d=!0,showPageInfo:h=!0}){let{currentTheme:f}=(0,ri.useTheme)(),[p,m]=(0,nI.useState)(1),[v,b]=(0,nI.useState)(c[0]??10),_=!1!==u&&void 0!==u,y=_?u.page:p,x=_?u.pageSize:v,j=_?u.totalItems:e.length,w=_?u.totalPages??Math.max(1,Math.ceil(j/x)):Math.max(1,Math.ceil(e.length/x)),S=(y-1)*x+1,O=Math.min(y*x,j);(0,nI.useEffect)(()=>{_||m(1)},[e.length,_]),(0,nI.useEffect)(()=>{if(_)return;let t=Math.max(1,Math.ceil(e.length/x));p>t&&m(t)},[e.length,x,p,_]);let N=(0,nI.useMemo)(()=>{if(_)return e;let t=(y-1)*x;return e.slice(t,t+x)},[e,_,y,x]),k=e=>{_?u.onPageChange(e,x):m(e)},C=y>1,A=y<w;return(0,g.jsxs)("div",{className:o,children:[(0,g.jsx)("div",{className:`table-responsive border ${"dark"===f?"border-secondary":"border"} mb-3`,children:(0,g.jsxs)("table",{className:`table table-hover align-middle mb-0 ${l?"table-striped":""}`,children:[(0,g.jsx)("thead",{className:`${"dark"===f?"table-dark":"table-light"} small ${"dark"===f?"text-light opacity-75":"text-muted"}`,children:(0,g.jsx)("tr",{children:t.map(e=>{var t;return(0,g.jsx)("th",{style:{width:e.width},className:e.sortable?"cursor-pointer user-select-none":"",onClick:()=>e.sortable&&s?.(e.key),children:(0,g.jsxs)(re.default,{alignment:"center",gap:"1",children:[e.title,e.sortable&&((t=e.key)&&i===t?"asc"===r?(0,g.jsx)("i",{className:"bi bi-arrow-up text-primary ms-1",style:{fontSize:"0.9em"}}):"desc"===r?(0,g.jsx)("i",{className:"bi bi-arrow-down text-primary ms-1",style:{fontSize:"0.9em"}}):null:(0,g.jsx)("i",{className:"bi bi-arrow-down-up opacity-50 ms-1",style:{fontSize:"0.8em"}}))]})},e.key)})})}),(0,g.jsx)("tbody",{children:0===j?(0,g.jsx)("tr",{children:(0,g.jsxs)("td",{colSpan:t.length,className:"text-center py-5",children:[!a&&(0,g.jsx)("i",{className:`bi bi-inbox fs-1 d-block mb-3 ${"dark"===f?"opacity-30":"opacity-50"}`}),(0,g.jsx)(rt.default,{size:"4",color:"muted",children:a})]})}):N.map((e,i)=>(0,g.jsx)("tr",{children:t.map(t=>(0,g.jsx)("td",{className:t.align?`text-${t.align}`:"",children:t.render?t.render(e,S+i-1):"actions"===t.key?e[t.key]:String(e[t.key]??"")},t.key))},n(e)))})]})}),j>0&&(_||e.length>Math.min(...c))&&(0,g.jsxs)(re.default,{alignment:"center",distribution:"between",className:"px-3 pb-2",children:[(0,g.jsxs)(re.default,{gap:"3",alignment:"center",children:[h&&(0,g.jsxs)(rt.default,{size:"6",color:"muted",children:["Showing ",S,"",O," of"," ",j.toLocaleString()]}),!_&&d&&(0,g.jsxs)(re.default,{gap:"2",alignment:"center",children:[(0,g.jsx)(rt.default,{size:"6",color:"muted",children:"Rows per page:"}),(0,g.jsx)(rn.Picker,{value:x.toString(),onChange:e=>{var t;return t=Number(e),void(_?u.onPageChange(1,t):(b(t),m(1)))},options:c.map(e=>({value:e.toString(),label:e.toString()})),pickerStyle:"select",className:"form-select form-select-sm",style:{width:"auto"}})]})]}),(0,g.jsx)("nav",{"aria-label":"Table pagination",children:(0,g.jsxs)("ul",{className:"pagination pagination-sm mb-0",children:[(0,g.jsx)("li",{className:`page-item ${!C?"disabled":""}`,children:(0,g.jsx)("button",{className:"page-link",onClick:()=>k(y-1),disabled:!C,"aria-label":"Previous",children:(0,g.jsx)("i",{className:"bi bi-chevron-left"})})}),Array.from({length:w},(e,t)=>t+1).filter(e=>!!(w<=7||1===e||e===w||1>=Math.abs(e-y))||e===y-2&&!!(y<=4)||e===y+2&&!!(y>=w-3)).map((e,t,n)=>{let i=t>0&&e>n[t-1]+1&&e!==w;return(0,g.jsxs)(nI.default.Fragment,{children:[i&&(0,g.jsx)("li",{className:"page-item disabled",children:(0,g.jsx)("span",{className:"page-link",children:""})}),(0,g.jsx)("li",{className:`page-item ${e===y?"active":""}`,children:(0,g.jsx)("button",{className:"page-link",onClick:()=>k(e),children:e})})]},e)}),(0,g.jsx)("li",{className:`page-item ${!A?"disabled":""}`,children:(0,g.jsx)("button",{className:"page-link",onClick:()=>k(y+1),disabled:!A,"aria-label":"Next",children:(0,g.jsx)("i",{className:"bi bi-chevron-right"})})})]})})]})]})}let rs=e=>0===e?"0 B":e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(1)} KB`:`${(e/1048576).toFixed(2)} MB`;var ra=e.i(627911);function ro({size:e,white:t=!1}){let n=[];for(let e=0;e<10;e++)n.push((0,g.jsx)("div",{},e));return(0,g.jsx)("div",{className:(0,iI.default)(ra.default.container,"large"===e&&ra.default.large,t&&ra.default.white),children:n})}var rl=e.i(700362);function ru({images:e,disabled:t=!1,...n}){let i=(0,nI.useMemo)(()=>[{key:"status",title:"Status",width:"80px",render:e=>e.compress&&e.preview?(0,g.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:(0,g.jsx)("svg",{viewBox:"0 0 1024 1024",width:"28",height:"28",fill:"#28a745",children:(0,g.jsx)("path",{d:"M128 128l0 768 768 0L896 128 128 128zM424.704 768 198.464 541.696 288.96 451.2l135.744 135.744 316.8-316.8L832 360.704 424.704 768z"})})}):(0,g.jsx)(ro,{})},{key:"preview",title:"Preview",width:"120px",render:e=>{if(!e.preview)return(0,g.jsx)("div",{className:rl.default.preview});let t="image/jxl"===e.blob.type?e.preview?.src:e.src,n=e.compress?.src??null;return(0,g.jsxs)("div",{className:(0,iI.default)(rl.default.preview,"position-relative overflow-hidden rounded shadow-sm"),style:{width:"100px",height:"80px",cursor:"pointer"},onClick:()=>{n?iM.compareId=e.key:window.open(t,"_blank")},children:[(0,g.jsx)("img",{src:t,alt:e.name,className:"w-100 h-100",style:{objectFit:"cover",position:"absolute",inset:0}}),n&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"position-absolute bg-white",style:{top:0,left:0,width:"50%",height:"100%",pointerEvents:"none"}}),(0,g.jsx)("img",{src:n,alt:`${e.name} compressed`,className:"w-100 h-100",style:{objectFit:"cover",clipPath:"polygon(50% 0%, 100% 0%, 100% 100%, 50% 100%)"}}),(0,g.jsx)("div",{className:"position-absolute inset-0 d-flex align-items-center justify-content-center bg-black bg-opacity-30 opacity-0 hover-opacity-100 transition-opacity pointer-events-none",children:(0,g.jsx)("svg",{viewBox:"0 0 24 24",width:"32",height:"32",fill:"white",children:(0,g.jsx)("path",{d:"M13,23H11V1H13V23M9,19H5V5H9V3H5C3.89,3 3,3.89 3,5V19C3,20.11 3.9,21 5,21H9V19M19,7V9H21V7H19M19,5H21C21,3.89 20.1,3 19,3V5M21,15H19V17H21V15M19,11V13H21V11H19M17,3H15V5H17V3M19,21C20.11,21 21,20.11 21,19H19V21M17,19H15V21H17V19Z"})})})]})]})}},{key:"name",title:"Name",render:e=>(0,g.jsx)(rt.default,{weight:"medium",className:"text-truncate",style:{maxWidth:"300px"},title:e.name,wrap:!0,children:e.name})},{key:"dimension",title:"Dimension",width:"120px",align:"end",render:e=>(0,g.jsx)(rt.default,{size:"sm",color:"body-secondary",children:e.width&&e.height?`${e.width}\xd7${e.height}`:"-"})},{key:"newDimension",title:"New Dimension",width:"140px",align:"end",render:e=>e.compress?.width&&e.compress?.height?(0,g.jsxs)(rt.default,{size:"sm",weight:"medium",children:[e.compress.width,"",e.compress.height]}):"-"},{key:"size",title:"Size",width:"110px",align:"end",sortable:!0,render:e=>(0,g.jsx)(rt.default,{size:"sm",color:"body-secondary",children:rs(e.blob.size)})},{key:"newSize",title:"New size",width:"110px",align:"end",sortable:!0,render:e=>{if(!e.compress)return"-";let t=e.blob.size>e.compress.blob.size;return(0,g.jsx)(rt.default,{size:"sm",weight:"bold",color:t?"success":"danger",children:rs(e.compress.blob.size)})}},{key:"decrease",title:"Decrease",width:"130px",align:"end",sortable:!0,render:e=>{if(!e.compress)return"-";let t=e.blob.size,n=e.compress.blob.size,i=Math.abs((n-t)/t*100).toFixed(2)+"%",r=t>n;return(0,g.jsxs)(re.default,{gap:"1",alignment:"end",children:[(0,g.jsx)(rt.default,{size:"sm",weight:"bold",color:r?"success":"danger",children:r?i:`+${i}`}),r?(0,g.jsx)("i",{className:"bi bi-arrow-down text-success fs-5"}):(0,g.jsx)("i",{className:"bi bi-arrow-up text-danger fs-5"})]})}},{key:"action",title:"Action",width:"120px",align:"end",render:e=>(0,g.jsxs)(re.default,{gap:"3",alignment:"center",children:[(0,g.jsx)("button",{className:"btn btn-link p-0 text-danger",disabled:t,onClick:()=>iM.list.delete(e.key),title:"Remove",children:(0,g.jsxs)("svg",{viewBox:"0 0 1024 1024",width:"20",height:"20",fill:"#ff4d4f",children:[(0,g.jsx)("path",{d:"M912 239.2H112a5.333333 5.333333 0 0 0-5.333333 5.333333v64a5.333333 5.333333 0 0 0 5.333333 5.333334h88.32a5.333333 5.333333 0 0 1 5.333333 5.333333V912a5.333333 5.333333 0 0 0 5.333334 5.333333h601.973333a5.333333 5.333333 0 0 0 5.333333-5.333333V319.2a5.333333 5.333333 0 0 1 5.333334-5.333333H912a5.333333 5.333333 0 0 0 5.333333-5.333334v-64a5.333333 5.333333 0 0 0-5.333333-5.333333z m-470.24 486.506667a5.333333 5.333333 0 0 1-5.333333 5.333333h-64a5.333333 5.333333 0 0 1-5.333334-5.333333V430.826667a5.333333 5.333333 0 0 1 5.333334-5.333334h64a5.333333 5.333333 0 0 1 5.333333 5.333334z m215.146667 0a5.333333 5.333333 0 0 1-5.333334 5.333333h-64a5.333333 5.333333 0 0 1-5.333333-5.333333V430.826667a5.333333 5.333333 0 0 1 5.333333-5.333334h64a5.333333 5.333333 0 0 1 5.333334 5.333334z"}),(0,g.jsx)("path",{d:"M320 106.666667m5.333333 0l373.333334 0q5.333333 0 5.333333 5.333333l0 64q0 5.333333-5.333333 5.333333l-373.333334 0q-5.333333 0-5.333333-5.333333l0-64q0-5.333333 5.333333-5.333333Z"})]})}),(0,g.jsx)("button",{className:"btn btn-link p-0 text-secondary",disabled:t||!e.compress?.blob,onClick:()=>{e.compress?.blob&&ij(iO(e,iM.option),e.compress.blob)},title:"Download",children:(0,g.jsx)("svg",{viewBox:"0 0 1024 1024",width:"18",height:"20",fill:"#707070",children:(0,g.jsx)("path",{d:"M736 448l-256 256-256-256 160 0 0-384 192 0 0 384zM480 704l-480 0 0 256 960 0 0-256-480 0zM896 832l-128 0 0-64 128 0 0 64z"})})})]})}],[t]);return(0,g.jsx)(rr,{data:e,columns:i,keyExtractor:e=>e.key.toString(),sortBy:n.sortKey,sortDirection:n.sortOrder,onSort:n.onSort,className:"table-hover",headerClassName:"bg-light border-bottom"})}let rc=nX(()=>{let e=iM.getProgressHintInfo(),{isMobile:t}=i9(),n=e.originSize>e.outputSize;return(0,g.jsxs)("div",{className:"d-flex align-items-center gap-3 p-2 bg-body-tertiary rounded",children:[(0,g.jsxs)("div",{className:"position-relative",style:{width:"40px",height:"40px"},children:[(0,g.jsxs)("svg",{className:"position-absolute top-0 start-0",width:"40",height:"40",viewBox:"0 0 36 36",children:[(0,g.jsx)("circle",{cx:"18",cy:"18",r:"16",fill:"none",stroke:"var(--bs-border-color)",strokeWidth:"3"}),(0,g.jsx)("circle",{cx:"18",cy:"18",r:"16",fill:"none",stroke:100===e.percent?"var(--bs-success)":"var(--bs-primary)",strokeWidth:"3",strokeDasharray:`${e.percent} 100`,strokeLinecap:"round",transform:"rotate(-90 18 18)",className:"transition-all duration-500"})]}),(0,g.jsx)("div",{className:"position-absolute top-50 start-50 translate-middle text-center",children:(0,g.jsxs)("div",{className:"fw-bold text-primary",style:{fontSize:"0.65rem"},children:[e.percent,"%"]})})]}),(0,g.jsxs)("div",{className:"small",children:[(0,g.jsx)("span",{className:"fw-bold text-success",children:e.loadedNum}),(0,g.jsxs)("span",{className:"text-body-secondary",children:["/",e.totalNum]}),!t&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("span",{className:"text-body-secondary ms-3",children:["Before:",(0,g.jsx)("span",{className:"fw-medium",children:ix(e.originSize)})]}),(0,g.jsxs)("span",{className:"text-body-secondary ms-3",children:["After:",(0,g.jsx)("span",{className:"fw-medium",children:ix(e.outputSize)})]})]}),(0,g.jsxs)("span",{className:"text-body-secondary ms-3",children:["Rate:",(0,g.jsxs)("span",{className:`fw-bold ${n?"text-success":"text-danger"}`,children:[e.rate,"%",(0,g.jsx)("i",{className:`bi ${n?"bi-arrow-down":"bi-arrow-up"} ms-1`})]})]})]})]})}),rd=nX(()=>{let{isMobile:t}=i9(),n=iM.hasTaskRunning(),i=(0,nI.useRef)(null),[r,s]=(0,nI.useState)(null),[a,o]=(0,nI.useState)(null),l=[...Array.from(iM.list.values())].sort((e,t)=>{if(!r||!a)return 0;let n=null,i=null;if("size"===r)n=e.blob[r],i=t.blob[r];else if("newSize"===r)n=e.compress?.blob.size,i=t.compress?.blob.size;else if("decrease"===r){let r=e.blob.size;n=Math.abs((e.compress?.blob.size-r)/r*100);let s=t.blob.size;i=Math.abs((t.compress?.blob.size-s)/s*100)}return null==n||null==i?0:n<i?"asc"===a?-1:1:n>i?"asc"===a?1:-1:0});return(0,g.jsxs)("div",{className:"d-flex flex-column h-100 w-100 bg-body",children:[(0,g.jsx)("div",{className:"p-3 border-top bg-body-tertiary",children:(0,g.jsx)(rc,{})}),(0,g.jsx)("br",{}),(0,g.jsxs)("div",{className:"d-flex justify-content-between align-items-center p-3 border-bottom bg-body-tertiary",children:[(0,g.jsxs)("div",{className:"d-flex gap-2",children:[(0,g.jsxs)("button",{className:"btn btn-primary",disabled:n,onClick:()=>i.current?.click(),children:[(0,g.jsx)("i",{className:"bi bi-plus-lg me-2"}),!t&&"Add Images"]}),window.showDirectoryPicker&&(0,g.jsxs)("button",{className:"btn btn-primary",disabled:n,onClick:async()=>{let e=await window.showDirectoryPicker(),t=await iS(e);await iB(t)},children:[(0,g.jsx)("i",{className:"bi bi-folder-plus me-2"}),!t&&"Add Folder"]})]}),(0,g.jsxs)("div",{className:"d-flex gap-2",children:[(0,g.jsxs)("button",{className:"btn btn-danger",disabled:n,onClick:()=>iM.clear(),children:[(0,g.jsx)("i",{className:"bi bi-trash me-2"}),!t&&"Clear All"]}),(0,g.jsxs)("button",{className:"btn btn-outline-primary",disabled:n,onClick:()=>iM.reCompress(),children:[(0,g.jsx)("i",{className:"bi bi-arrow-repeat me-2"}),"Recompress"]}),(0,g.jsxs)("button",{className:"btn btn-success",disabled:n,onClick:async()=>{let t=new(await e.A(495004)).default,n=new Set;for(let e of iM.list.values()){if(!e.compress?.blob)continue;let i=function(e,t){let n=t=>{if(!e.has(t))return t;{let e=t.split("."),i=e.pop();return n(e.join("")+"(1)."+i)}};return n(t)}(n,iO(e,iM.option));n.add(i),t.file(i,e.compress.blob)}let i=await t.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}});ij(`compressed-images-${new Date().toISOString().slice(0,10)}.zip`,i)},children:[(0,g.jsx)("i",{className:"bi bi-download me-2"}),!t&&"Download All"]})]}),(0,g.jsx)(iq,{ref:i})]}),(0,g.jsx)(ru,{images:l,disabled:n,sortKey:r,sortOrder:a,onSort:e=>{r===e?"asc"===a?o("desc"):"desc"===a?(s(null),o(null)):o("asc"):(s(e),o("asc"))}})]})});var rh=e.i(682980),rf=e.i(53331);function rp(e){let{desc:t,children:n,...i}=e;return(0,g.jsxs)("div",{className:(0,iI.default)(rf.default.container,"d-flex flex-column gap-2"),...i,children:[t&&(0,g.jsx)("small",{className:(0,iI.default)(rf.default.desc,"text-body-secondary"),children:t}),(0,g.jsx)("div",{children:n})]})}var rm=e.i(33720);function rv({options:e,onChange:t}){let[n,i]=(0,nI.useState)(!1),r=(n,i)=>{t({...e,[n]:i})};return(0,g.jsxs)("div",{className:"d-flex flex-column gap-4",children:[(0,g.jsx)(ib,{min:0,max:100,value:e.quality,onChange:e=>r("quality",Number(e.target.value)),trackColor:"var(--bs-primary)",children:"Quality"}),n&&(0,g.jsx)(rm.default,{in:n,children:(0,g.jsxs)("div",{className:"d-flex flex-column gap-4 ps-4",children:[(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Channels"}),(0,g.jsxs)(im,{value:e.color_space,onChange:e=>r("color_space",Number(e.target.value)),children:[(0,g.jsx)("option",{value:ik.GRAYSCALE,children:"Grayscale"}),(0,g.jsx)("option",{value:ik.RGB,children:"RGB"}),(0,g.jsx)("option",{value:ik.YCbCr,children:"YCbCr"})]})]}),(0,g.jsx)(rm.default,{in:e.color_space===ik.YCbCr,children:(0,g.jsxs)("div",{className:"d-flex flex-column gap-4",children:[(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Auto subsample chroma"}),(0,g.jsx)(ip,{checked:e.auto_subsample,onChange:e=>r("auto_subsample",e.target.checked)})]}),(0,g.jsx)(rm.default,{in:!e.auto_subsample,children:(0,g.jsx)("div",{children:(0,g.jsx)(ib,{min:1,max:4,value:e.chroma_subsample,onChange:e=>r("chroma_subsample",Number(e.target.value)),children:"Subsample chroma by"})})}),(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Separate chroma quality"}),(0,g.jsx)(ip,{checked:e.separate_chroma_quality,onChange:e=>r("separate_chroma_quality",e.target.checked)})]}),(0,g.jsx)(rm.default,{in:e.separate_chroma_quality,children:(0,g.jsx)("div",{children:(0,g.jsx)(ib,{min:0,max:100,value:e.chroma_quality,onChange:e=>r("chroma_quality",Number(e.target.value)),children:"Chroma quality"})})})]})}),(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Pointless spec compliance"}),(0,g.jsx)(ip,{checked:e.baseline,onChange:e=>r("baseline",e.target.checked)})]}),(0,g.jsx)(rm.default,{in:!e.baseline,children:(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Progressive rendering"}),(0,g.jsx)(ip,{checked:e.progressive,onChange:e=>r("progressive",e.target.checked)})]})}),(0,g.jsx)(rm.default,{in:e.baseline,children:(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Optimize Huffman table"}),(0,g.jsx)(ip,{checked:e.optimize_coding,onChange:e=>r("optimize_coding",e.target.checked)})]})}),(0,g.jsx)(ib,{min:0,max:100,value:e.smoothing,onChange:e=>r("smoothing",Number(e.target.value)),children:"Smoothing"}),(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Quantization"}),(0,g.jsxs)(im,{value:e.quant_table,onChange:e=>r("quant_table",Number(e.target.value)),children:[(0,g.jsx)("option",{value:0,children:"JPEG Annex K"}),(0,g.jsx)("option",{value:1,children:"Flat"}),(0,g.jsx)("option",{value:2,children:"MSSIM-tuned Kodak"}),(0,g.jsx)("option",{value:3,children:"ImageMagick"}),(0,g.jsx)("option",{value:4,children:"PSNR-HVS-M-tuned Kodak"}),(0,g.jsx)("option",{value:5,children:"Klein et al"}),(0,g.jsx)("option",{value:6,children:"Watson et al"}),(0,g.jsx)("option",{value:7,children:"Ahumada et al"}),(0,g.jsx)("option",{value:8,children:"Peterson et al"})]})]}),(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Trellis multipass"}),(0,g.jsx)(ip,{checked:e.trellis_multipass,onChange:e=>r("trellis_multipass",e.target.checked)})]}),(0,g.jsx)(rm.default,{in:e.trellis_multipass,children:(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Optimize zero block runs"}),(0,g.jsx)(ip,{checked:e.trellis_opt_zero,onChange:e=>r("trellis_opt_zero",e.target.checked)})]})}),(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Optimize after trellis quantization"}),(0,g.jsx)(ip,{checked:e.trellis_opt_table,onChange:e=>r("trellis_opt_table",e.target.checked)})]}),(0,g.jsx)(ib,{min:1,max:50,value:e.trellis_loops,onChange:e=>r("trellis_loops",Number(e.target.value)),children:"Trellis quantization passes"})]})})]})}let rg=[[0,0],[1,20],[2,25],[3,30],[3,50],[4,50],[4,75],[4,90],[5,90],[6,100]];function rb({options:e,onChange:t}){var n,i;let r,[s,a]=(0,nI.useState)(!1),o=!!e.lossless,l=(n=e.quality,i=e.method,-1!==(r=rg.findIndex(([e,t])=>e===i&&t===n))?r:6),u=(n,i)=>{t({...e,[n]:i})};return(0,g.jsx)("div",{className:"d-flex flex-column gap-4",children:o?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ib,{min:0,max:9,value:l,onChange:n=>(n=>{let[i,r]=rg[n];t({...e,method:i,quality:r})})(Number(n.target.value)),children:"Effort"}),(0,g.jsx)(ib,{min:0,max:100,value:100-e.near_lossless,onChange:n=>{var i;return i=Number(n.target.value),void t({...e,near_lossless:100-i})},children:"Slight loss"}),(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Discrete tone image"}),(0,g.jsx)(ip,{checked:0!==e.image_hint,onChange:e=>u("image_hint",3*!!e.target.checked)})]})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ib,{min:0,max:100,step:.1,value:e.quality,onChange:e=>u("quality",Number(e.target.value)),trackColor:"var(--bs-primary)",children:"Quality"}),(0,g.jsx)(ib,{min:0,max:6,value:e.method,onChange:e=>u("method",Number(e.target.value)),children:"Effort"}),s&&(0,g.jsx)(rm.default,{in:s,children:(0,g.jsxs)("div",{className:"d-flex flex-column gap-4 ps-4",children:[(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Compress alpha"}),(0,g.jsx)(ip,{checked:!!e.alpha_compression,onChange:e=>u("alpha_compression",+!!e.target.checked)})]}),(0,g.jsx)(ib,{min:0,max:100,value:e.alpha_quality,onChange:e=>u("alpha_quality",Number(e.target.value)),children:"Alpha quality"}),(0,g.jsx)(ib,{min:0,max:2,value:e.alpha_filtering,onChange:e=>u("alpha_filtering",Number(e.target.value)),children:"Alpha filter quality"}),(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Auto adjust filter strength"}),(0,g.jsx)(ip,{checked:!!e.autofilter,onChange:e=>u("autofilter",+!!e.target.checked)})]}),(0,g.jsx)(rm.default,{in:!e.autofilter,children:(0,g.jsx)("div",{children:(0,g.jsx)(ib,{min:0,max:100,value:e.filter_strength,onChange:e=>u("filter_strength",Number(e.target.value)),children:"Filter strength"})})}),(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Strong filter"}),(0,g.jsx)(ip,{checked:!!e.filter_type,onChange:e=>u("filter_type",+!!e.target.checked)})]}),(0,g.jsx)(ib,{min:0,max:7,value:7-e.filter_sharpness,onChange:n=>{var i;return i=Number(n.target.value),void t({...e,filter_sharpness:7-i})},children:"Filter sharpness"}),(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Sharp RGBYUV conversion"}),(0,g.jsx)(ip,{checked:!!e.use_sharp_yuv,onChange:e=>u("use_sharp_yuv",+!!e.target.checked)})]}),(0,g.jsx)(ib,{min:1,max:10,value:e.pass,onChange:e=>u("pass",Number(e.target.value)),children:"Passes"}),(0,g.jsx)(ib,{min:0,max:100,value:e.sns_strength,onChange:e=>u("sns_strength",Number(e.target.value)),children:"Spatial noise shaping"}),(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Preprocess"}),(0,g.jsxs)(im,{value:e.preprocessing,onChange:e=>u("preprocessing",Number(e.target.value)),children:[(0,g.jsx)("option",{value:0,children:"None"}),(0,g.jsx)("option",{value:1,children:"Segment smooth"}),(0,g.jsx)("option",{value:2,children:"Pseudo-random dithering"})]})]}),(0,g.jsx)(ib,{min:1,max:4,value:e.segments,onChange:e=>u("segments",Number(e.target.value)),children:"Segments"}),(0,g.jsx)(ib,{min:0,max:3,value:e.partitions,onChange:e=>u("partitions",Number(e.target.value)),children:"Partitions"})]})})]})})}function r_({options:e,onChange:t}){let[n,i]=(0,nI.useState)(!0),[r,s]=(0,nI.useState)(100===e.quality),[a,o]=(0,nI.useState)(e.lossyPalette),[l,u]=(0,nI.useState)(e.quality),[c,d]=(0,nI.useState)(e.lossyModular),[h,f]=(0,nI.useState)(-1===e.epf),[p,m]=(0,nI.useState)(-1===e.epf?2:e.epf),[v,b]=(0,nI.useState)(e.decodingSpeedTier),[_,y]=(0,nI.useState)(e.photonNoiseIso),[x,j]=(0,nI.useState)(e.progressive),[w,S]=(0,nI.useState)(e.effort);(0,nI.useEffect)(()=>{s(100===e.quality),o(e.lossyPalette),u(e.quality),d(e.lossyModular),f(-1===e.epf),m(-1===e.epf?2:e.epf),b(e.decodingSpeedTier),y(e.photonNoiseIso),j(e.progressive),S(e.effort),i(100!==e.quality)},[e]);let O=(0,nI.useCallback)(()=>{t({effort:w,quality:r?100:l,progressive:x,epf:h?-1:p,lossyPalette:!!r&&a,decodingSpeedTier:v,photonNoiseIso:_,lossyModular:l<7||c})},[w,r,l,x,h,p,a,v,_,c,t]);return(0,nI.useEffect)(()=>{O()},[O]),(0,g.jsxs)("div",{className:"d-flex flex-column gap-4",children:[r&&(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(rm.default,{in:r,children:(0,g.jsx)("div",{children:(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{className:"fw-medium",children:"Slight loss"}),(0,g.jsx)(ip,{checked:a,onChange:e=>o(e.target.checked)})]})})})}),(0,g.jsx)(rm.default,{in:!r,children:(0,g.jsx)("div",{className:"d-flex flex-column gap-4",children:(0,g.jsx)(ib,{min:0,max:99.9,step:.1,value:l,onChange:e=>u(Number(e.target.value)),trackColor:"var(--bs-primary)",children:"Quality"})})})]})}let ry=nX(()=>{let e=iM.hasTaskRunning(),t=iM.tempOption.resize.method,n=iM.tempOption.format.target||"",i=null;return"fitWidth"===t?i=(0,g.jsx)("input",{type:"number",className:"form-control",min:"0",step:"1",disabled:e,placeholder:"Width (px)",value:iM.tempOption.resize.width??"",onChange:e=>{iM.tempOption.resize.width=e.target.value?Number(e.target.value):void 0}}):"fitHeight"===t?i=(0,g.jsx)("input",{type:"number",className:"form-control",min:"0",step:"1",disabled:e,placeholder:"Height (px)",value:iM.tempOption.resize.height??"",onChange:e=>{iM.tempOption.resize.height=e.target.value?Number(e.target.value):void 0}}):"setShort"===t?i=(0,g.jsx)("input",{type:"number",className:"form-control",min:"0",step:"1",disabled:e,placeholder:"Short side (px)",value:iM.tempOption.resize.short??"",onChange:e=>{iM.tempOption.resize.short=e.target.value?Number(e.target.value):void 0}}):"setLong"===t?i=(0,g.jsx)("input",{type:"number",className:"form-control",min:"0",step:"1",disabled:e,placeholder:"Long side (px)",value:iM.tempOption.resize.long??"",onChange:e=>{iM.tempOption.resize.long=e.target.value?Number(e.target.value):void 0}}):"setCropRatio"===t?i=(0,g.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,g.jsx)("input",{type:"number",className:"form-control",min:"1",step:"1",disabled:e,placeholder:"Width ratio",value:iM.tempOption.resize.cropWidthRatio??"",onChange:e=>{iM.tempOption.resize.cropWidthRatio=e.target.value?Number(e.target.value):void 0}}),(0,g.jsx)("span",{className:"fw-bold",children:":"}),(0,g.jsx)("input",{type:"number",className:"form-control",min:"1",step:"1",disabled:e,placeholder:"Height ratio",value:iM.tempOption.resize.cropHeightRatio??"",onChange:e=>{iM.tempOption.resize.cropHeightRatio=e.target.value?Number(e.target.value):void 0}})]}):"setCropSize"===t&&(i=(0,g.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,g.jsx)("input",{type:"number",className:"form-control",min:"1",step:"1",disabled:e,placeholder:"Crop width",value:iM.tempOption.resize.cropWidthSize??"",onChange:e=>{iM.tempOption.resize.cropWidthSize=e.target.value?Number(e.target.value):void 0}}),(0,g.jsx)("span",{className:"fw-bold",children:""}),(0,g.jsx)("input",{type:"number",className:"form-control",min:"1",step:"1",disabled:e,placeholder:"Crop height",value:iM.tempOption.resize.cropHeightSize??"",onChange:e=>{iM.tempOption.resize.cropHeightSize=e.target.value?Number(e.target.value):void 0}})]})),["jpg","jpeg"].includes(n),(0,g.jsxs)("div",{className:"d-flex flex-column gap-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h6",{className:"fw-semibold mb-3",children:"Resize"}),(0,g.jsxs)(rp,{children:[(0,g.jsxs)("select",{className:"form-select",value:t||"",disabled:e,onChange:e=>{let t=e.target.value;iM.tempOption.resize={method:t||void 0,width:void 0,height:void 0,short:void 0,long:void 0,cropWidthRatio:void 0,cropHeightRatio:void 0,cropWidthSize:void 0,cropHeightSize:void 0}},children:[(0,g.jsx)("option",{value:"",children:"No resize"}),[{value:"fitWidth",label:"Fit Width"},{value:"fitHeight",label:"Fit Height"},{value:"setShort",label:"Set Short Side"},{value:"setLong",label:"Set Long Side"},{value:"setCropRatio",label:"Crop by Ratio"},{value:"setCropSize",label:"Crop by Size"}].map(e=>(0,g.jsx)("option",{value:e.value,children:e.label},e.value))]}),i&&(0,g.jsx)("div",{className:"mt-2",children:i})]})]}),(0,g.jsx)("hr",{className:"my-4"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h6",{className:"fw-semibold mb-3",children:"Output Format"}),(0,g.jsx)(rp,{children:(0,g.jsxs)("select",{className:"form-select",value:n,disabled:e,onChange:e=>{let t=e.target.value;iM.tempOption.format.target=t||void 0},children:[(0,g.jsx)("option",{value:"",children:"Original format"}),Object.keys(is.Mimes).filter(e=>!["svg","gif"].includes(e)).map(e=>"jxl"===e?{value:e,label:"JPEG XL"}:{value:e,label:e.toUpperCase()}).map(e=>(0,g.jsx)("option",{value:e.value,children:e.label},e.value))]})})]}),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("hr",{className:"my-4"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h6",{className:"fw-semibold mb-3",children:"JPEG Options"}),(0,g.jsx)(rv,{options:iM.tempOption.jpeg,onChange:e=>{iM.tempOption.jpeg=e}})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h6",{className:"fw-semibold mb-3",children:"JPEG XL Options"}),(0,g.jsx)("div",{children:(0,g.jsx)(r_,{options:iC,onChange:e=>{iM.tempOption.jxl=e}})})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h6",{className:"fw-semibold mb-3",children:"PNG Options"}),(0,g.jsxs)(rp,{desc:"Number of colors (2256)",children:[(0,g.jsx)("input",{type:"range",className:"form-range",min:"2",max:"256",step:"1",disabled:e,value:iM.tempOption.png.colors,onChange:e=>{iM.tempOption.png.colors=parseInt(e.target.value)}}),(0,g.jsxs)("div",{className:"text-center text-muted small",children:[iM.tempOption.png.colors," colors"]})]}),(0,g.jsxs)(rp,{desc:"Dithering (0 = none, 1 = full)",children:[(0,g.jsx)("input",{type:"range",className:"form-range",min:"0",max:"1",step:"0.01",disabled:e,value:iM.tempOption.png.dithering,onChange:e=>{iM.tempOption.png.dithering=parseFloat(e.target.value)}}),(0,g.jsxs)("div",{className:"text-center text-muted small",children:[(100*iM.tempOption.png.dithering).toFixed(0),"%"]})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h6",{className:"fw-semibold mb-3",children:"GIF Options"}),(0,g.jsx)(rp,{children:(0,g.jsxs)("div",{className:"form-check",children:[(0,g.jsx)("input",{className:"form-check-input",type:"checkbox",id:"gifDithering",checked:iM.tempOption.gif.dithering,disabled:e,onChange:e=>{iM.tempOption.gif.dithering=e.target.checked}}),(0,g.jsx)("label",{className:"form-check-label",htmlFor:"gifDithering",children:"Enable dithering"})]})}),(0,g.jsxs)(rp,{desc:"Number of colors (2256)",children:[(0,g.jsx)("input",{type:"range",className:"form-range",min:"2",max:"256",step:"1",disabled:e,value:iM.tempOption.gif.colors,onChange:e=>{iM.tempOption.gif.colors=parseInt(e.target.value)}}),(0,g.jsxs)("div",{className:"text-center text-muted small",children:[iM.tempOption.gif.colors," colors"]})]})]}),is.Mimes.avif&&(0,g.jsxs)("div",{children:[(0,g.jsx)("h6",{className:"fw-semibold mb-3",children:"AVIF Options"}),(0,g.jsx)("div",{children:(0,g.jsx)(i_,{options:io,onChange:e=>{iM.tempOption.avif=e}})})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h6",{className:"fw-semibold mb-3",children:"WEBP Options"}),(0,g.jsx)("div",{children:(0,g.jsx)(rb,{options:iM.tempOption.webp,onChange:e=>{iM.tempOption.webp=e}})})]})]})]})});var rx=e.i(789998),rj=e.i(650720);let rw=nX(()=>{let e=iM.hasTaskRunning(),t=(0,g.jsx)(rj.default,{id:"option-help-popover",className:"shadow",children:(0,g.jsx)(rj.default.Body,{className:"p-3 small",children:"Customize compression settings. Modifications to the options will be applied to all images."})}),n=(0,g.jsxs)("div",{className:"h-100 d-flex flex-column",children:[(0,g.jsxs)("div",{className:"p-3 border-bottom bg-body-tertiary d-flex justify-content-between align-items-center",children:[(0,g.jsx)(rx.default,{trigger:["hover","focus"],placement:"bottom",overlay:t,delay:{show:150,hide:300},children:(0,g.jsx)("div",{className:"text-secondary",tabIndex:0,children:(0,g.jsx)("i",{className:"bi bi-exclamation-circle fs-5"})})}),(0,g.jsxs)("div",{className:"d-flex gap-2",children:[(0,g.jsxs)("button",{className:"btn btn-outline-secondary btn-sm",disabled:e,onClick:()=>{iM.tempOption={...iA},iM.option={...iA},iM.reCompress()},children:[(0,g.jsx)("i",{className:"bi bi-arrow-clockwise me-1"}),"Reset"]}),(0,g.jsxs)("button",{className:"btn btn-primary btn-sm",disabled:e,onClick:()=>{iM.option=tZ(iM.tempOption),iM.reCompress()},children:[(0,g.jsx)("i",{className:"bi bi-check-lg me-1"}),"Apply"]})]})]}),(0,g.jsx)("div",{className:"flex-grow-1 overflow-auto p-3 bg-body",children:(0,g.jsx)(ry,{})})]});return(0,g.jsx)("div",{className:(0,iI.default)(rh.default.side,rh.default.sidePc,"h-100 bg-body border-start shadow-sm"),children:n})});var rS=e.i(482791),rO=e.i(487266);let rN=nX(()=>{let{currentTheme:e}=(0,ri.useTheme)(),t=(0,nI.useRef)(iM.list.get(iM.compareId)),n=(0,nI.useRef)(null),i=(0,nI.useRef)(null),[r,s]=(0,nI.useState)({x:0,xrate:.5,scale:.8,moving:!1,status:"show",dividerWidth:4,containerWidth:0,containerHeight:0,imageWidth:0,imageHeight:0}),[a,o]=(0,nI.useState)(!1),[l,u]=(0,nI.useState)(!1),c=(0,nI.useCallback)(e=>{s(t=>({...t,...e}))},[]),d=(0,nI.useCallback)(()=>r,[r]),h=(0,nI.useRef)(c),f=(0,nI.useRef)(d);(0,nI.useEffect)(()=>{h.current=c,f.current=d},[c,d]),(0,nI.useEffect)(()=>{let e=document.documentElement,r=i.current,s=!1,a=0,o=()=>{let e,i,r=f.current(),s=n.current.getBoundingClientRect();t.current.width/t.current.height>s.width/s.height?i=(e=s.width*r.scale)*t.current.height/t.current.width:e=(i=s.height*r.scale)*t.current.width/t.current.height,h.current({x:s.width*r.xrate,imageWidth:e,imageHeight:i,containerWidth:s.width,containerHeight:s.height})},l=e=>{s=!0,a=e.clientX,h.current({moving:!0})},u=()=>{s=!1,a=0,h.current({moving:!1})},c=e=>{if(s){let t=f.current(),n=t.x+e.clientX-a,i=(t.containerWidth-t.imageWidth)/2,r=(t.containerWidth+t.imageWidth)/2;n<i&&(n=i),n>r&&(n=r),a=e.clientX,h.current({x:n,xrate:n/t.containerWidth})}},d=e=>{let n,i;e.preventDefault();let r=f.current(),s=r.scale-.001*e.deltaY;s=Math.max(.1,Math.min(1,s)),t.current.width/t.current.height>r.containerWidth/r.containerHeight?i=(n=r.containerWidth*s)*t.current.height/t.current.width:n=(i=r.containerHeight*s)*t.current.width/t.current.height;let a=(r.x-(r.containerWidth-r.imageWidth)/2)/r.imageWidth*n+(r.containerWidth-n)/2;h.current({scale:s,imageWidth:n,imageHeight:i,x:a})};return window.addEventListener("resize",o),n.current.addEventListener("wheel",d,{passive:!1}),r.addEventListener("mousedown",l),e.addEventListener("mousemove",c),e.addEventListener("mouseup",u),o(),()=>{window.removeEventListener("resize",o),n.current?.removeEventListener("wheel",d),r.removeEventListener("mousedown",l),e.removeEventListener("mousemove",c),e.removeEventListener("mouseup",u)}},[]);let p={width:`${r.x}px`},m={width:`${r.containerWidth-r.x}px`},v={width:`${r.dividerWidth}px`,left:`${r.x-r.dividerWidth/2}px`,opacity:+(0!==r.x)},b={opacity:l&&a?1:0,transition:"opacity 0.3s ease"},_={width:r.imageWidth,height:r.imageHeight,left:`${(r.containerWidth-r.imageWidth)/2}px`,...b},y={width:r.imageWidth,height:r.imageHeight,right:`${(r.containerWidth-r.imageWidth)/2}px`,...b},x=`${rS.default.container} ${r.moving?rS.default.moving:""} ${"show"===r.status?rS.default.show:rS.default.hide}`,j="dark"===e?"outline-light":"outline-dark",w=(0,g.jsx)(rj.default,{id:"compare-help-popover",children:(0,g.jsx)(rj.default.Body,{className:"text-small",children:iM.locale?.previewHelp||"Move the divider to compare original and compressed images. Use mouse wheel to zoom."})});return(0,nH.createPortal)((0,g.jsxs)("div",{className:x,ref:n,onAnimationEnd:e=>{e.animationName===rS.default.BoxHide&&(iM.compareId=null)},children:[(0,g.jsx)("div",{className:"position-absolute top-0 start-0 bottom-0 overflow-hidden",style:p,children:(0,g.jsx)("img",{src:t.current.src,style:_,alt:"Original",onLoad:()=>o(!0)})}),(0,g.jsx)("div",{className:"position-absolute top-0 end-0 bottom-0 overflow-hidden",style:m,children:(0,g.jsx)("img",{src:"image/jxl"===t.current.compress.blob.type?t.current.src:t.current.compress.src,style:y,alt:"Compressed",onLoad:()=>u(!0)})}),(0,g.jsx)("div",{className:`position-absolute top-0 bottom-0 ${"dark"===e?"bg-dark":"bg-white"} ${"dark"===e?"shadow":"shadow-sm"} d-flex align-items-center justify-content-center user-select-none`,style:v,ref:i,children:(0,g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"currentColor",className:"dark"===e?"text-light":"text-dark",children:(0,g.jsx)("path",{d:"M6.45,17.45L1,12L6.45,6.55L7.86,7.96L4.83,11H19.17L16.14,7.96L17.55,6.55L23,12L17.55,17.45L16.14,16.04L19.17,13H4.83L7.86,16.04L6.45,17.45Z"})})}),(0,g.jsx)("div",{className:`position-absolute top-0 end-0 p-3 ${rS.default.action}`,children:(0,g.jsxs)("div",{className:"btn-group shadow",role:"group",children:[(0,g.jsx)(rx.default,{trigger:["hover","focus"],placement:"bottom-end",overlay:w,children:(0,g.jsx)(rO.default,{size:"sm",variant:j,children:(0,g.jsx)("i",{className:"bi bi-question-circle"})})}),(0,g.jsx)(rO.default,{size:"sm",variant:j,onClick:()=>h.current({status:"hide"}),"aria-label":"Close",children:(0,g.jsx)("i",{className:"bi bi-x-lg"})})]})})]}),document.body)}),rk=nX(()=>((0,nI.useEffect)(()=>{iR=new Worker(e.r(41515),{type:"module",type:void 0}),iD=new Worker(e.r(925306),{type:"module",type:void 0});let t=e=>iz(e);return iR.addEventListener("message",t),iD.addEventListener("message",t),()=>{iR.removeEventListener("message",t),iD.removeEventListener("message",t),iR.terminate(),iD.terminate(),iR=null,iD=null}},[]),(0,g.jsxs)(b.default,{children:[(0,g.jsx)(_.default,{title:"",children:(0,g.jsx)(y.default,{gap:"5",children:(0,g.jsxs)(re.default,{gap:"3",alignment:"start",distribution:"between",children:[0===iM.list.size?(0,g.jsx)(iG,{}):(0,g.jsx)(rd,{}),(0,g.jsx)(rw,{})]})})}),null!==iM.compareId&&(0,g.jsx)(rN,{})]})));e.s(["default",0,rk],687124)}]);