(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41515,e=>{e.v(e.b(["static/chunks/670a9b842c499812.js","static/chunks/e982a4054fa65fa2.js","static/chunks/turbopack-9e2c6619bc6e75ef.js"]))},925306,e=>{e.v(e.b(["static/chunks/aeb3dbb4a3ec4d22.js","static/chunks/e982a4054fa65fa2.js","static/chunks/turbopack-152e0c0571ce3a9e.js"]))},327505,e=>{e.v({file:"index-module-scss-module__Z2SdlW__file"})},210670,e=>{e.v({active:"index-module-scss-module__fwuHyG__active",container:"index-module-scss-module__fwuHyG__container",inner:"index-module-scss-module__fwuHyG__inner",mask:"index-module-scss-module__fwuHyG__mask",pasteHint:"index-module-scss-module__fwuHyG__pasteHint"})},598244,(e,t,n)=>{"use strict";n.match=function(e,t){return l(e).some(function(e){var n=e.inverse,i="all"===e.type||t.type===e.type;if(i&&n||!(i||n))return!1;var r=e.expressions.every(function(e){var n=e.feature,i=e.modifier,r=e.value,s=t[n];if(!s)return!1;switch(n){case"orientation":case"scan":return s.toLowerCase()===r.toLowerCase();case"width":case"height":case"device-width":case"device-height":r=d(r),s=d(s);break;case"resolution":r=c(r),s=c(s);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":r=u(r),s=u(s);break;case"grid":case"color":case"color-index":case"monochrome":r=parseInt(r,10)||1,s=parseInt(s,10)||0}switch(i){case"min":return s>=r;case"max":return s<=r;default:return s===r}});return r&&!n||!r&&n})},n.parse=l;var i=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,r=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,s=/^(?:(min|max)-)?(.+)/,a=/(em|rem|px|cm|mm|in|pt|pc)?$/,o=/(dpi|dpcm|dppx)?$/;function l(e){return e.split(",").map(function(e){var t=(e=e.trim()).match(i),n=t[1],a=t[2],o=t[3]||"",l={};return l.inverse=!!n&&"not"===n.toLowerCase(),l.type=a?a.toLowerCase():"all",l.expressions=(o=o.match(/\([^\)]+\)/g)||[]).map(function(e){var t=e.match(r),n=t[1].toLowerCase().match(s);return{modifier:n[1],feature:n[2],value:t[2]}}),l})}function u(e){var t,n=Number(e);return n||(n=(t=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/t[2]),n}function c(e){var t=parseFloat(e);switch(String(e).match(o)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function d(e){var t=parseFloat(e);switch(String(e).match(a)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}},874144,(e,t,n)=>{"use strict";var i=e.r(598244).match,r="undefined"!=typeof window?window.matchMedia:null;function s(e,t,n){var s,a=this;function o(e){a.matches=e.matches,a.media=e.media}r&&!n&&(s=r.call(window,e)),s?(this.matches=s.matches,this.media=s.media,s.addListener(o)):(this.matches=i(e,t),this.media=e),this.addListener=function(e){s&&s.addListener(e)},this.removeListener=function(e){s&&s.removeListener(e)},this.dispose=function(){s&&s.removeListener(o)}}t.exports=function(e,t,n){return new s(e,t,n)}},700362,e=>{e.v({action:"index-module-scss-module__Z3SrLW__action",actionlink:"index-module-scss-module__Z3SrLW__actionlink",container:"index-module-scss-module__Z3SrLW__container",content:"index-module-scss-module__Z3SrLW__content",fileok:"index-module-scss-module__Z3SrLW__fileok",github:"index-module-scss-module__Z3SrLW__github",header:"index-module-scss-module__Z3SrLW__header",locale:"index-module-scss-module__Z3SrLW__locale",main:"index-module-scss-module__Z3SrLW__main",name:"index-module-scss-module__Z3SrLW__name",preview:"index-module-scss-module__Z3SrLW__preview",status:"index-module-scss-module__Z3SrLW__status"})},900702,e=>{e.v(e.b(["static/chunks/be0944c962bef860.js","static/chunks/891876380819c261.js","static/chunks/turbopack-3c12628625cf61dc.js"]))},682980,e=>{e.v({optionHelp:"index-module-scss-module__i4M26G__optionHelp",optionHelpBox:"index-module-scss-module__i4M26G__optionHelpBox",sideMobile:"index-module-scss-module__i4M26G__sideMobile",sidePad:"index-module-scss-module__i4M26G__sidePad",sidePc:"index-module-scss-module__i4M26G__sidePc"})},53331,e=>{e.v({container:"index-module-scss-module__cBEnnG__container",desc:"index-module-scss-module__cBEnnG__desc"})},482791,e=>{e.v({BoxHide:"index-module-scss-module__EZuDuq__BoxHide",BoxShow:"index-module-scss-module__EZuDuq__BoxShow",action:"index-module-scss-module__EZuDuq__action",after:"index-module-scss-module__EZuDuq__after",before:"index-module-scss-module__EZuDuq__before",container:"index-module-scss-module__EZuDuq__container",hide:"index-module-scss-module__EZuDuq__hide",moving:"index-module-scss-module__EZuDuq__moving",show:"index-module-scss-module__EZuDuq__show"})},687124,e=>{"use strict";var t,n,i,r,s,a,o,l,u,c,d,h,f,p,m,v=e.i(843476),g=e.i(439911),b=e.i(968889),_=e.i(421072);function y(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}function x(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:e.g}e.i(247167);var j=Object.assign,w=Object.getOwnPropertyDescriptor,S=Object.defineProperty,O=Object.prototype,k=[];Object.freeze(k);var N={};Object.freeze(N);var A="undefined"!=typeof Proxy,C=Object.toString();function P(){A||y("Proxy not available")}function M(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var E=function(){};function L(e){return"function"==typeof e}function R(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function D(e){return null!==e&&"object"==typeof e}function z(e){if(!D(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===C}function T(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function V(e,t,n){S(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function B(e,t,n){S(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function I(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return D(e)&&!0===e[n]}}function W(e){return null!=e&&"[object Map]"===Object.prototype.toString.call(e)}function q(e){return null!=e&&"[object Set]"===Object.prototype.toString.call(e)}var H=void 0!==Object.getOwnPropertySymbols,U="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:H?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function F(e){return null===e?null:"object"==typeof e?""+e:e}function G(e,t){return O.hasOwnProperty.call(e,t)}var $=Object.getOwnPropertyDescriptors||function(e){var t={};return U(e).forEach(function(n){t[n]=w(e,n)}),t};function K(e,t,n){return n?e|=t:e&=~t,e}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function Y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}function X(e,t,n){return t&&Y(e.prototype,t),n&&Y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function J(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Z(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Q(){return(Q=Object.assign.bind()).apply(null,arguments)}function ee(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,et(e,t)}function et(e,t){return(et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var en=Symbol("mobx-stored-annotations");function ei(e){return Object.assign(function(t,n){if(es(n))return e.decorate_20223_(t,n);er(t,n,e)},e)}function er(e,t,n){G(e,en)||V(e,en,Q({},e[en])),"override"!==n.annotationType_&&(e[en][t]=n)}function es(e){return"object"==typeof e&&"string"==typeof e.kind}var ea=Symbol("mobx administration"),eo=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=d.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.reportObserved=function(){return tg(this)},t.reportChanged=function(){tm(),tb(this),tv()},t.toString=function(){return this.name_},X(e,[{key:"isBeingObserved",get:function(){return!!(this.flags_&e.isBeingObservedMask_)},set:function(t){this.flags_=K(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return!!(this.flags_&e.isPendingUnobservationMask_)},set:function(t){this.flags_=K(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return+!!(this.flags_&e.diffValueMask_)},set:function(t){this.flags_=K(this.flags_,e.diffValueMask_,1===t)}}])}();eo.isBeingObservedMask_=1,eo.isPendingUnobservationMask_=2,eo.diffValueMask_=4;var el=I("Atom",eo);function eu(e,t,n){void 0===t&&(t=E),void 0===n&&(n=E);var i=new eo(e);return t!==E&&tz("onBO",i,t,void 0),n!==E&&tD(i,n),i}var ec=function(e,t){return nR(e,t)},ed=function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t};function eh(e,t,n){if(tG(e))return e;if(Array.isArray(e))return eF.array(e,{name:n});if(z(e))return eF.object(e,void 0,{name:n});if(W(e))return eF.map(e,{name:n});if(q(e))return eF.set(e,{name:n});if("function"==typeof e&&!tL(e)&&!tF(e))if(T(e))return tH(e);else return tE(n,e);return e}function ef(e){return e}function ep(e,t){return{annotationType_:e,options_:t,make_:em,extend_:ev,decorate_20223_:eg}}function em(e,t,n,i){if(null!=(r=this.options_)&&r.bound)return+(null!==this.extend_(e,t,n,!1));if(i===e.target_)return 2*(null!==this.extend_(e,t,n,!1));if(tL(n.value))return 1;var r,s=eb(e,this,t,n,!1);return S(i,t,s),2}function ev(e,t,n,i){var r=eb(e,this,t,n);return e.defineProperty_(t,r,i)}function eg(e,t){var n,i=t.kind,r=t.name,s=t.addInitializer,a=this,o=function(e){var t,n,i,s;return e0(null!=(t=null==(n=a.options_)?void 0:n.name)?t:r.toString(),e,null!=(i=null==(s=a.options_)?void 0:s.autoAction)&&i)};return"field"==i?function(e){var t,n=e;return tL(n)||(n=o(n)),null!=(t=a.options_)&&t.bound&&((n=n.bind(this)).isMobxAction=!0),n}:"method"==i?(tL(e)||(e=o(e)),null!=(n=this.options_)&&n.bound&&s(function(){var e=this[r].bind(this);e.isMobxAction=!0,this[r]=e}),e):void y("Cannot apply '"+a.annotationType_+"' to '"+String(r)+"' (kind: "+i+"):\n'"+a.annotationType_+"' can only be used on properties with a function value.")}function eb(e,t,n,i,r){void 0===r&&(r=th.safeDescriptors),t.annotationType_,i.value;var s,a,o,l,u,c,d,h,f=i.value;return null!=(s=t.options_)&&s.bound&&(f=f.bind(null!=(h=e.proxy_)?h:e.target_)),{value:e0(null!=(a=null==(o=t.options_)?void 0:o.name)?a:n.toString(),f,null!=(l=null==(u=t.options_)?void 0:u.autoAction)&&l,null!=(c=t.options_)&&c.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!r||e.isPlainObject_,enumerable:!1,writable:!r}}function e_(e,t){return{annotationType_:e,options_:t,make_:ey,extend_:ex,decorate_20223_:ej}}function ey(e,t,n,i){if(i===e.target_)return 2*(null!==this.extend_(e,t,n,!1));if(null!=(r=this.options_)&&r.bound&&(!G(e.target_,t)||!tF(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(tF(n.value))return 1;var r,s=ew(e,this,t,n,!1,!1);return S(i,t,s),2}function ex(e,t,n,i){var r,s=ew(e,this,t,n,null==(r=this.options_)?void 0:r.bound);return e.defineProperty_(t,s,i)}function ej(e,t){var n,i=t.name,r=t.addInitializer;return tF(e)||(e=tH(e)),null!=(n=this.options_)&&n.bound&&r(function(){var e=this[i].bind(this);e.isMobXFlow=!0,this[i]=e}),e}function ew(e,t,n,i,r,s){void 0===s&&(s=th.safeDescriptors),t.annotationType_,i.value;var a,o=i.value;return tF(o)||(o=tH(o)),r&&((o=o.bind(null!=(a=e.proxy_)?a:e.target_)).isMobXFlow=!0),{value:o,configurable:!s||e.isPlainObject_,enumerable:!1,writable:!s}}function eS(e,t){return{annotationType_:e,options_:t,make_:eO,extend_:ek,decorate_20223_:eN}}function eO(e,t,n){return+(null!==this.extend_(e,t,n,!1))}function ek(e,t,n,i){var r,s;return r=this,s=n,r.annotationType_,s.get,e.defineComputedProperty_(t,Q({},this.options_,{get:n.get,set:n.set}),i)}function eN(e,t){var n=this,i=t.name;return(0,t.addInitializer)(function(){var t=ng(this)[ea],r=Q({},n.options_,{get:e,context:this});r.name||(r.name="ObservableObject."+i.toString()),t.values_.set(i,new e4(r))}),function(){return this[ea].getObservablePropValue_(i)}}function eA(e,t){return{annotationType_:e,options_:t,make_:eC,extend_:eP,decorate_20223_:eM}}function eC(e,t,n){return+(null!==this.extend_(e,t,n,!1))}function eP(e,t,n,i){var r,s,a;return a=this,a.annotationType_,e.defineObservableProperty_(t,n.value,null!=(r=null==(s=this.options_)?void 0:s.enhancer)?r:eh,i)}function eM(e,t){var n=this,i=t.kind,r=t.name,s=new WeakSet;function a(e,t){var i,a,o=ng(e)[ea],l=new e2(t,null!=(i=null==(a=n.options_)?void 0:a.enhancer)?i:eh,"ObservableObject."+r.toString(),!1);o.values_.set(r,l),s.add(e)}if("accessor"==i)return{get:function(){return s.has(this)||a(this,e.get.call(this)),this[ea].getObservablePropValue_(r)},set:function(e){return s.has(this)||a(this,e),this[ea].setObservablePropValue_(r,e)},init:function(e){return s.has(this)||a(this,e),e}}}var eE=eL();function eL(e){return{annotationType_:"true",options_:e,make_:eR,extend_:eD,decorate_20223_:ez}}function eR(e,t,n,i){if(n.get)return eZ.make_(e,t,n,i);if(n.set){var r,s,a,o,l,u=tL(n.set)?n.set:e0(t.toString(),n.set);return i===e.target_?2*(null!==e.defineProperty_(t,{configurable:!th.safeDescriptors||e.isPlainObject_,set:u})):(S(i,t,{configurable:!0,set:u}),2)}if(i!==e.target_&&"function"==typeof n.value)return T(n.value)?(null!=(o=this.options_)&&o.autoBind?tH.bound:tH).make_(e,t,n,i):(null!=(a=this.options_)&&a.autoBind?tE.bound:tE).make_(e,t,n,i);var c=(null==(r=this.options_)?void 0:r.deep)===!1?eF.ref:eF;return"function"==typeof n.value&&null!=(s=this.options_)&&s.autoBind&&(n.value=n.value.bind(null!=(l=e.proxy_)?l:e.target_)),c.make_(e,t,n,i)}function eD(e,t,n,i){var r,s,a;return n.get?eZ.extend_(e,t,n,i):n.set?e.defineProperty_(t,{configurable:!th.safeDescriptors||e.isPlainObject_,set:e0(t.toString(),n.set)},i):("function"==typeof n.value&&null!=(r=this.options_)&&r.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_)),((null==(s=this.options_)?void 0:s.deep)===!1?eF.ref:eF).extend_(e,t,n,i))}function ez(e,t){y("'"+this.annotationType_+"' cannot be used as a decorator")}var eT={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(eT);var eV=eA("observable"),eB=eA("observable.ref",{enhancer:ef}),eI=eA("observable.shallow",{enhancer:function(e,t,n){return null==e||ny(e)||nr(e)||nl(e)||nh(e)?e:Array.isArray(e)?eF.array(e,{name:n,deep:!1}):z(e)?eF.object(e,void 0,{name:n,deep:!1}):W(e)?eF.map(e,{name:n,deep:!1}):q(e)?eF.set(e,{name:n,deep:!1}):void 0}}),eW=eA("observable.struct",{enhancer:function(e,t){return nR(e,t)?t:e}}),eq=ei(eV);function eH(e){var t,n,i;return!0===e.deep?eh:!1===e.deep?ef:(t=e.defaultDecorator)&&null!=(n=null==(i=t.options_)?void 0:i.enhancer)?n:eh}function eU(e,t,n){return es(t)?eV.decorate_20223_(e,t):R(t)?void er(e,t,eV):tG(e)?e:z(e)?eF.object(e,t,n):Array.isArray(e)?eF.array(e,t):W(e)?eF.map(e,t):q(e)?eF.set(e,t):"object"==typeof e&&null!==e?e:eF.box(e,t)}j(eU,eq);var eF=j(eU,{box:function(e,t){var n=t||eT;return new e2(e,eH(n),n.name,!0,n.equals)},array:function(e,t){var n=t||eT;return(!1===th.useProxies||!1===n.proxy?function(e,t,n){return new nN(e,t,n)}:function(e,t,n,i){return void 0===n&&(n="ObservableArray"),void 0===i&&(i=!1),P(),nE(function(){var r=new t8(n,t,i,!1);B(r.values_,ea,r);var s=new Proxy(r.values_,t6);return r.proxy_=s,e&&e.length&&r.spliceWithArray_(0,0,e),s})})(e,eH(n),n.name)},map:function(e,t){var n=t||eT;return new no(e,eH(n),n.name)},set:function(e,t){var n=t||eT;return new nd(e,eH(n),n.name)},object:function(e,t,n){return nE(function(){var i,r,s,a;return tV(!1===th.useProxies||(null==n?void 0:n.proxy)===!1?ng({},n):(i={},r=n,P(),null!=(a=(s=(i=ng(i,r))[ea]).proxy_)?a:s.proxy_=new Proxy(i,tY)),e,t)})},ref:ei(eB),shallow:ei(eI),deep:eq,struct:ei(eW)}),eG="computed",e$=eS(eG),eK=eS("computed.struct",{equals:ec}),eZ=function(e,t){if(es(t))return e$.decorate_20223_(e,t);if(R(t))return er(e,t,e$);if(z(e))return ei(eS(eG,e));var n=z(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new e4(n)};Object.assign(eZ,e$),eZ.struct=ei(eK);var eY=0,eX=1,eJ=null!=(u=null==(c=w(function(){},"name"))?void 0:c.configurable)&&u,eQ={value:"action",configurable:!0,writable:!1,enumerable:!1};function e0(e,t,n,i){function r(){return function(e,t,n,i,r){var s,a,o,l,u,c,d=(s=t,a=th.trackingDerivation,o=!s||!a,tm(),l=th.allowStateChanges,o&&(tr(),l=e1(!0)),eY=(u={runAsAction_:o,prevDerivation_:a,prevAllowStateChanges_:l,prevAllowStateReads_:ta(!0),notifySpy_:!1,startTime_:0,actionId_:eX++,parentActionId_:eY}).actionId_,u);try{return n.apply(i,r)}catch(e){throw d.error_=e,e}finally{eY!==(c=d).actionId_&&y(30),eY=c.parentActionId_,void 0!==c.error_&&(th.suppressReactionErrors=!0),e3(c.prevAllowStateChanges_),to(c.prevAllowStateReads_),tv(),c.runAsAction_&&ts(c.prevDerivation_),th.suppressReactionErrors=!1}}(e,n,t,i||this,arguments)}return void 0===n&&(n=!1),r.isMobxAction=!0,r.toString=function(){return t.toString()},eJ&&(eQ.value=e,S(r,"name",eQ)),r}function e1(e){var t=th.allowStateChanges;return th.allowStateChanges=e,t}function e3(e){th.allowStateChanges=e}var e2=function(e){function t(t,n,i,r,s){var a;return void 0===i&&(i="ObservableValue"),void 0===r&&(r=!0),void 0===s&&(s=ed),(a=e.call(this,i)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=i,a.equals=s,a.value_=n(t,void 0,i),a}ee(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==th.UNCHANGED&&this.setNewValue_(e)},n.prepareNewValue_=function(e){if(te(this),tX(this)){var t=tQ(this,{object:this,type:t4,newValue:e});if(!t)return th.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?th.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),t0(this)&&t3(this,{type:t4,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return tJ(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:t4,newValue:this.value_,oldValue:void 0}),t1(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return F(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(eo),e5=I("ObservableValue",e2),e4=function(){function e(e){this.dependenciesState_=d.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=d.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new e8(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=h.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||y(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=e0("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?ec:ed),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){var e;e=this,e.lowestObserverState_===d.UP_TO_DATE_&&(e.lowestObserverState_=d.POSSIBLY_STALE_,e.observers_.forEach(function(e){e.dependenciesState_===d.UP_TO_DATE_&&(e.dependenciesState_=d.POSSIBLY_STALE_,e.onBecomeStale_())}))},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.get=function(){if(this.isComputing&&y(32,this.name_,this.derivation),0!==th.inBatch||0!==this.observers_.size||this.keepAlive_){if(tg(this),e7(this)){var e,t=th.trackingContext;this.keepAlive_&&!t&&(th.trackingContext=this),this.trackAndCompute()&&(e=this,e.lowestObserverState_!==d.STALE_&&(e.lowestObserverState_=d.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===d.POSSIBLY_STALE_?t.dependenciesState_=d.STALE_:t.dependenciesState_===d.UP_TO_DATE_&&(e.lowestObserverState_=d.UP_TO_DATE_)}))),th.trackingContext=t}}else e7(this)&&(this.warnAboutUntrackedRead_(),tm(),this.value_=this.computeValue_(!1),tv());var n=this.value_;if(e9(n))throw n.cause;return n},t.set=function(e){if(this.setter_){this.isRunningSetter&&y(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter=!1}}else y(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===d.NOT_TRACKING_,n=this.computeValue_(!0),i=t||e9(e)||e9(n)||!this.equals_(e,n);return i&&(this.value_=n),i},t.computeValue_=function(e){this.isComputing=!0;var t,n=e1(!1);if(e)t=tt(this,this.derivation,this.scope_);else if(!0===th.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new e8(e)}return e3(n),this.isComputing=!1,t},t.suspend_=function(){this.keepAlive_||(tn(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,i=!0,r=void 0;return function(e,t){void 0===t&&(t=N);var n,i,r,s,a,o=null!=(n=null==(i=t)?void 0:i.name)?n:"Autorun";if(t.scheduler||t.delay){var l,u=(l=t).scheduler?l.scheduler:l.delay?function(e){return setTimeout(e,l.delay)}:tR,c=!1;a=new t_(o,function(){c||(c=!0,u(function(){c=!1,a.isDisposed||a.track(d)}))},t.onError,t.requiresObservable)}else a=new t_(o,function(){this.track(d)},t.onError,t.requiresObservable);function d(){e(a)}return null!=(r=t)&&null!=(r=r.signal)&&r.aborted||a.schedule_(),a.getDisposer_(null==(s=t)?void 0:s.signal)}(function(){var s=n.get();if(!i||t){var a=tr();e({observableKind:"computed",debugObjectName:n.name_,type:t4,object:n,newValue:s,oldValue:r}),ts(a)}i=!1,r=s})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return F(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},X(e,[{key:"isComputing",get:function(){return!!(this.flags_&e.isComputingMask_)},set:function(t){this.flags_=K(this.flags_,e.isComputingMask_,t)}},{key:"isRunningSetter",get:function(){return!!(this.flags_&e.isRunningSetterMask_)},set:function(t){this.flags_=K(this.flags_,e.isRunningSetterMask_,t)}},{key:"isBeingObserved",get:function(){return!!(this.flags_&e.isBeingObservedMask_)},set:function(t){this.flags_=K(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return!!(this.flags_&e.isPendingUnobservationMask_)},set:function(t){this.flags_=K(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return+!!(this.flags_&e.diffValueMask_)},set:function(t){this.flags_=K(this.flags_,e.diffValueMask_,1===t)}}])}();e4.isComputingMask_=1,e4.isRunningSetterMask_=2,e4.isBeingObservedMask_=4,e4.isPendingUnobservationMask_=8,e4.diffValueMask_=16;var e6=I("ComputedValue",e4);(t=d||(d={}))[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_",(n=h||(h={}))[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK";var e8=function(e){this.cause=void 0,this.cause=e};function e9(e){return e instanceof e8}function e7(e){switch(e.dependenciesState_){case d.UP_TO_DATE_:return!1;case d.NOT_TRACKING_:case d.STALE_:return!0;case d.POSSIBLY_STALE_:for(var t=ta(!0),n=tr(),i=e.observing_,r=i.length,s=0;s<r;s++){var a=i[s];if(e6(a)){if(th.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return ts(n),to(t),!0}if(e.dependenciesState_===d.STALE_)return ts(n),to(t),!0}}return tl(e),ts(n),to(t),!1}}function te(e){}function tt(e,t,n){var i,r=ta(!0);tl(e),e.newObserving_=Array(0===e.runId_?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++th.runId;var s=th.trackingDerivation;if(th.trackingDerivation=e,th.inBatch++,!0===th.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new e8(e)}return th.inBatch--,th.trackingDerivation=s,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,i=d.UP_TO_DATE_,r=0,s=e.unboundDepsCount_,a=0;a<s;a++){var o=n[a];0===o.diffValue&&(o.diffValue=1,r!==a&&(n[r]=o),r++),o.dependenciesState_>i&&(i=o.dependenciesState_)}for(n.length=r,e.newObserving_=null,s=t.length;s--;){var l=t[s];0===l.diffValue&&tf(l,e),l.diffValue=0}for(;r--;){var u,c,h=n[r];1===h.diffValue&&(h.diffValue=0,u=h,c=e,u.observers_.add(c),u.lowestObserverState_>c.dependenciesState_&&(u.lowestObserverState_=c.dependenciesState_))}i!==d.UP_TO_DATE_&&(e.dependenciesState_=i,e.onBecomeStale_())}(e),to(r),i}function tn(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)tf(t[n],e);e.dependenciesState_=d.NOT_TRACKING_}function ti(e){var t=tr();try{return e()}finally{ts(t)}}function tr(){var e=th.trackingDerivation;return th.trackingDerivation=null,e}function ts(e){th.trackingDerivation=e}function ta(e){var t=th.allowStateReads;return th.allowStateReads=e,t}function to(e){th.allowStateReads=e}function tl(e){if(e.dependenciesState_!==d.UP_TO_DATE_){e.dependenciesState_=d.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=d.UP_TO_DATE_}}var tu=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},tc=!0,td=!1,th=((i=x()).__mobxInstanceCount>0&&!i.__mobxGlobals&&(tc=!1),i.__mobxGlobals&&i.__mobxGlobals.version!==new tu().version&&(tc=!1),tc)?i.__mobxGlobals?(i.__mobxInstanceCount+=1,i.__mobxGlobals.UNCHANGED||(i.__mobxGlobals.UNCHANGED={}),i.__mobxGlobals):(i.__mobxInstanceCount=1,i.__mobxGlobals=new tu):(setTimeout(function(){td||y(35)},1),new tu);function tf(e,t){e.observers_.delete(t),0===e.observers_.size&&tp(e)}function tp(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,th.pendingUnobservations.push(e))}function tm(){th.inBatch++}function tv(){if(0==--th.inBatch){tx();for(var e=th.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers_.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof e4&&n.suspend_())}th.pendingUnobservations=[]}}function tg(e){var t=th.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&th.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(0===e.observers_.size&&th.inBatch>0&&tp(e),!1)}function tb(e){e.lowestObserverState_!==d.STALE_&&(e.lowestObserverState_=d.STALE_,e.observers_.forEach(function(e){e.dependenciesState_===d.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=d.STALE_}))}var t_=function(){function e(e,t,n,i){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=d.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=h.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=i}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,th.pendingReactions.push(this),tx())},t.runReaction_=function(){if(!this.isDisposed){tm(),this.isScheduled=!1;var e=th.trackingContext;if(th.trackingContext=this,e7(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}th.trackingContext=e,tv()}},t.track=function(e){if(!this.isDisposed){tm(),this.isRunning=!0;var t=th.trackingContext;th.trackingContext=this;var n=tt(this,e,void 0);th.trackingContext=t,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&tn(this),e9(n)&&this.reportExceptionInDerivation_(n.cause),tv()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)return void this.errorHandler_(e,this);if(th.disableErrorBoundaries)throw e;th.suppressReactionErrors||console.error("[mobx] uncaught error in '"+this+"'",e),th.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})},t.dispose=function(){!this.isDisposed&&(this.isDisposed=!0,this.isRunning||(tm(),tn(this),tv()))},t.getDisposer_=function(e){var t=this,n=function n(){t.dispose(),null==e||null==e.removeEventListener||e.removeEventListener("abort",n)};return null==e||null==e.addEventListener||e.addEventListener("abort",n),n[ea]=this,"dispose"in Symbol&&"symbol"==typeof Symbol.dispose&&(n[Symbol.dispose]=n),n},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1)},X(e,[{key:"isDisposed",get:function(){return!!(this.flags_&e.isDisposedMask_)},set:function(t){this.flags_=K(this.flags_,e.isDisposedMask_,t)}},{key:"isScheduled",get:function(){return!!(this.flags_&e.isScheduledMask_)},set:function(t){this.flags_=K(this.flags_,e.isScheduledMask_,t)}},{key:"isTrackPending",get:function(){return!!(this.flags_&e.isTrackPendingMask_)},set:function(t){this.flags_=K(this.flags_,e.isTrackPendingMask_,t)}},{key:"isRunning",get:function(){return!!(this.flags_&e.isRunningMask_)},set:function(t){this.flags_=K(this.flags_,e.isRunningMask_,t)}},{key:"diffValue",get:function(){return+!!(this.flags_&e.diffValueMask_)},set:function(t){this.flags_=K(this.flags_,e.diffValueMask_,1===t)}}])}();t_.isDisposedMask_=1,t_.isScheduledMask_=2,t_.isTrackPendingMask_=4,t_.isRunningMask_=8,t_.diffValueMask_=16;var ty=function(e){return e()};function tx(){th.inBatch>0||th.isRunningReactions||ty(tj)}function tj(){th.isRunningReactions=!0;for(var e=th.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction_()}th.isRunningReactions=!1}var tw=I("Reaction",t_),tS="action",tO="autoAction",tk=ep(tS),tN=ep("action.bound",{bound:!0}),tA=ep(tO,{autoAction:!0}),tC=ep("autoAction.bound",{autoAction:!0,bound:!0});function tP(e){return function(t,n){return L(t)?e0(t.name||"<unnamed action>",t,e):L(n)?e0(t,n,e):es(n)?(e?tA:tk).decorate_20223_(t,n):R(n)?er(t,n,e?tA:tk):R(t)?ei(ep(e?tO:tS,{name:t,autoAction:e})):void 0}}var tM=tP(!1);Object.assign(tM,tk);var tE=tP(!0);function tL(e){return L(e)&&!0===e.isMobxAction}Object.assign(tE,tA),tM.bound=ei(tN),tE.bound=ei(tC);var tR=function(e){return e()};function tD(e,t,n){return tz("onBUO",e,t,n)}function tz(e,t,n,i){var r="function"==typeof i?nP(t,n):nP(t),s=L(i)?i:n,a=e+"L";return r[a]?r[a].add(s):r[a]=new Set([s]),function(){var e=r[a];e&&(e.delete(s),0===e.size&&delete r[a])}}var tT="always";function tV(e,t,n,i){var r=$(t);return nE(function(){var t=ng(e,i)[ea];U(r).forEach(function(e){t.extend_(e,r[e],!n||!(e in n)||n[e])})}),e}var tB=0;function tI(){this.message="FLOW_CANCELLED"}tI.prototype=Object.create(Error.prototype);var tW=e_("flow"),tq=e_("flow.bound",{bound:!0}),tH=Object.assign(function(e,t){if(es(t))return tW.decorate_20223_(e,t);if(R(t))return er(e,t,tW);var n=e.name||"<unnamed flow>",i=function(){var t,i=arguments,r=++tB,s=tM(n+" - runid: "+r+" - init",e).apply(this,i),a=void 0,o=new Promise(function(e,i){var o=0;function l(e){var t;a=void 0;try{t=tM(n+" - runid: "+r+" - yield "+o++,s.next).call(s,e)}catch(e){return i(e)}c(t)}function u(e){var t;a=void 0;try{t=tM(n+" - runid: "+r+" - yield "+o++,s.throw).call(s,e)}catch(e){return i(e)}c(t)}function c(t){return L(null==t?void 0:t.then)?void t.then(c,i):t.done?e(t.value):(a=Promise.resolve(t.value)).then(l,u)}t=i,l(void 0)});return o.cancel=tM(n+" - runid: "+r+" - cancel",function(){try{a&&tU(a);var e=s.return(void 0),n=Promise.resolve(e.value);n.then(E,E),tU(n),t(new tI)}catch(e){t(e)}}),o};return i.isMobXFlow=!0,i},tW);function tU(e){L(e.cancel)&&e.cancel()}function tF(e){return(null==e?void 0:e.isMobXFlow)===!0}function tG(e){return!!e&&(ny(e)||!!e[ea]||el(e)||tw(e)||e6(e))}function t$(e,t,n){return e.set(t,n),n}function tK(e,t){return function e(t,n){if(null==t||"object"!=typeof t||t instanceof Date||!tG(t))return t;if(e5(t)||e6(t))return e(t.get(),n);if(n.has(t))return n.get(t);if(nr(t)){var i=t$(n,t,Array(t.length));return t.forEach(function(t,r){i[r]=e(t,n)}),i}if(nh(t)){var r=t$(n,t,new Set);return t.forEach(function(t){r.add(e(t,n))}),r}if(nl(t)){var s=t$(n,t,new Map);return t.forEach(function(t,i){s.set(i,e(t,n))}),s}var a=t$(n,t,{});return(function(e){if(ny(e))return e[ea].ownKeys_();y(38)})(t).forEach(function(i){O.propertyIsEnumerable.call(t,i)&&(a[i]=e(t[i],n))}),a}(e,new Map)}function tZ(e,t){void 0===t&&(t=void 0),tm();try{return e.apply(t)}finally{tv()}}tH.bound=ei(tq);var tY={has:function(e,t){return e[ea].has_(t)},get:function(e,t){return e[ea].get_(t)},set:function(e,t,n){var i;return!!R(t)&&(null==(i=e[ea].set_(t,n,!0))||i)},deleteProperty:function(e,t){var n;return!!R(t)&&(null==(n=e[ea].delete_(t,!0))||n)},defineProperty:function(e,t,n){var i;return null==(i=e[ea].defineProperty_(t,n))||i},ownKeys:function(e){return e[ea].ownKeys_()},preventExtensions:function(e){y(13)}};function tX(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function tJ(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),M(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function tQ(e,t){var n=tr();try{for(var i=[].concat(e.interceptors_||[]),r=0,s=i.length;r<s&&((t=i[r](t))&&!t.type&&y(14),t);r++);return t}finally{ts(n)}}function t0(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function t1(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),M(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function t3(e,t){var n=tr(),i=e.changeListeners_;if(i){i=i.slice();for(var r=0,s=i.length;r<s;r++)i[r](t);ts(n)}}var t2=Symbol("mobx-keys"),t5="splice",t4="update",t6={get:function(e,t){var n=e[ea];return t===ea?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?G(t9,t)?t9[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var i=e[ea];return"length"===t&&i.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:i.set_(parseInt(t),n),!0},preventExtensions:function(){y(15)}},t8=function(){function e(e,t,n,i){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=i,this.atom_=new eo(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return tJ(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),t1(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&y("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&y(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&nC(e+t+1)},t.spliceWithArray_=function(e,t,n){var i=this;te(this.atom_);var r=this.values_.length;if(void 0===e?e=0:e>r?e=r:e<0&&(e=Math.max(0,r+e)),t=1==arguments.length?r-e:null==t?0:Math.max(0,Math.min(t,r-e)),void 0===n&&(n=k),tX(this)){var s=tQ(this,{object:this.proxy_,type:t5,index:e,removedCount:t,added:n});if(!s)return k;t=s.removedCount,n=s.added}if(n=0===n.length?n:n.map(function(e){return i.enhancer_(e,void 0)}),this.legacyMode_){var a=n.length-t;this.updateArrayLength_(r,a)}var o=this.spliceItemsIntoValues_(e,t,n);return(0!==t||0!==n.length)&&this.notifyArraySplice_(e,n,o),this.dehanceValues_(o)},t.spliceItemsIntoValues_=function(e,t,n){if(n.length<1e4){var i;return(i=this.values_).splice.apply(i,[e,t].concat(n))}var r=this.values_.slice(e,e+t),s=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var a=0;a<n.length;a++)this.values_[e+a]=n[a];for(var o=0;o<s.length;o++)this.values_[e+n.length+o]=s[o];return r},t.notifyArrayChildUpdate_=function(e,t,n){var i=!this.owned_&&!1,r=t0(this),s=r||i?{observableKind:"array",object:this.proxy_,type:t4,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),r&&t3(this,s)},t.notifyArraySplice_=function(e,t,n){var i=!this.owned_&&!1,r=t0(this),s=r||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:t5,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),r&&t3(this,s)},t.get_=function(e){return this.legacyMode_&&e>=this.values_.length?void console.warn("[mobx] Out of bounds read: "+e):(this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]))},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&y(17,e,n.length),e<n.length){te(this.atom_);var i=n[e];if(tX(this)){var r=tQ(this,{type:t4,object:this.proxy_,index:e,newValue:t});if(!r)return;t=r.newValue}(t=this.enhancer_(t,i))!==i&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,i))}else{for(var s=Array(e+1-n.length),a=0;a<s.length-1;a++)s[a]=void 0;s[s.length-1]=t,this.spliceWithArray_(n.length,0,s)}},e}(),t9={clear:function(){return this.splice(0)},replace:function(e){var t=this[ea];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var s=this[ea];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(e);case 2:return s.spliceWithArray_(e,t)}return s.spliceWithArray_(e,t,i)},spliceWithArray:function(e,t,n){return this[ea].spliceWithArray_(e,t,n)},push:function(){for(var e=this[ea],t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[ea].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[ea],t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return th.trackingDerivation&&y(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){th.trackingDerivation&&y(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[ea],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function t7(e,t){"function"==typeof Array.prototype[e]&&(t9[e]=t(e))}function ne(e){return function(){var t=this[ea];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function nt(e){return function(t,n){var i=this,r=this[ea];return r.atom_.reportObserved(),r.dehanceValues_(r.values_)[e](function(e,r){return t.call(n,e,r,i)})}}function nn(e){return function(){var t=this,n=this[ea];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(e,n,i){return r(e,n,i,t)},i[e].apply(i,arguments)}}t7("at",ne),t7("concat",ne),t7("flat",ne),t7("includes",ne),t7("indexOf",ne),t7("join",ne),t7("lastIndexOf",ne),t7("slice",ne),t7("toString",ne),t7("toLocaleString",ne),t7("toSorted",ne),t7("toSpliced",ne),t7("with",ne),t7("every",nt),t7("filter",nt),t7("find",nt),t7("findIndex",nt),t7("findLast",nt),t7("findLastIndex",nt),t7("flatMap",nt),t7("forEach",nt),t7("map",nt),t7("some",nt),t7("toReversed",nt),t7("reduce",nn),t7("reduceRight",nn);var ni=I("ObservableArrayAdministration",t8);function nr(e){return D(e)&&ni(e[ea])}var ns={},na="delete",no=function(){function e(e,t,n){var i=this;void 0===t&&(t=eh),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[ea]=ns,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,L(Map)||y(18),nE(function(){i.keysAtom_=eu("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,e&&i.merge(e)})}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!th.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var i=n=new e2(this.has_(e),ef,"ObservableMap.key?",!1);this.hasMap_.set(e,i),tD(i,function(){return t.hasMap_.delete(e)})}return n.get()},t.set=function(e,t){var n=this.has_(e);if(tX(this)){var i=tQ(this,{type:n?t4:"add",object:this,newValue:t,name:e});if(!i)return this;t=i.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if(te(this.keysAtom_),tX(this)&&!tQ(this,{type:na,object:this,name:e}))return!1;if(this.has_(e)){var n=t0(this),i=n?{observableKind:"map",debugObjectName:this.name_,type:na,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return tZ(function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)}),n&&t3(this,i),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==th.UNCHANGED){var i=t0(this),r=i?{observableKind:"map",debugObjectName:this.name_,type:t4,object:this,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),i&&t3(this,r)}},t.addValue_=function(e,t){var n=this;te(this.keysAtom_),tZ(function(){var i,r=new e2(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,r),t=r.value_,null==(i=n.hasMap_.get(e))||i.setNewValue_(!0),n.keysAtom_.reportChanged()});var i=t0(this),r=i?{observableKind:"map",debugObjectName:this.name_,type:"add",object:this,name:e,newValue:t}:null;i&&t3(this,r)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return nu({next:function(){var n=t.next(),i=n.done,r=n.value;return{done:i,value:i?void 0:e.get(r)}}})},t.entries=function(){var e=this,t=this.keys();return nu({next:function(){var n=t.next(),i=n.done,r=n.value;return{done:i,value:i?void 0:[r,e.get(r)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(e,t){for(var n,i=J(this);!(n=i()).done;){var r=n.value,s=r[0],a=r[1];e.call(t,a,s,this)}},t.merge=function(e){var t=this;return nl(e)&&(e=new Map(e)),tZ(function(){z(e)?(function(e){var t=Object.keys(e);if(!H)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(t){return O.propertyIsEnumerable.call(e,t)})):t})(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=e[0],i=e[1];return t.set(n,i)}):W(e)?(null!==Object.getPrototypeOf(Object.getPrototypeOf(Object.getPrototypeOf(e)))&&y(19,e),e.forEach(function(e,n){return t.set(n,e)})):null!=e&&y(20,e)}),this},t.clear=function(){var e=this;tZ(function(){ti(function(){for(var t,n=J(e.keys());!(t=n()).done;){var i=t.value;e.delete(i)}})})},t.replace=function(e){var t=this;return tZ(function(){for(var n,i=function(e){if(W(e)||nl(e))return e;if(Array.isArray(e))return new Map(e);if(!z(e))return y(21,e);var t=new Map;for(var n in e)t.set(n,e[n]);return t}(e),r=new Map,s=!1,a=J(t.data_.keys());!(n=a()).done;){var o=n.value;if(!i.has(o))if(t.delete(o))s=!0;else{var l=t.data_.get(o);r.set(o,l)}}for(var u,c=J(i.entries());!(u=c()).done;){var d=u.value,h=d[0],f=d[1],p=t.data_.has(h);if(t.set(h,f),t.data_.has(h)){var m=t.data_.get(h);r.set(h,m),p||(s=!0)}}if(!s)if(t.data_.size!==r.size)t.keysAtom_.reportChanged();else for(var v=t.data_.keys(),g=r.keys(),b=v.next(),_=g.next();!b.done;){if(b.value!==_.value){t.keysAtom_.reportChanged();break}b=v.next(),_=g.next()}t.data_=r}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return t1(this,e)},t.intercept_=function(e){return tJ(this,e)},X(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),nl=I("ObservableMap",no);function nu(e){return e[Symbol.toStringTag]="MapIterator",nT(e)}var nc={},nd=function(){function e(e,t,n){var i=this;void 0===t&&(t=eh),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[ea]=nc,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,L(Set)||y(22),this.enhancer_=function(e,i){return t(e,i,n)},nE(function(){i.atom_=eu(i.name_),e&&i.replace(e)})}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;tZ(function(){ti(function(){for(var t,n=J(e.data_.values());!(t=n()).done;){var i=t.value;e.delete(i)}})})},t.forEach=function(e,t){for(var n,i=J(this);!(n=i()).done;){var r=n.value;e.call(t,r,r,this)}},t.add=function(e){var t=this;if(te(this.atom_),tX(this)){var n=tQ(this,{type:"add",object:this,newValue:e});if(!n)return this;e=n.newValue}if(!this.has(e)){tZ(function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()});var i=t0(this),r=i?{observableKind:"set",debugObjectName:this.name_,type:"add",object:this,newValue:e}:null;i&&t3(this,r)}return this},t.delete=function(e){var t=this;if(tX(this)&&!tQ(this,{type:na,object:this,oldValue:e}))return!1;if(this.has(e)){var n=t0(this),i=n?{observableKind:"set",debugObjectName:this.name_,type:na,object:this,oldValue:e}:null;return tZ(function(){t.atom_.reportChanged(),t.data_.delete(e)}),n&&t3(this,i),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=this.values();return nf({next:function(){var t=e.next(),n=t.value,i=t.done;return i?{value:void 0,done:i}:{value:[n,n],done:i}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=this.data_.values();return nf({next:function(){var n=t.next(),i=n.value,r=n.done;return r?{value:void 0,done:r}:{value:e.dehanceValue_(i),done:r}}})},t.intersection=function(e){return q(e)&&!nh(e)?e.intersection(this):new Set(this).intersection(e)},t.union=function(e){return q(e)&&!nh(e)?e.union(this):new Set(this).union(e)},t.difference=function(e){return new Set(this).difference(e)},t.symmetricDifference=function(e){return q(e)&&!nh(e)?e.symmetricDifference(this):new Set(this).symmetricDifference(e)},t.isSubsetOf=function(e){return new Set(this).isSubsetOf(e)},t.isSupersetOf=function(e){return new Set(this).isSupersetOf(e)},t.isDisjointFrom=function(e){return q(e)&&!nh(e)?e.isDisjointFrom(this):new Set(this).isDisjointFrom(e)},t.replace=function(e){var t=this;return nh(e)&&(e=new Set(e)),tZ(function(){Array.isArray(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):q(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):null!=e&&y("Cannot initialize set from "+e)}),this},t.observe_=function(e,t){return t1(this,e)},t.intercept_=function(e){return tJ(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},X(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),nh=I("ObservableSet",nd);function nf(e){return e[Symbol.toStringTag]="SetIterator",nT(e)}var np=Object.create(null),nm="remove",nv=function(){function e(e,t,n,i){void 0===t&&(t=new Map),void 0===i&&(i=eE),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=i,this.keysAtom_=new eo("ObservableObject.keys"),this.isPlainObject_=z(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof e4)return n.set(t),!0;if(tX(this)){var i=tQ(this,{type:t4,object:this.proxy_||this.target_,name:e,newValue:t});if(!i)return null;t=i.newValue}if((t=n.prepareNewValue_(t))!==th.UNCHANGED){var r=t0(this),s=r?{type:t4,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),r&&t3(this,s)}return!0},t.get_=function(e){return th.trackingDerivation&&!G(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return(void 0===n&&(n=!1),G(this.target_,e))?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!th.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new e2(e in this.target_,ef,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(nj(this,t,e),!(e in this.target_)){var n;if(null!=(n=this.target_[en])&&n[e])return;y(1,t.annotationType_,this.name_+"."+e.toString())}for(var i=this.target_;i&&i!==O;){var r=w(i,e);if(r){var s=t.make_(this,e,r,i);if(0===s)return;if(1===s)break}i=Object.getPrototypeOf(i)}nx(this,t,e)}},t.extend_=function(e,t,n,i){if(void 0===i&&(i=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,i);nj(this,n,e);var r=n.extend_(this,e,t,i);return r&&nx(this,n,e),r},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1),te(this.keysAtom_);try{tm();var i=this.delete_(e);if(!i)return i;if(tX(this)){var r=tQ(this,{object:this.proxy_||this.target_,name:e,type:"add",newValue:t.value});if(!r)return null;var s=r.newValue;t.value!==s&&(t=Q({},t,{value:s}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else S(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{tv()}return!0},t.defineObservableProperty_=function(e,t,n,i){void 0===i&&(i=!1),te(this.keysAtom_);try{tm();var r=this.delete_(e);if(!r)return r;if(tX(this)){var s=tQ(this,{object:this.proxy_||this.target_,name:e,type:"add",newValue:t});if(!s)return null;t=s.newValue}var a=n_(e),o={configurable:!th.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(i){if(!Reflect.defineProperty(this.target_,e,o))return!1}else S(this.target_,e,o);var l=new e2(t,n,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{tv()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1),te(this.keysAtom_);try{tm();var i=this.delete_(e);if(!i)return i;if(tX(this)&&!tQ(this,{object:this.proxy_||this.target_,name:e,type:"add",newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var r=n_(e),s={configurable:!th.safeDescriptors||this.isPlainObject_,enumerable:!1,get:r.get,set:r.set};if(n){if(!Reflect.defineProperty(this.target_,e,s))return!1}else S(this.target_,e,s);this.values_.set(e,new e4(t)),this.notifyPropertyAddition_(e,void 0)}finally{tv()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),te(this.keysAtom_),!G(this.target_,e))return!0;if(tX(this)&&!tQ(this,{object:this.proxy_||this.target_,name:e,type:nm}))return null;try{tm();var n,i,r=t0(this),s=this.values_.get(e),a=void 0;if(!s&&(r||0)&&(a=null==(i=w(this.target_,e))?void 0:i.value),t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(s&&(this.values_.delete(e),s instanceof e2&&(a=s.value_),tb(s)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(e in this.target_),r||0){var o={type:nm,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:a,name:e};r&&t3(this,o)}}finally{tv()}return!0},t.observe_=function(e,t){return t1(this,e)},t.intercept_=function(e){return tJ(this,e)},t.notifyPropertyAddition_=function(e,t){var n,i=t0(this);if(i){var r=i?{type:"add",observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;i&&t3(this,r)}null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),U(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function ng(e,t){if(G(e,ea))return e;var n,i,r=null!=(i=null==t?void 0:t.name)?i:"ObservableObject",s=new nv(e,new Map,String(r),t?null!=(n=t.defaultDecorator)?n:eL(t):void 0);return V(e,ea,s),e}var nb=I("ObservableObjectAdministration",nv);function n_(e){return np[e]||(np[e]={get:function(){return this[ea].getObservablePropValue_(e)},set:function(t){return this[ea].setObservablePropValue_(e,t)}})}function ny(e){return!!D(e)&&nb(e[ea])}function nx(e,t,n){var i;null==(i=e.target_[en])||delete i[n]}function nj(e,t,n){}var nw=nA(0),nS=(r=!1,Object.defineProperty(s={},"0",{set:function(){r=!0}}),Object.create(s)["0"]=1,!1===r),nO=0,nk=function(){};a=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(nk.prototype,a):void 0!==nk.prototype.__proto__?nk.prototype.__proto__=a:nk.prototype=a;var nN=function(e){function t(t,n,i,r){var s;return void 0===i&&(i="ObservableArray"),void 0===r&&(r=!1),s=e.call(this)||this,nE(function(){var e=new t8(i,n,r,!0);e.proxy_=s,B(s,ea,e),t&&t.length&&s.spliceWithArray(0,0,t),nS&&Object.defineProperty(s,"0",nw)}),s}ee(t,e);var n=t.prototype;return n.concat=function(){this[ea].atom_.reportObserved();for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map(function(e){return nr(e)?e.slice():e}))},n[Symbol.iterator]=function(){var e=this,t=0;return nT({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},X(t,[{key:"length",get:function(){return this[ea].getArrayLength_()},set:function(e){this[ea].setArrayLength_(e)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(nk);function nA(e){return{enumerable:!1,configurable:!0,get:function(){return this[ea].get_(e)},set:function(t){this[ea].set_(e,t)}}}function nC(e){if(e>nO){for(var t,n=nO;n<e+100;n++)t=n,S(nN.prototype,""+t,nA(t));nO=e}}function nP(e,t){if("object"==typeof e&&null!==e){if(nr(e))return void 0!==t&&y(23),e[ea].atom_;if(nh(e))return e.atom_;if(nl(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||y(25,t,nM(e)),n}if(ny(e)){if(!t)return y(26);var i=e[ea].values_.get(t);return i||y(27,t,nM(e)),i}if(el(e)||e6(e)||tw(e))return e}else if(L(e)&&tw(e[ea]))return e[ea];y(28)}function nM(e,t){var n;if(void 0!==t)n=nP(e,t);else{if(tL(e))return e.name;n=ny(e)||nl(e)||nh(e)?function e(t,n){return(t||y(29),void 0!==n)?e(nP(t,n)):el(t)||e6(t)||tw(t)||nl(t)||nh(t)?t:t[ea]?t[ea]:void y(24,t)}(e):nP(e)}return n.name_}function nE(e){var t=tr(),n=e1(!0);tm();try{return e()}finally{tv(),e3(n),ts(t)}}Object.entries(t9).forEach(function(e){var t=e[0],n=e[1];"concat"!==t&&V(nN.prototype,t,n)}),nC(1e3);var nL=O.toString;function nR(e,t,n){return void 0===n&&(n=-1),function e(t,n,i,r,s){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof n)return!1;var o=nL.call(t);if(o!==nL.call(n))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":if(+t!=+t)return+n!=+n;return 0==+t?1/t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":i>=0&&i++}t=nD(t),n=nD(n);var l="[object Array]"===o;if(!l){if("object"!=typeof t||"object"!=typeof n)return!1;var u=t.constructor,c=n.constructor;if(u!==c&&!(L(u)&&u instanceof u&&L(c)&&c instanceof c)&&"constructor"in t&&"constructor"in n)return!1}if(0===i)return!1;i<0&&(i=-1),s=s||[];for(var d=(r=r||[]).length;d--;)if(r[d]===t)return s[d]===n;if(r.push(t),s.push(n),l){if((d=t.length)!==n.length)return!1;for(;d--;)if(!e(t[d],n[d],i-1,r,s))return!1}else{var h=Object.keys(t),f=h.length;if(Object.keys(n).length!==f)return!1;for(var p=0;p<f;p++){var m=h[p];if(!(G(n,m)&&e(t[m],n[m],i-1,r,s)))return!1}}return r.pop(),s.pop(),!0}(e,t,n)}function nD(e){return nr(e)?e.slice():W(e)||nl(e)||q(e)||nh(e)?Array.from(e.entries()):e}var nz=(null==(f=x().Iterator)?void 0:f.prototype)||{};function nT(e){return e[Symbol.iterator]=nV,Object.assign(Object.create(nz),e)}function nV(){return this}["Symbol","Map","Set"].forEach(function(e){void 0===x()[e]&&y("MobX requires global '"+e+"' to be available or polyfilled")}),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:nM},$mobx:ea});var nB=e.i(271645);if(!nB.useState)throw Error("mobx-react-lite requires React with Hooks support");var nI=e.i(174080);function nW(e){return function e(t){var n={name:t.name_};return t.observing_&&t.observing_.length>0&&(n.dependencies=Array.from(new Set(t.observing_)).map(e)),n}(nP(e,void 0))}var nq=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach(function(i,r){n-i.registeredAt>=e&&(t.finalize(i.value),t.registrations.delete(r))}),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),nH=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:nq)(function(e){var t;null==(t=e.reaction)||t.dispose(),e.reaction=null}),nU=e.i(802239);function nF(e){e.reaction=new t_("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),null==(t=e.onStoreChange)||t.call(e)})}var nG="function"==typeof Symbol&&Symbol.for,n$=null!=(m=null==(p=Object.getOwnPropertyDescriptor(function(){},"name"))?void 0:p.configurable)&&m,nK=nG?Symbol.for("react.forward_ref"):"function"==typeof nB.forwardRef&&(0,nB.forwardRef)(function(e){return null}).$$typeof,nZ=nG?Symbol.for("react.memo"):"function"==typeof nB.memo&&(0,nB.memo)(function(e){return null}).$$typeof;function nY(e,t){if(nZ&&e.$$typeof===nZ)throw Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var n,i,r,s=null!=(r=null==t?void 0:t.forwardRef)&&r,a=e,o=e.displayName||e.name;if(nK&&e.$$typeof===nK&&(s=!0,"function"!=typeof(a=e.render)))throw Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var l=function(e,t){return function(e,t){void 0===t&&(t="observed");var n,i,r=nB.default.useRef(null);if(!r.current){var s={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(e){return nH.unregister(s),s.onStoreChange=e,s.reaction||(nF(s),s.stateVersion=Symbol()),function(){var e;s.onStoreChange=null,null==(e=s.reaction)||e.dispose(),s.reaction=null}},getSnapshot:function(){return s.stateVersion}};r.current=s}var a=r.current;if(a.reaction||(nF(a),nH.register(r,a,a)),nB.default.useDebugValue(a.reaction,nW),(0,nU.useSyncExternalStore)(a.subscribe,a.getSnapshot,a.getSnapshot),a.reaction.track(function(){try{n=e()}catch(e){i=e}}),i)throw i;return n}(function(){return a(e,t)},o)};return l.displayName=e.displayName,n$&&Object.defineProperty(l,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(l.contextTypes=e.contextTypes),s&&(l=(0,nB.forwardRef)(l)),n=e,i=l=(0,nB.memo)(l),Object.keys(n).forEach(function(e){nX[e]||Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(n,e))}),l}var nX={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};(o=nI.unstable_batchedUpdates)||(o=function(e){e()}),function(e){!0===e.isolateGlobalState&&function(){if((th.pendingReactions.length||th.inBatch||th.isRunningReactions)&&y(36),td=!0,tc){var e=x();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),th=new tu}}();var t,n,i=e.useProxies,r=e.enforceActions;if(void 0!==i&&(th.useProxies=i===tT||"never"!==i&&"undefined"!=typeof Proxy),"ifavailable"===i&&(th.verifyProxies=!0),void 0!==r){var s=r===tT?tT:"observed"===r;th.enforceActions=s,th.allowStateChanges=!0!==s&&s!==tT}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(t){t in e&&(th[t]=!!e[t])}),th.allowStateReads=!th.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=ty,ty=function(e){return t(function(){return n(e)})})}({reactionScheduler:o}),nH.finalizeAllImmediately;let nJ="jedec",nQ="bits",n0="byte",n1="bytes",n3="array",n2="object",n5="exponent",n4={iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},n6={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},n8=[1,1024,1048576,0x40000000,0x10000000000,0x4000000000000,0x1000000000000000,11805916207174113e5,12089258196146292e8],n9=[1,1e3,1e6,1e9,1e12,1e15,1e18,1e21,1e24],n7=Math.log(1024),ie=Math.log(1e3),it={si:{isDecimal:!0,ceil:1e3,actualStandard:nJ},iec:{isDecimal:!1,ceil:1024,actualStandard:"iec"},[nJ]:{isDecimal:!1,ceil:1024,actualStandard:nJ}};function ii(e,t,n,i,r){let s=e/(n?n9[t]:n8[t]);return i&&(s*=8)>=r&&t<8&&(s/=r,t++),{result:s,e:t}}var ir=e.i(20966),is=e.i(701870),ia=((l={})[l.auto=0]="auto",l[l.psnr=1]="psnr",l[l.ssim=2]="ssim",l);let io={quality:50,qualityAlpha:-1,denoiseLevel:0,tileColsLog2:0,tileRowsLog2:0,speed:8,subsample:1,chromaDeltaQ:!1,sharpness:0,tune:0,enableSharpYUV:!1};e.s(["AVIFTune",()=>ia,"defaultOptions",0,io,"extension",0,"avif","label",0,"AVIF","mimeType",0,"image/avif"],542986),e.i(542986);var il=e.i(894793),iu=e.i(183713),ic=e.i(483635),id=e.i(488094);function ih({options:e,onChange:t}){let[n,i]=(0,nB.useState)(!1),r=100===e.quality&&(-1===e.qualityAlpha||100===e.qualityAlpha)&&3===e.subsample,s=-1!==e.qualityAlpha,[a,o]=(0,nB.useState)(r),[l,u]=(0,nB.useState)(r?io.quality:e.quality),[c,d]=(0,nB.useState)(s),[h,f]=(0,nB.useState)(s?e.qualityAlpha:e.quality),[p,m]=(0,nB.useState)(e.subsample),[g,b]=(0,nB.useState)(e.enableSharpYUV),[_,y]=(0,nB.useState)(e.chromaDeltaQ),[x,j]=(0,nB.useState)(e.sharpness),[w,S]=(0,nB.useState)(e.denoiseLevel),[O,k]=(0,nB.useState)(e.tune),[N,A]=(0,nB.useState)(e.tileRowsLog2),[C,P]=(0,nB.useState)(e.tileColsLog2),[M,E]=(0,nB.useState)(10-e.speed);(0,nB.useEffect)(()=>{o(r),u(r?io.quality:e.quality),d(s),f(s?e.qualityAlpha:e.quality),m(e.subsample),b(e.enableSharpYUV),y(e.chromaDeltaQ),j(e.sharpness),S(e.denoiseLevel),k(e.tune),A(e.tileRowsLog2),P(e.tileColsLog2),E(10-e.speed)},[e]);let L=(0,nB.useCallback)(()=>{let n={...e,quality:a?100:l,qualityAlpha:a||!c?-1:h,subsample:a?3:p,tileRowsLog2:N,tileColsLog2:C,speed:10-M,chromaDeltaQ:_,sharpness:x,denoiseLevel:w,tune:O,enableSharpYUV:g};t(n)},[e,a,l,c,h,p,N,C,M,_,x,w,O,g,t]);return(0,nB.useEffect)(()=>{L()},[L]),(0,v.jsxs)("div",{className:"d-flex flex-column gap-4",children:[(0,v.jsx)(il.default,{children:!a&&(0,v.jsx)("div",{children:(0,v.jsx)(id.default,{min:0,max:99,value:l,onChange:e=>u(Number(e.target.value)),trackColor:"var(--bs-primary)",children:"Quality"})})}),(0,v.jsx)(id.default,{min:0,max:10,value:M,onChange:e=>E(Number(e.target.value)),children:"Effort"}),n&&(0,v.jsxs)("div",{className:"d-flex flex-column gap-4 ps-4",children:[(0,v.jsx)(il.default,{children:!a&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Subsample chroma"}),(0,v.jsxs)(ic.default,{value:p,onChange:e=>m(Number(e.target.value)),children:[(0,v.jsx)("option",{value:0,children:"4:0:0"}),(0,v.jsx)("option",{value:1,children:"4:2:0"}),(0,v.jsx)("option",{value:2,children:"4:2:2"}),(0,v.jsx)("option",{value:3,children:"4:4:4"})]})]}),(0,v.jsx)(il.default,{children:1===p&&(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Sharp YUV Downsampling"}),(0,v.jsx)(iu.default,{checked:g,onChange:e=>b(e.target.checked)})]})}),(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Separate alpha quality"}),(0,v.jsx)(iu.default,{checked:c,onChange:e=>d(e.target.checked)})]}),(0,v.jsx)(il.default,{children:c&&(0,v.jsx)("div",{children:(0,v.jsx)(id.default,{min:0,max:99,value:h,onChange:e=>f(Number(e.target.value)),children:"Alpha quality"})})}),(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Extra chroma compression"}),(0,v.jsx)(iu.default,{checked:_,onChange:e=>y(e.target.checked)})]}),(0,v.jsx)(id.default,{min:0,max:7,value:x,onChange:e=>j(Number(e.target.value)),children:"Sharpness"}),(0,v.jsx)(id.default,{min:0,max:50,value:w,onChange:e=>S(Number(e.target.value)),children:"Noise synthesis"}),(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Tuning"}),(0,v.jsxs)(ic.default,{value:O,onChange:e=>k(Number(e.target.value)),children:[(0,v.jsx)("option",{value:ia.auto,children:"Auto"}),(0,v.jsx)("option",{value:ia.psnr,children:"PSNR"}),(0,v.jsx)("option",{value:ia.ssim,children:"SSIM"})]})]})]})}),(0,v.jsx)(id.default,{min:0,max:6,value:N,onChange:e=>A(Number(e.target.value)),children:"Log2 of tile rows"}),(0,v.jsx)(id.default,{min:0,max:6,value:C,onChange:e=>P(Number(e.target.value)),children:"Log2 of tile cols"})]})]})}e.s(["default",()=>ih,"encode",0,(e,t,n,i)=>t.avifEncode(e,n,i)],298808),e.i(298808);let ip=0;function im(e){let t=function(e,{bits:t=!1,pad:n=!1,base:i=-1,round:r=2,locale:s="",localeOptions:a={},separator:o="",spacer:l=" ",symbols:u={},standard:c="",output:d="string",fullform:h=!1,fullforms:f=[],exponent:p=-1,roundingMethod:m="round",precision:v=0}={}){var g;let b=p,_=Number(e),y=[],x=0,j="",{isDecimal:w,ceil:S,actualStandard:O}=it[c]?it[c]:2===i?{isDecimal:!1,ceil:1024,actualStandard:"iec"}:{isDecimal:!0,ceil:1e3,actualStandard:nJ},k=!0===h,N=_<0,A=Math[m];if("bigint"!=typeof e&&isNaN(e))throw TypeError("Invalid number");if("function"!=typeof A)throw TypeError("Invalid rounding method");if(N&&(_=-_),0===_){let e,n;return g=v,(e=[])[0]=g>0?0..toPrecision(g):0,n=e[1]=n4[O][t?nQ:n1][0],d===n5?0:(u[e[1]]&&(e[1]=u[e[1]]),k&&(e[1]=f[0]||n6[O][0]+(t?"bit":n0)),d===n3?e:d===n2?{value:e[0],symbol:e[1],exponent:0,unit:n}:e.join(l))}if((-1===b||isNaN(b))&&(b=w?Math.floor(Math.log(_)/ie):Math.floor(Math.log(_)/n7))<0&&(b=0),b>8&&(v>0&&(v+=8-b),b=8),d===n5)return b;let{result:C,e:P}=ii(_,b,w,t,S);x=C;let M=(b=P)>0&&r>0?Math.pow(10,r):1;if(y[0]=1===M?A(x):A(x*M)/M,y[0]===S&&b<8&&-1===p&&(y[0]=1,b++),v>0){let e=function(e,t,n,i,r,s,a,o,l){let u=e.toPrecision(t);if(u.includes("e")&&n<8){let{result:e}=ii(i,++n,r,s,a),c=l>0?Math.pow(10,l):1;u=(1===c?o(e):o(e*c)/c).toPrecision(t)}return{value:u,e:n}}(y[0],v,b,_,w,t,S,A,r);y[0]=e.value,b=e.e}let E=n4[O][t?nQ:n1];return(j=y[1]=w&&1===b?t?"kbit":"kB":E[b],N&&(y[0]=-y[0]),u[y[1]]&&(y[1]=u[y[1]]),y[0]=function(e,t,n,i,r,s){let a=e;if(!0===t?a=a.toLocaleString():t.length>0?a=a.toLocaleString(t,n):i.length>0&&(a=a.toString().replace(".",i)),r&&s>0){let e=a.toString(),t=i||(e.match(/(\D)/g)||[]).pop()||".",n=e.split(t),r=n[1]||"",o=r.length;a=`${n[0]}${t}${r.padEnd(o+(s-o),"0")}`}return a}(y[0],s,a,o,n,r),k&&(y[1]=f[b]||n6[O][b]+(t?"bit":n0)+(1===y[0]?"":"s")),d===n3)?y:d===n2?{value:y[0],symbol:y[1],exponent:b,unit:j}:" "===l?`${y[0]} ${y[1]}`:y.join(l)}(e,{standard:"jedec",output:"array"});return t[0]+" "+t[1]}function iv(e,t){let n=document.createElement("a");n.href=URL.createObjectURL(t),n.download=e,n.click(),n.remove()}async function ig(e){if(e.isFile)return new Promise(t=>{e.file(e=>{t(Object.values(ir.Mimes).includes(e.type)?[e]:[])},()=>t([]))});if(e.isDirectory){let t=await new Promise(t=>{e.createReader().readEntries(t,()=>t([]))}),n=[];for(let e of t){let t=await ig(e);n.push(...t)}return n}return[]}async function ib(e){if(!e)return[];if("file"===e.kind){let t=await e.getFile();return Object.values(ir.Mimes).includes(t.type)?[t]:[]}if("directory"===e.kind){let t=[];for await(let n of e.values()){let e=await ib(n);t.push(...e)}return t}return[]}function i_(e,t){var n;let i;if(console.log("Getting output file name for item:",e),e.blob.type===e.compress?.blob.type)return e.name;let{name:r,suffix:s}=(i=(n=e.name).lastIndexOf("."),{name:n.substring(0,i),suffix:n.substring(i+1).toLowerCase()}),a=s;for(let t in ir.Mimes)if(e.compress.blob.type===ir.Mimes[t]){a=t;break}return["jpg","jpeg"].includes(a)&&(a=t.format.target?.toLowerCase()||a),r+"."+a}async function iy(e){let t=[];if(!e.clipboardData)return t;let n=e.clipboardData.items;for(let e=0;e<n.length;e++){let i=n[e];if(i.type.startsWith("image/")){let e=i.getAsFile();e&&Object.values(ir.Mimes).includes(e.type)&&t.push(e)}}return t}var ix=e.i(326735);let ij={effort:7,quality:75,progressive:!1,epf:-1,lossyPalette:!1,decodingSpeedTier:0,photonNoiseIso:0,lossyModular:!1},iw={preview:{maxSize:256},processor:{resize:{enabled:!1,preset:1,...e.i(893517).defaultOptions}},resize:{method:void 0,width:void 0,height:void 0,short:void 0,long:void 0,cropWidthRatio:void 0,cropHeightRatio:void 0,cropWidthSize:void 0,cropHeightSize:void 0},format:{target:void 0,transparentFill:"#FFFFFF"},jpeg:ix.defaultOptions,png:{colors:128,dithering:.5},gif:{colors:128,dithering:!1},avif:io,webp:{quality:75,target_size:0,target_PSNR:0,method:4,sns_strength:50,filter_strength:60,filter_sharpness:0,filter_type:1,partitions:0,segments:4,pass:1,show_compressed:0,preprocessing:0,autofilter:0,partition_limit:0,alpha_compression:1,alpha_filtering:1,alpha_quality:100,lossless:0,exact:0,image_hint:0,emulate_jpeg_size:0,thread_level:0,low_memory:0,near_lossless:100,use_delta_palette:0,use_sharp_yuv:0},jxl:ij};class iS{list=new Map;option=iw;tempOption=iw;compareId=null;showOption=!1;showResizeOptions=!1;constructor(){!function(e,t,n){z(e)?tV(e,e,void 0,void 0):nE(function(){var t=ng(e,void 0)[ea];if(!e[t2]){var n=Object.getPrototypeOf(e),i=new Set([].concat(U(e),U(n)));i.delete("constructor"),i.delete(ea),V(n,t2,i)}e[t2].forEach(function(e){return t.make_(e,!0)})})}(this)}isCropMode(){let e=this.option.resize;return"setCropRatio"===e.method&&e.cropWidthRatio&&e.cropHeightRatio&&e.cropWidthRatio>0&&e.cropHeightRatio>0||"setCropSize"===e.method&&e.cropWidthSize&&e.cropHeightSize&&e.cropWidthSize>0&&e.cropHeightSize>0}clear(){this.list.clear(),this.tempOption={...iw},this.option={...iw}}reCompress(){this.list.forEach(e=>{URL.revokeObjectURL(e.compress.src),e.compress=void 0,iE(e)})}hasTaskRunning(){for(let[e,t]of this.list)if(!t.preview||!t.compress)return!0;return!1}getProgressHintInfo(){let e=this.list.size,t=0,n=0,i=0;for(let[e,r]of this.list)n+=r.blob.size,r.compress&&(t++,i+=r.compress.blob.size);let r=Math.ceil(100*t/e),s=Number(Math.abs((i-n)*100/n).toFixed(2));return{totalNum:e,loadedNum:t,originSize:n,outputSize:i,percent:r,rate:s}}}let iO=new iS;var ik=e.i(501764);async function iN(e){let t;if(!iO.option.format.target)return e;let n=iO.option.format.target.toLowerCase(),i=document.createElement("canvas");i.width=e.width,i.height=e.height;let r=i.getContext("2d");["jpg","jpeg"].includes(n)&&(r.fillStyle=iO.option.format.transparentFill,r.fillRect(0,0,e.width,e.height));let s=await new Promise(t=>{let n=new Image;n.src=e.src,n.onload=()=>t(n)});return r.drawImage(s,0,0,e.width,e.height,0,0,e.width,e.height),t="avif"===n?await ik.AvifImage.encode(r,e.width,e.height,iO.option.avif.quality,iO.option.avif.speed):await new Promise(e=>{i.toBlob(t=>{e(t)},ir.Mimes[n],1)}),e.blob=t,e.src=URL.createObjectURL(t),e}let iA=null,iC=null;async function iP(e){let t=iO.list.get(e.data.key);if(!t)return;let n=tK(t);n.width=e.data.width,n.height=e.data.height,n.compress=e.data.compress??n.compress,n.preview=e.data.preview??n.preview,n.blob.type===ir.Mimes.svg&&e.data.compress&&await iN(n.compress),iO.list.set(n.key,n)}function iM(e){return{info:{key:e.key,name:e.name,blob:e.blob,width:e.width,height:e.height},option:tK(iO.option)}}function iE(e){iA?.postMessage(iM(e))}async function iL(e){let t=e.map(async e=>{let t={key:ip+=1,name:e.name,blob:e,width:0,height:0,src:URL.createObjectURL(e)};if(e.type===ir.Mimes.svg){let{width:e,height:n}=await new Promise(e=>{let n=new Image;n.src=t.src,n.onload=()=>{e({x:0,y:0,width:n.width,height:n.height})}});t.width=e,t.height=n}return t});(await Promise.all(t)).forEach(e=>{iO.list.set(e.key,e)}),iO.option=tK(iO.tempOption),iO.list.forEach(e=>{iC?.postMessage(iM(e)),iE(e)})}var iR=e.i(343794),iD=e.i(327505);let iz=nY((0,nB.forwardRef)((e,t)=>(0,v.jsx)("input",{ref:t,className:iD.default.file,type:"file",multiple:!0,accept:Object.keys(ir.Mimes).map(e=>"."+e).join(","),onChange:async e=>{let t=e.target.files;if(!t?.length){e.target.value="";return}let n=Array.from(t).filter(e=>!!e);await iL(n),e.target.value=""}}))),iT=eF.object({dragActive:!1,isImporting:!1});var iV=e.i(210670);let iB=nY(()=>{let e=(0,nB.useRef)(null),t=async e=>{e.preventDefault(),iT.dragActive=!1,iT.isImporting=!0;let t=[],{dataTransfer:n}=e,i=n.getData("text/plain")||n.getData("text/uri-list");if(i){let e=i.trim(),n=e,r=e.match(/[?&]url=([^&]+)/i);if(r&&r[1])try{n=decodeURIComponent(r[1])}catch(e){}else e.startsWith("http")&&/\.(jpe?g|png|gif|webp|bmp|avif|svg)$/i.test(e)&&(n=e);if(n)try{let e=`https://image-proxy.thaonguyen83-dn.workers.dev?url=${encodeURIComponent(n)}`,i=await fetch(e,{mode:"cors"});if(!i.ok)throw Error("Proxy failed");let r=await i.blob();if(r.type.startsWith("image/")&&Object.values(ir.Mimes).includes(r.type)){let e=r.type.split("/")[1]||"png";"jpeg"===e&&(e="jpg");let i="web-image",s=n.match(/\/([^/?#]+)(?:\?|$|#)/);if(s){let t=decodeURIComponent(s[1]);if(t.includes(".")){let n=t.split("."),r=n.pop()?.toLowerCase(),s=n.join(".");["jpg","jpeg","png","gif","webp","bmp","avif","svg"].includes(r||"")&&s&&!["image","file","download","photo","pic","img"].includes(s.toLowerCase())&&(i=s,r&&(e="jpg"===r?"jpeg":r))}}let a=`${i}.${e}`,o=new File([r],a,{type:r.type});t.push(o)}}catch(e){}}if(n.items){let e=[];for(let i of n.items){if("function"==typeof i.getAsFileSystemHandle){e.push((async()=>{let e=await i.getAsFileSystemHandle();e&&t.push(...await ib(e))})());continue}if("function"==typeof i.webkitGetAsEntry){e.push((async()=>{let e=i.webkitGetAsEntry();e&&t.push(...await ig(e))})());continue}if("file"===i.kind){let e=i.getAsFile();e&&Object.values(ir.Mimes).includes(e.type)&&t.push(e)}}await Promise.all(e)}else if(n.files)for(let e=0;e<n.files.length;e++){let i=n.files[e];i&&Object.values(ir.Mimes).includes(i.type)&&t.push(i)}t.length>0&&(console.log("Dropped files:",t),iL(t)),iT.isImporting=!1};(0,nB.useEffect)(()=>{let e=async e=>{if(function(e){if(!e.clipboardData)return!1;let t=e.clipboardData.items;for(let e=0;e<t.length;e++)if(t[e].type.startsWith("image/"))return!0;return!1}(e)){e.preventDefault(),iT.isImporting=!0;let t=await iy(e);t.length>0&&iL(t),iT.isImporting=!1}};return document.addEventListener("paste",e),()=>document.removeEventListener("paste",e)},[]);let n=Object.keys(ir.Mimes).map(e=>e.toUpperCase()).join("/");return(0,v.jsxs)("div",{className:(0,iR.default)("d-flex justify-content-center align-items-center border border-2 border-dashed position-relative w-100","bg-body-tertiary text-center p-5 transition-all",iT.dragActive&&"border-primary bg-primary-subtle shadow-lg"),style:{minHeight:"300px",cursor:"pointer"},onClick:()=>e.current?.click(),children:[(0,v.jsx)("div",{className:iV.default.inner,children:(0,v.jsxs)("div",{className:"text-body-secondary",children:[(0,v.jsx)("svg",{viewBox:"0 0 1024 1024",width:"80",height:"80",fill:"currentColor",className:"mb-4 opacity-75",children:(0,v.jsx)("path",{d:"M128 256l0 640 896 0L1024 256 128 256zM960 789.344 832 576l-145.056 120.896L576 512 192 832 192 320l768 0L960 789.344zM256 480A3 3 7560 1 0 448 480 3 3 7560 1 0 256 480zM896 128 0 128 0 768 64 768 64 192 896 192z"})}),(0,v.jsx)("h4",{className:"fw-medium mb-3",children:"Select files or drag & drop images and folders here"}),(0,v.jsxs)("p",{className:"mb-2",children:["Supports ",n," images"]}),(0,v.jsx)("div",{className:iV.default.pasteHint,children:"Tip: Paste with Ctrl+V  Drag images from websites  Drop folders too"})]})}),(0,v.jsx)(iz,{ref:e}),(0,v.jsx)("div",{className:"position-absolute top-0 start-0 w-100 h-100",onDragOver:e=>{e.preventDefault(),iT.dragActive=!0},onDragLeave:e=>{e.preventDefault(),iT.dragActive=!1},onDrop:t}),iT.isImporting&&(0,v.jsxs)("div",{className:"position-absolute inset-0 d-flex flex-column justify-content-center align-items-center bg-white bg-opacity-75 rounded",children:[(0,v.jsx)("div",{className:"spinner-border text-primary mb-3",role:"status",style:{width:"3rem",height:"3rem"},children:(0,v.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,v.jsx)("p",{className:"fw-medium text-primary mb-0",children:"Importing images..."})]})]})});var iI=e.i(874144),iW=/[A-Z]/g,iq=/^ms-/,iH={};function iU(e){return"-"+e.toLowerCase()}let iF=function(e){if(iH.hasOwnProperty(e))return iH[e];var t=e.replace(iW,iU);return iH[e]=iq.test(t)?"-"+t:t};var iG=e.i(745009);let i$=iG.default.oneOfType([iG.default.string,iG.default.number]),iK={all:iG.default.bool,grid:iG.default.bool,aural:iG.default.bool,braille:iG.default.bool,handheld:iG.default.bool,print:iG.default.bool,projection:iG.default.bool,screen:iG.default.bool,tty:iG.default.bool,tv:iG.default.bool,embossed:iG.default.bool},{type:iZ,...iY}={orientation:iG.default.oneOf(["portrait","landscape"]),scan:iG.default.oneOf(["progressive","interlace"]),aspectRatio:iG.default.string,deviceAspectRatio:iG.default.string,height:i$,deviceHeight:i$,width:i$,deviceWidth:i$,color:iG.default.bool,colorIndex:iG.default.bool,monochrome:iG.default.bool,resolution:i$,type:Object.keys(iK)},iX={minAspectRatio:iG.default.string,maxAspectRatio:iG.default.string,minDeviceAspectRatio:iG.default.string,maxDeviceAspectRatio:iG.default.string,minHeight:i$,maxHeight:i$,minDeviceHeight:i$,maxDeviceHeight:i$,minWidth:i$,maxWidth:i$,minDeviceWidth:i$,maxDeviceWidth:i$,minColor:iG.default.number,maxColor:iG.default.number,minColorIndex:iG.default.number,maxColorIndex:iG.default.number,minMonochrome:iG.default.number,maxMonochrome:iG.default.number,minResolution:i$,maxResolution:i$,...iY};var iJ={...iK,...iX};let iQ=(0,nB.createContext)(void 0),i0=e=>{if(e)return Object.keys(e).reduce((t,n)=>(t[iF(n)]=e[n],t),{})},i1=()=>{let e=(0,nB.useRef)(!1);return(0,nB.useEffect)(()=>{e.current=!0},[]),e.current},i3=(e,t,n)=>{let i=(e=>{let t=(0,nB.useContext)(iQ),n=()=>i0(e)||i0(t),[i,r]=(0,nB.useState)(n);return(0,nB.useEffect)(()=>{let e=n();!function(e,t){if(e===t)return!0;if(!e||!t)return!1;let n=Object.keys(e),i=Object.keys(t),r=n.length;if(i.length!==r)return!1;for(let i=0;i<r;i++){let r=n[i];if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1}return!0}(i,e)&&r(e)},[e,t]),i})(t),r=(e=>{let t=()=>{let t;return e.query||(t=[],Object.keys(iJ).forEach(n=>{let i=e[n];null!=i&&t.push(((e,t)=>{let n=iF(e);if("number"==typeof t&&(t=`${t}px`),!0===t)return n;if(!1===t)return`not ${n}`;return`(${n}: ${t})`})(n,i))}),t.join(" and "))},[n,i]=(0,nB.useState)(t);return(0,nB.useEffect)(()=>{let e=t();n!==e&&i(e)},[e]),n})(e);if(!r)throw Error("Invalid or missing MediaQuery!");let s=((e,t)=>{let n=()=>(0,iI.default)(e,t||{},!!t),[i,r]=(0,nB.useState)(n),s=i1();return(0,nB.useEffect)(()=>{if(s){let e=n();return r(e),()=>{e&&e.dispose()}}},[e,t]),i})(r,i),a=(e=>{let[t,n]=(0,nB.useState)(e.matches);return(0,nB.useEffect)(()=>{let t=e=>{n(e.matches)};return e.addListener(t),n(e.matches),()=>{e.removeListener(t)}},[e]),t})(s),o=i1();return(0,nB.useEffect)(()=>{o&&n&&n(a)},[a]),(0,nB.useEffect)(()=>()=>{s&&s.dispose()},[]),a};function i2(){let e=i3({maxWidth:719});return{isMobile:e,isPad:i3({minWidth:720,maxWidth:1279}),isPC:i3({minWidth:1280})}}var i5=e.i(63135),i4=e.i(690861),i6=e.i(86019),i8=e.i(109876);function i9({data:e,columns:t,keyExtractor:n,sortBy:i,sortDirection:r=null,onSort:s,emptyMessage:a="No data available",className:o="",striped:l=!0,pagination:u,pageSizeOptions:c=[10,25,50,100],showPageSizeSelector:d=!0,showPageInfo:h=!0,rowProps:f}){let{currentTheme:p}=(0,i8.useTheme)(),[m,g]=(0,nB.useState)(1),[b,_]=(0,nB.useState)(c[0]??10),y=!1!==u&&void 0!==u,x=y?u.page:m,j=y?u.pageSize:b,w=y?u.totalItems:e.length,S=y?u.totalPages??Math.max(1,Math.ceil(w/j)):Math.max(1,Math.ceil(e.length/j)),O=(x-1)*j+1,k=Math.min(x*j,w);(0,nB.useEffect)(()=>{y||g(1)},[e.length,y]),(0,nB.useEffect)(()=>{if(y)return;let t=Math.max(1,Math.ceil(e.length/j));m>t&&g(t)},[e.length,j,m,y]);let N=(0,nB.useMemo)(()=>{if(y)return e;let t=(x-1)*j;return e.slice(t,t+j)},[e,y,x,j]),A=e=>{y?u.onPageChange(e,j):g(e)},C=x>1,P=x<S;return(0,v.jsxs)("div",{className:o,children:[(0,v.jsx)("div",{className:`table-responsive border ${"dark"===p?"border-secondary":"border"} mb-3`,children:(0,v.jsxs)("table",{className:`table table-hover align-middle mb-0 ${l?"table-striped":""}`,children:[(0,v.jsx)("thead",{className:`${"dark"===p?"table-dark":"table-light"} small ${"dark"===p?"text-light opacity-75":"text-muted"}`,children:(0,v.jsx)("tr",{children:t.map(e=>{var t;return(0,v.jsx)("th",{style:{width:e.width},className:e.sortable?"cursor-pointer user-select-none":"",onClick:()=>e.sortable&&s?.(e.key),children:(0,v.jsxs)(i5.default,{alignment:"center",gap:"1",children:[e.title,e.sortable&&((t=e.key)&&i===t?"asc"===r?(0,v.jsx)("i",{className:"bi bi-arrow-up text-primary ms-1",style:{fontSize:"0.9em"}}):"desc"===r?(0,v.jsx)("i",{className:"bi bi-arrow-down text-primary ms-1",style:{fontSize:"0.9em"}}):null:(0,v.jsx)("i",{className:"bi bi-arrow-down-up opacity-50 ms-1",style:{fontSize:"0.8em"}}))]})},e.key)})})}),(0,v.jsx)("tbody",{children:0===w?(0,v.jsx)("tr",{children:(0,v.jsxs)("td",{colSpan:t.length,className:"text-center py-5",children:[!a&&(0,v.jsx)("i",{className:`bi bi-inbox fs-1 d-block mb-3 ${"dark"===p?"opacity-30":"opacity-50"}`}),(0,v.jsx)(i4.default,{size:"4",color:"muted",children:a})]})}):N.map((e,i)=>{let r=O+i-1,s=f?f(e,r):{};return(0,v.jsx)("tr",{...s,children:t.map(t=>(0,v.jsx)("td",{className:t.align?`text-${t.align}`:"",children:t.render?t.render(e,r):"actions"===t.key?e[t.key]:String(e[t.key]??"")},t.key))},n(e))})})]})}),w>0&&(y||e.length>Math.min(...c))&&(0,v.jsxs)(i5.default,{alignment:"center",distribution:"between",className:"px-3 pb-2",children:[(0,v.jsxs)(i5.default,{gap:"3",alignment:"center",children:[h&&(0,v.jsxs)(i4.default,{size:"6",color:"muted",children:["Showing ",O,"",k," of"," ",w.toLocaleString()]}),!y&&d&&(0,v.jsxs)(i5.default,{gap:"2",alignment:"center",children:[(0,v.jsx)(i4.default,{size:"6",color:"muted",children:"Rows per page:"}),(0,v.jsx)(i6.Picker,{value:j.toString(),onChange:e=>{var t;return t=Number(e),void(y?u.onPageChange(1,t):(_(t),g(1)))},options:c.map(e=>({value:e.toString(),label:e.toString()})),pickerStyle:"select",className:"form-select form-select-sm",style:{width:"auto"}})]})]}),(0,v.jsx)("nav",{"aria-label":"Table pagination",children:(0,v.jsxs)("ul",{className:"pagination pagination-sm mb-0",children:[(0,v.jsx)("li",{className:`page-item ${!C?"disabled":""}`,children:(0,v.jsx)("button",{className:"page-link",onClick:()=>A(x-1),disabled:!C,"aria-label":"Previous",children:(0,v.jsx)("i",{className:"bi bi-chevron-left"})})}),Array.from({length:S},(e,t)=>t+1).filter(e=>!!(S<=7||1===e||e===S||1>=Math.abs(e-x))||e===x-2&&!!(x<=4)||e===x+2&&!!(x>=S-3)).map((e,t,n)=>{let i=t>0&&e>n[t-1]+1&&e!==S;return(0,v.jsxs)(nB.default.Fragment,{children:[i&&(0,v.jsx)("li",{className:"page-item disabled",children:(0,v.jsx)("span",{className:"page-link",children:""})}),(0,v.jsx)("li",{className:`page-item ${e===x?"active":""}`,children:(0,v.jsx)("button",{className:"page-link",onClick:()=>A(e),children:e})})]},e)}),(0,v.jsx)("li",{className:`page-item ${!P?"disabled":""}`,children:(0,v.jsx)("button",{className:"page-link",onClick:()=>A(x+1),disabled:!P,"aria-label":"Next",children:(0,v.jsx)("i",{className:"bi bi-chevron-right"})})})]})})]})]})}let i7=e=>0===e?"0 B":e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(1)} KB`:`${(e/1048576).toFixed(2)} MB`;function re({size:e="default",white:t=!1}){let n,i,r;if("number"==typeof e)n=`${e}px`,i=`${e}px`,r=e<=16?"0.12em":e<=24?"0.15em":"0.2em";else switch(e){case"small":n="0.75rem",i="0.75rem",r="0.12em";break;case"large":n="2rem",i="2rem",r="0.25em";break;default:n="1rem",i="1rem",r="0.15em"}return(0,v.jsx)("div",{className:(0,iR.default)("spinner-border",t?"text-white":"text-primary"),role:"status",style:{width:n,height:i,borderWidth:r},children:(0,v.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}var rt=e.i(700362);function rn({images:e,disabled:t=!1,draggable:n=!1,onReorder:i,...r}){let[s,a]=(0,nB.useState)(null),o=(0,nB.useMemo)(()=>[...n?[{key:"dragHandle",title:"",width:"40px",render:()=>(0,v.jsx)("div",{className:"text-center text-secondary",children:(0,v.jsx)("i",{className:"bi bi-grip-vertical fs-4",style:{cursor:"grab"}})})}]:[],{key:"status",title:"Status",width:"80px",render:e=>e.compress&&e.preview?(0,v.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:(0,v.jsx)("svg",{viewBox:"0 0 1024 1024",width:"28",height:"28",fill:"#28a745",children:(0,v.jsx)("path",{d:"M128 128l0 768 768 0L896 128 128 128zM424.704 768 198.464 541.696 288.96 451.2l135.744 135.744 316.8-316.8L832 360.704 424.704 768z"})})}):(0,v.jsx)(re,{size:"small"})},{key:"preview",title:"Preview",width:"120px",render:e=>{if(!e.preview)return(0,v.jsx)("div",{className:rt.default.preview});let t="image/jxl"===e.blob.type?e.preview?.src:e.src,n=e.compress?.src??null;return(0,v.jsxs)("div",{className:(0,iR.default)(rt.default.preview,"position-relative overflow-hidden rounded shadow-sm"),style:{width:"100px",height:"80px",cursor:"pointer"},onClick:()=>{n?iO.compareId=e.key:window.open(t,"_blank")},children:[(0,v.jsx)("img",{src:t,alt:e.name,className:"w-100 h-100",style:{objectFit:"cover",position:"absolute",inset:0}}),n&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"position-absolute bg-white",style:{top:0,left:0,width:"50%",height:"100%",pointerEvents:"none"}}),(0,v.jsx)("img",{src:n,alt:`${e.name} compressed`,className:"w-100 h-100",style:{objectFit:"cover",clipPath:"polygon(50% 0%, 100% 0%, 100% 100%, 50% 100%)"}}),(0,v.jsx)("div",{className:"position-absolute inset-0 d-flex align-items-center justify-content-center bg-black bg-opacity-30 opacity-0 hover-opacity-100 transition-opacity pointer-events-none",children:(0,v.jsx)("svg",{viewBox:"0 0 24 24",width:"32",height:"32",fill:"white",children:(0,v.jsx)("path",{d:"M13,23H11V1H13V23M9,19H5V5H9V3H5C3.89,3 3,3.89 3,5V19C3,20.11 3.9,21 5,21H9V19M19,7V9H21V7H19M19,5H21C21,3.89 20.1,3 19,3V5M21,15H19V17H21V15M19,11V13H21V11H19M17,3H15V5H17V3M19,21C20.11,21 21,20.11 21,19H19V21M17,19H15V21H17V19Z"})})})]})]})}},{key:"name",title:"Name",render:e=>(0,v.jsx)(i4.default,{weight:"medium",className:"text-truncate",style:{maxWidth:"300px"},title:e.name,wrap:!0,children:e.name})},{key:"dimension",title:"Dimension",width:"120px",align:"end",render:e=>(0,v.jsx)(i4.default,{size:"sm",color:"body-secondary",children:e.width&&e.height?`${e.width}\xd7${e.height}`:"-"})},{key:"newDimension",title:"New Dimension",width:"140px",align:"end",render:e=>e.compress?.width&&e.compress?.height?(0,v.jsxs)(i4.default,{size:"sm",weight:"medium",children:[e.compress.width,"",e.compress.height]}):"-"},{key:"size",title:"Size",width:"110px",align:"end",sortable:!0,render:e=>(0,v.jsx)(i4.default,{size:"sm",color:"body-secondary",children:i7(e.blob.size)})},{key:"newSize",title:"New size",width:"110px",align:"end",sortable:!0,render:e=>{if(!e.compress)return"-";let t=e.blob.size>e.compress.blob.size;return(0,v.jsx)(i4.default,{size:"sm",weight:"bold",color:t?"success":"danger",children:i7(e.compress.blob.size)})}},{key:"decrease",title:"Decrease",width:"130px",align:"end",sortable:!0,render:e=>{if(!e.compress)return"-";let t=e.blob.size,n=e.compress.blob.size,i=Math.abs((n-t)/t*100).toFixed(2)+"%",r=t>n;return(0,v.jsxs)(i5.default,{gap:"1",alignment:"end",children:[(0,v.jsx)(i4.default,{size:"sm",weight:"bold",color:r?"success":"danger",children:r?i:`+${i}`}),r?(0,v.jsx)("i",{className:"bi bi-arrow-down text-success fs-5"}):(0,v.jsx)("i",{className:"bi bi-arrow-up text-danger fs-5"})]})}},{key:"action",title:"Action",width:"120px",align:"end",render:e=>(0,v.jsxs)(i5.default,{gap:"3",alignment:"center",children:[(0,v.jsx)("button",{className:"btn btn-link p-0 text-danger",disabled:t,onClick:()=>iO.list.delete(e.key),title:"Remove",children:(0,v.jsxs)("svg",{viewBox:"0 0 1024 1024",width:"20",height:"20",fill:"#ff4d4f",children:[(0,v.jsx)("path",{d:"M912 239.2H112a5.333333 5.333333 0 0 0-5.333333 5.333333v64a5.333333 5.333333 0 0 0 5.333333 5.333334h88.32a5.333333 5.333333 0 0 1 5.333333 5.333333V912a5.333333 5.333333 0 0 0 5.333334 5.333333h601.973333a5.333333 5.333333 0 0 0 5.333333-5.333333V319.2a5.333333 5.333333 0 0 1 5.333334-5.333333H912a5.333333 5.333333 0 0 0 5.333333-5.333334v-64a5.333333 5.333333 0 0 0-5.333333-5.333333z m-470.24 486.506667a5.333333 5.333333 0 0 1-5.333333 5.333333h-64a5.333333 5.333333 0 0 1-5.333334-5.333333V430.826667a5.333333 5.333333 0 0 1 5.333334-5.333334h64a5.333333 5.333333 0 0 1 5.333333 5.333334z m215.146667 0a5.333333 5.333333 0 0 1-5.333334 5.333333h-64a5.333333 5.333333 0 0 1-5.333333-5.333333V430.826667a5.333333 5.333333 0 0 1 5.333333-5.333334h64a5.333333 5.333333 0 0 1 5.333334 5.333334z"}),(0,v.jsx)("path",{d:"M320 106.666667m5.333333 0l373.333334 0q5.333333 0 5.333333 5.333333l0 64q0 5.333333-5.333333 5.333333l-373.333334 0q-5.333333 0-5.333333-5.333333l0-64q0-5.333333 5.333333-5.333333Z"})]})}),(0,v.jsx)("button",{className:"btn btn-link p-0 text-secondary",disabled:t||!e.compress?.blob,onClick:()=>{e.compress?.blob&&iv(i_(e,iO.option),e.compress.blob)},title:"Download",children:(0,v.jsx)("svg",{viewBox:"0 0 1024 1024",width:"18",height:"20",fill:"#707070",children:(0,v.jsx)("path",{d:"M736 448l-256 256-256-256 160 0 0-384 192 0 0 384zM480 704l-480 0 0 256 960 0 0-256-480 0zM896 832l-128 0 0-64 128 0 0 64z"})})})]})}],[t,n]);return(0,v.jsx)(i9,{data:e,columns:o,keyExtractor:e=>e.key.toString(),sortBy:r.sortKey,sortDirection:r.sortOrder,onSort:r.onSort,className:"table-hover",headerClassName:"bg-light border-bottom",rowProps:(e,t)=>({draggable:n,style:{cursor:n?"grab":"default",opacity:s===t?.5:1,backgroundColor:s===t?"#f8f9fa":void 0},onDragStart:e=>{a(t),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",t.toString())},onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},onDragEnter:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault();let n=Number(e.dataTransfer.getData("text/plain"));n!==t&&i&&i(n,t),a(null)},onDragEnd:()=>{a(null)}})})}let ri=nY(()=>{let e=iO.getProgressHintInfo(),{isMobile:t}=i2(),n=e.originSize>e.outputSize;return(0,v.jsxs)("div",{className:"d-flex align-items-center gap-3 p-2 bg-body-tertiary rounded",children:[(0,v.jsxs)("div",{className:"position-relative",style:{width:"40px",height:"40px"},children:[(0,v.jsxs)("svg",{className:"position-absolute top-0 start-0",width:"40",height:"40",viewBox:"0 0 36 36",children:[(0,v.jsx)("circle",{cx:"18",cy:"18",r:"16",fill:"none",stroke:"var(--bs-border-color)",strokeWidth:"3"}),(0,v.jsx)("circle",{cx:"18",cy:"18",r:"16",fill:"none",stroke:100===e.percent?"var(--bs-success)":"var(--bs-primary)",strokeWidth:"3",strokeDasharray:`${e.percent} 100`,strokeLinecap:"round",transform:"rotate(-90 18 18)",className:"transition-all duration-500"})]}),(0,v.jsx)("div",{className:"position-absolute top-50 start-50 translate-middle text-center",children:(0,v.jsxs)("div",{className:"fw-bold text-primary",style:{fontSize:"0.65rem"},children:[e.percent,"%"]})})]}),(0,v.jsxs)("div",{className:"small",children:[(0,v.jsx)("span",{className:"fw-bold text-success",children:e.loadedNum}),(0,v.jsxs)("span",{className:"text-body-secondary",children:["/",e.totalNum]}),!t&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("span",{className:"text-body-secondary ms-3",children:["Before:",(0,v.jsx)("span",{className:"fw-medium",children:im(e.originSize)})]}),(0,v.jsxs)("span",{className:"text-body-secondary ms-3",children:["After:",(0,v.jsx)("span",{className:"fw-medium",children:im(e.outputSize)})]})]}),(0,v.jsxs)("span",{className:"text-body-secondary ms-3",children:["Rate:",(0,v.jsxs)("span",{className:`fw-bold ${n?"text-success":"text-danger"}`,children:[e.rate,"%",(0,v.jsx)("i",{className:`bi ${n?"bi-arrow-down":"bi-arrow-up"} ms-1`})]})]})]})]})});var rr=e.i(255519);class rs{_queue=Promise.resolve();_worker;_workerApi;_workerTimeout;_terminateWorker(){this._worker&&(this._worker.terminate(),this._worker=void 0,this._workerApi=void 0,this._workerTimeout&&(clearTimeout(this._workerTimeout),this._workerTimeout=void 0))}_startWorker(){this._worker=new Worker(e.r(900702),{type:"module",type:void 0}),this._workerApi=rr.wrap(this._worker)}}for(let e of["generatePdf"])rs.prototype[e]=function(...t){let n,i;return t.length>0&&t[0]instanceof AbortSignal?(n=t[0],i=t.slice(1)):(n=void 0,i=t),n||(n=new AbortController().signal),this._queue=this._queue.catch(()=>{}).then(async()=>{if(n.aborted)throw new DOMException("Aborted","AbortError");clearTimeout(this._workerTimeout),this._worker||this._startWorker();let t=()=>this._terminateWorker();n.addEventListener("abort",t,{once:!0});try{return await (0,is.abortable)(n,this._workerApi[e](...i))}finally{n.removeEventListener("abort",t),this._workerTimeout=self.setTimeout(()=>{this._terminateWorker()},1e4)}}),this._queue};let ra=new rs,ro=nY(()=>{let{isMobile:t}=i2(),n=iO.hasTaskRunning(),i=(0,nB.useRef)(null),[r,s]=(0,nB.useState)(null),[a,o]=(0,nB.useState)(null),[l,u]=(0,nB.useState)(!1),c=[...Array.from(iO.list.values())].sort((e,t)=>{if(void 0!==e.order&&void 0!==t.order)return e.order-t.order;if(void 0!==e.order)return -1;if(void 0!==t.order)return 1;if(!r||!a)return 0;let n=null,i=null;if("size"===r)n=e.blob.size,i=t.blob.size;else if("newSize"===r)n=e.compress?.blob.size??e.blob.size,i=t.compress?.blob.size??t.blob.size;else if("decrease"===r){let r=((e.compress?.blob.size??e.blob.size)-e.blob.size)/e.blob.size,s=((t.compress?.blob.size??t.blob.size)-t.blob.size)/t.blob.size;n=Math.abs(100*r),i=Math.abs(100*s)}return null===n||null===i?0:"asc"===a?n-i:i-n}),d=async()=>{if(l)return;u(!0);let e=c.map(e=>({blob:e.compress?.blob||e.blob,fileName:e.name}));try{let t=await ra.generatePdf(e,{pageSize:"a4",orientation:"portrait",marginMm:10,fitMode:"contain",quality:.95});iv(`images-${new Date().toISOString().slice(0,10)}.pdf`,t)}catch(e){console.error("PDF generation failed:",e),alert("Failed to generate PDF. Please try again.")}finally{u(!1)}},h=async()=>{let t=new(await e.A(495004)).default,n=new Set;for(let e of c){if(!e.compress?.blob)continue;let i=function(e,t){let n=t=>{if(!e.has(t))return t;{let e=t.split("."),i=e.pop();return n(e.join("")+"(1)."+i)}};return n(t)}(n,i_(e,iO.option));n.add(i),t.file(i,e.compress.blob)}let i=await t.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}});iv(`compressed-images-${new Date().toISOString().slice(0,10)}.zip`,i)},f=n||0===c.length||l;return(0,v.jsxs)("div",{className:"d-flex flex-column h-100 w-100 bg-body",children:[(0,v.jsx)("div",{className:"p-3 border-top bg-body-tertiary",children:(0,v.jsx)(ri,{})}),(0,v.jsx)("br",{}),(0,v.jsxs)("div",{className:"d-flex justify-content-between align-items-center p-3 border-bottom bg-body-tertiary",children:[(0,v.jsxs)("div",{className:"d-flex gap-2",children:[(0,v.jsxs)("button",{className:"btn btn-primary",disabled:n,onClick:()=>i.current?.click(),children:[(0,v.jsx)("i",{className:"bi bi-plus-lg me-2"}),!t&&"Add Images"]}),window.showDirectoryPicker&&(0,v.jsxs)("button",{className:"btn btn-primary",disabled:n,onClick:async()=>{let e=await window.showDirectoryPicker(),t=await ib(e);await iL(t)},children:[(0,v.jsx)("i",{className:"bi bi-folder-plus me-2"}),!t&&"Add Folder"]})]}),(0,v.jsxs)("div",{className:"d-flex gap-2",children:[(0,v.jsxs)("button",{className:"btn btn-danger",disabled:n,onClick:()=>iO.clear(),children:[(0,v.jsx)("i",{className:"bi bi-trash me-2"}),!t&&"Clear All"]}),(0,v.jsxs)("button",{className:"btn btn-outline-primary",disabled:n,onClick:()=>iO.reCompress(),children:[(0,v.jsx)("i",{className:"bi bi-arrow-repeat me-2"}),"Recompress"]}),(0,v.jsx)("button",{className:`btn btn-info text-white position-relative ${l?"pe-none":""}`,disabled:f,onClick:d,title:l?"Generating PDF... Please wait":"Combine all images into a single PDF (in current order). Only PNG, JPG/JPEG, GIF and WebP formats are supported.",children:l?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Generating PDF..."]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("i",{className:"bi bi-file-earmark-pdf me-2"}),!t&&"Images to PDF"]})}),(0,v.jsxs)("button",{className:"btn btn-success",disabled:n,onClick:h,children:[(0,v.jsx)("i",{className:"bi bi-download me-2"}),!t&&"Download All"]})]}),(0,v.jsx)(iz,{ref:i})]}),(0,v.jsx)(rn,{images:c,disabled:n,sortKey:r,sortOrder:a,onSort:e=>{r===e?"asc"===a?o("desc"):"desc"===a?(s(null),o(null)):o("asc"):(s(e),o("asc"))},onReorder:(e,t)=>{let n=c[e],i=c.filter((t,n)=>n!==e);[...i.slice(0,t),n,...i.slice(t)].forEach((e,t)=>{e.order!==t&&(e.order=t)}),iO.list.replace(new Map(iO.list))},draggable:!0})]})});var rl=e.i(682980),ru=e.i(53331);function rc(e){let{desc:t,children:n,...i}=e;return(0,v.jsxs)("div",{className:(0,iR.default)(ru.default.container,"d-flex flex-column gap-2"),...i,children:[t&&(0,v.jsx)("small",{className:(0,iR.default)(ru.default.desc,"text-body-secondary"),children:t}),(0,v.jsx)("div",{children:n})]})}var rd=e.i(33720);function rh({options:e,onChange:t}){let[n,i]=(0,nB.useState)(!1),r=(n,i)=>{t({...e,[n]:i})};return(0,v.jsxs)("div",{className:"d-flex flex-column gap-4",children:[(0,v.jsx)(id.default,{min:0,max:100,value:e.quality,onChange:e=>r("quality",Number(e.target.value)),trackColor:"var(--bs-primary)",children:"Quality"}),n&&(0,v.jsx)(rd.default,{in:n,children:(0,v.jsxs)("div",{className:"d-flex flex-column gap-4 ps-4",children:[(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Channels"}),(0,v.jsxs)(ic.default,{value:e.color_space,onChange:e=>r("color_space",Number(e.target.value)),children:[(0,v.jsx)("option",{value:ix.MozJpegColorSpace.GRAYSCALE,children:"Grayscale"}),(0,v.jsx)("option",{value:ix.MozJpegColorSpace.RGB,children:"RGB"}),(0,v.jsx)("option",{value:ix.MozJpegColorSpace.YCbCr,children:"YCbCr"})]})]}),(0,v.jsx)(rd.default,{in:e.color_space===ix.MozJpegColorSpace.YCbCr,children:(0,v.jsxs)("div",{className:"d-flex flex-column gap-4",children:[(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Auto subsample chroma"}),(0,v.jsx)(iu.default,{checked:e.auto_subsample,onChange:e=>r("auto_subsample",e.target.checked)})]}),(0,v.jsx)(rd.default,{in:!e.auto_subsample,children:(0,v.jsx)("div",{children:(0,v.jsx)(id.default,{min:1,max:4,value:e.chroma_subsample,onChange:e=>r("chroma_subsample",Number(e.target.value)),children:"Subsample chroma by"})})}),(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Separate chroma quality"}),(0,v.jsx)(iu.default,{checked:e.separate_chroma_quality,onChange:e=>r("separate_chroma_quality",e.target.checked)})]}),(0,v.jsx)(rd.default,{in:e.separate_chroma_quality,children:(0,v.jsx)("div",{children:(0,v.jsx)(id.default,{min:0,max:100,value:e.chroma_quality,onChange:e=>r("chroma_quality",Number(e.target.value)),children:"Chroma quality"})})})]})}),(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Pointless spec compliance"}),(0,v.jsx)(iu.default,{checked:e.baseline,onChange:e=>r("baseline",e.target.checked)})]}),(0,v.jsx)(rd.default,{in:!e.baseline,children:(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Progressive rendering"}),(0,v.jsx)(iu.default,{checked:e.progressive,onChange:e=>r("progressive",e.target.checked)})]})}),(0,v.jsx)(rd.default,{in:e.baseline,children:(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Optimize Huffman table"}),(0,v.jsx)(iu.default,{checked:e.optimize_coding,onChange:e=>r("optimize_coding",e.target.checked)})]})}),(0,v.jsx)(id.default,{min:0,max:100,value:e.smoothing,onChange:e=>r("smoothing",Number(e.target.value)),children:"Smoothing"}),(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Quantization"}),(0,v.jsxs)(ic.default,{value:e.quant_table,onChange:e=>r("quant_table",Number(e.target.value)),children:[(0,v.jsx)("option",{value:0,children:"JPEG Annex K"}),(0,v.jsx)("option",{value:1,children:"Flat"}),(0,v.jsx)("option",{value:2,children:"MSSIM-tuned Kodak"}),(0,v.jsx)("option",{value:3,children:"ImageMagick"}),(0,v.jsx)("option",{value:4,children:"PSNR-HVS-M-tuned Kodak"}),(0,v.jsx)("option",{value:5,children:"Klein et al"}),(0,v.jsx)("option",{value:6,children:"Watson et al"}),(0,v.jsx)("option",{value:7,children:"Ahumada et al"}),(0,v.jsx)("option",{value:8,children:"Peterson et al"})]})]}),(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Trellis multipass"}),(0,v.jsx)(iu.default,{checked:e.trellis_multipass,onChange:e=>r("trellis_multipass",e.target.checked)})]}),(0,v.jsx)(rd.default,{in:e.trellis_multipass,children:(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Optimize zero block runs"}),(0,v.jsx)(iu.default,{checked:e.trellis_opt_zero,onChange:e=>r("trellis_opt_zero",e.target.checked)})]})}),(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Optimize after trellis quantization"}),(0,v.jsx)(iu.default,{checked:e.trellis_opt_table,onChange:e=>r("trellis_opt_table",e.target.checked)})]}),(0,v.jsx)(id.default,{min:1,max:50,value:e.trellis_loops,onChange:e=>r("trellis_loops",Number(e.target.value)),children:"Trellis quantization passes"})]})})]})}let rf=[[0,0],[1,20],[2,25],[3,30],[3,50],[4,50],[4,75],[4,90],[5,90],[6,100]];function rp({options:e,onChange:t}){var n,i;let r,[s,a]=(0,nB.useState)(!1),o=!!e.lossless,l=(n=e.quality,i=e.method,-1!==(r=rf.findIndex(([e,t])=>e===i&&t===n))?r:6),u=(n,i)=>{t({...e,[n]:i})};return(0,v.jsx)("div",{className:"d-flex flex-column gap-4",children:o?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(id.default,{min:0,max:9,value:l,onChange:n=>(n=>{let[i,r]=rf[n];t({...e,method:i,quality:r})})(Number(n.target.value)),children:"Effort"}),(0,v.jsx)(id.default,{min:0,max:100,value:100-e.near_lossless,onChange:n=>{var i;return i=Number(n.target.value),void t({...e,near_lossless:100-i})},children:"Slight loss"}),(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Discrete tone image"}),(0,v.jsx)(iu.default,{checked:0!==e.image_hint,onChange:e=>u("image_hint",3*!!e.target.checked)})]})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(id.default,{min:0,max:100,step:.1,value:e.quality,onChange:e=>u("quality",Number(e.target.value)),trackColor:"var(--bs-primary)",children:"Quality"}),(0,v.jsx)(id.default,{min:0,max:6,value:e.method,onChange:e=>u("method",Number(e.target.value)),children:"Effort"}),s&&(0,v.jsx)(rd.default,{in:s,children:(0,v.jsxs)("div",{className:"d-flex flex-column gap-4 ps-4",children:[(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Compress alpha"}),(0,v.jsx)(iu.default,{checked:!!e.alpha_compression,onChange:e=>u("alpha_compression",+!!e.target.checked)})]}),(0,v.jsx)(id.default,{min:0,max:100,value:e.alpha_quality,onChange:e=>u("alpha_quality",Number(e.target.value)),children:"Alpha quality"}),(0,v.jsx)(id.default,{min:0,max:2,value:e.alpha_filtering,onChange:e=>u("alpha_filtering",Number(e.target.value)),children:"Alpha filter quality"}),(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Auto adjust filter strength"}),(0,v.jsx)(iu.default,{checked:!!e.autofilter,onChange:e=>u("autofilter",+!!e.target.checked)})]}),(0,v.jsx)(rd.default,{in:!e.autofilter,children:(0,v.jsx)("div",{children:(0,v.jsx)(id.default,{min:0,max:100,value:e.filter_strength,onChange:e=>u("filter_strength",Number(e.target.value)),children:"Filter strength"})})}),(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Strong filter"}),(0,v.jsx)(iu.default,{checked:!!e.filter_type,onChange:e=>u("filter_type",+!!e.target.checked)})]}),(0,v.jsx)(id.default,{min:0,max:7,value:7-e.filter_sharpness,onChange:n=>{var i;return i=Number(n.target.value),void t({...e,filter_sharpness:7-i})},children:"Filter sharpness"}),(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Sharp RGBYUV conversion"}),(0,v.jsx)(iu.default,{checked:!!e.use_sharp_yuv,onChange:e=>u("use_sharp_yuv",+!!e.target.checked)})]}),(0,v.jsx)(id.default,{min:1,max:10,value:e.pass,onChange:e=>u("pass",Number(e.target.value)),children:"Passes"}),(0,v.jsx)(id.default,{min:0,max:100,value:e.sns_strength,onChange:e=>u("sns_strength",Number(e.target.value)),children:"Spatial noise shaping"}),(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Preprocess"}),(0,v.jsxs)(ic.default,{value:e.preprocessing,onChange:e=>u("preprocessing",Number(e.target.value)),children:[(0,v.jsx)("option",{value:0,children:"None"}),(0,v.jsx)("option",{value:1,children:"Segment smooth"}),(0,v.jsx)("option",{value:2,children:"Pseudo-random dithering"})]})]}),(0,v.jsx)(id.default,{min:1,max:4,value:e.segments,onChange:e=>u("segments",Number(e.target.value)),children:"Segments"}),(0,v.jsx)(id.default,{min:0,max:3,value:e.partitions,onChange:e=>u("partitions",Number(e.target.value)),children:"Partitions"})]})})]})})}function rm({options:e,onChange:t}){let[n,i]=(0,nB.useState)(!0),[r,s]=(0,nB.useState)(100===e.quality),[a,o]=(0,nB.useState)(e.lossyPalette),[l,u]=(0,nB.useState)(e.quality),[c,d]=(0,nB.useState)(e.lossyModular),[h,f]=(0,nB.useState)(-1===e.epf),[p,m]=(0,nB.useState)(-1===e.epf?2:e.epf),[g,b]=(0,nB.useState)(e.decodingSpeedTier),[_,y]=(0,nB.useState)(e.photonNoiseIso),[x,j]=(0,nB.useState)(e.progressive),[w,S]=(0,nB.useState)(e.effort);(0,nB.useEffect)(()=>{s(100===e.quality),o(e.lossyPalette),u(e.quality),d(e.lossyModular),f(-1===e.epf),m(-1===e.epf?2:e.epf),b(e.decodingSpeedTier),y(e.photonNoiseIso),j(e.progressive),S(e.effort),i(100!==e.quality)},[e]);let O=(0,nB.useCallback)(()=>{t({effort:w,quality:r?100:l,progressive:x,epf:h?-1:p,lossyPalette:!!r&&a,decodingSpeedTier:g,photonNoiseIso:_,lossyModular:l<7||c})},[w,r,l,x,h,p,a,g,_,c,t]);return(0,nB.useEffect)(()=>{O()},[O]),(0,v.jsxs)("div",{className:"d-flex flex-column gap-4",children:[r&&(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(rd.default,{in:r,children:(0,v.jsx)("div",{children:(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,v.jsx)("span",{className:"fw-medium",children:"Slight loss"}),(0,v.jsx)(iu.default,{checked:a,onChange:e=>o(e.target.checked)})]})})})}),(0,v.jsx)(rd.default,{in:!r,children:(0,v.jsx)("div",{className:"d-flex flex-column gap-4",children:(0,v.jsx)(id.default,{min:0,max:99.9,step:.1,value:l,onChange:e=>u(Number(e.target.value)),trackColor:"var(--bs-primary)",children:"Quality"})})})]})}let rv=nY(()=>{let e=iO.hasTaskRunning(),t=iO.tempOption.resize.method,n=iO.tempOption.format.target||"",i=null;return"fitWidth"===t?i=(0,v.jsx)("input",{type:"number",className:"form-control",min:"0",step:"1",disabled:e,placeholder:"Width (px)",value:iO.tempOption.resize.width??"",onChange:e=>{iO.tempOption.resize.width=e.target.value?Number(e.target.value):void 0}}):"fitHeight"===t?i=(0,v.jsx)("input",{type:"number",className:"form-control",min:"0",step:"1",disabled:e,placeholder:"Height (px)",value:iO.tempOption.resize.height??"",onChange:e=>{iO.tempOption.resize.height=e.target.value?Number(e.target.value):void 0}}):"setShort"===t?i=(0,v.jsx)("input",{type:"number",className:"form-control",min:"0",step:"1",disabled:e,placeholder:"Short side (px)",value:iO.tempOption.resize.short??"",onChange:e=>{iO.tempOption.resize.short=e.target.value?Number(e.target.value):void 0}}):"setLong"===t?i=(0,v.jsx)("input",{type:"number",className:"form-control",min:"0",step:"1",disabled:e,placeholder:"Long side (px)",value:iO.tempOption.resize.long??"",onChange:e=>{iO.tempOption.resize.long=e.target.value?Number(e.target.value):void 0}}):"setCropRatio"===t?i=(0,v.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,v.jsx)("input",{type:"number",className:"form-control",min:"1",step:"1",disabled:e,placeholder:"Width ratio",value:iO.tempOption.resize.cropWidthRatio??"",onChange:e=>{iO.tempOption.resize.cropWidthRatio=e.target.value?Number(e.target.value):void 0}}),(0,v.jsx)("span",{className:"fw-bold",children:":"}),(0,v.jsx)("input",{type:"number",className:"form-control",min:"1",step:"1",disabled:e,placeholder:"Height ratio",value:iO.tempOption.resize.cropHeightRatio??"",onChange:e=>{iO.tempOption.resize.cropHeightRatio=e.target.value?Number(e.target.value):void 0}})]}):"setCropSize"===t&&(i=(0,v.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,v.jsx)("input",{type:"number",className:"form-control",min:"1",step:"1",disabled:e,placeholder:"Crop width",value:iO.tempOption.resize.cropWidthSize??"",onChange:e=>{iO.tempOption.resize.cropWidthSize=e.target.value?Number(e.target.value):void 0}}),(0,v.jsx)("span",{className:"fw-bold",children:""}),(0,v.jsx)("input",{type:"number",className:"form-control",min:"1",step:"1",disabled:e,placeholder:"Crop height",value:iO.tempOption.resize.cropHeightSize??"",onChange:e=>{iO.tempOption.resize.cropHeightSize=e.target.value?Number(e.target.value):void 0}})]})),["jpg","jpeg"].includes(n),(0,v.jsxs)("div",{className:"d-flex flex-column gap-4",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h6",{className:"fw-semibold mb-3",children:"Resize"}),(0,v.jsxs)(rc,{children:[(0,v.jsxs)("select",{className:"form-select",value:t||"",disabled:e,onChange:e=>{let t=e.target.value;iO.tempOption.resize={method:t||void 0,width:void 0,height:void 0,short:void 0,long:void 0,cropWidthRatio:void 0,cropHeightRatio:void 0,cropWidthSize:void 0,cropHeightSize:void 0}},children:[(0,v.jsx)("option",{value:"",children:"No resize"}),[{value:"fitWidth",label:"Fit Width"},{value:"fitHeight",label:"Fit Height"},{value:"setShort",label:"Set Short Side"},{value:"setLong",label:"Set Long Side"},{value:"setCropRatio",label:"Crop by Ratio"},{value:"setCropSize",label:"Crop by Size"}].map(e=>(0,v.jsx)("option",{value:e.value,children:e.label},e.value))]}),i&&(0,v.jsx)("div",{className:"mt-2",children:i})]})]}),(0,v.jsx)("hr",{className:"my-4"}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h6",{className:"fw-semibold mb-3",children:"Output Format"}),(0,v.jsx)(rc,{children:(0,v.jsxs)("select",{className:"form-select",value:n,disabled:e,onChange:e=>{let t=e.target.value;iO.tempOption.format.target=t||void 0},children:[(0,v.jsx)("option",{value:"",children:"Original format"}),Object.keys(ir.Mimes).filter(e=>!["svg","gif"].includes(e)).map(e=>"jxl"===e?{value:e,label:"JPEG XL"}:{value:e,label:e.toUpperCase()}).map(e=>(0,v.jsx)("option",{value:e.value,children:e.label},e.value))]})})]}),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("hr",{className:"my-4"}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h6",{className:"fw-semibold mb-3",children:"JPEG Options"}),(0,v.jsx)(rh,{options:iO.tempOption.jpeg,onChange:e=>{iO.tempOption.jpeg=e}})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h6",{className:"fw-semibold mb-3",children:"JPEG XL Options"}),(0,v.jsx)("div",{children:(0,v.jsx)(rm,{options:ij,onChange:e=>{iO.tempOption.jxl=e}})})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h6",{className:"fw-semibold mb-3",children:"PNG Options"}),(0,v.jsxs)(rc,{desc:"Number of colors (2256)",children:[(0,v.jsx)("input",{type:"range",className:"form-range",min:"2",max:"256",step:"1",disabled:e,value:iO.tempOption.png.colors,onChange:e=>{iO.tempOption.png.colors=parseInt(e.target.value)}}),(0,v.jsxs)("div",{className:"text-center text-muted small",children:[iO.tempOption.png.colors," colors"]})]}),(0,v.jsxs)(rc,{desc:"Dithering (0 = none, 1 = full)",children:[(0,v.jsx)("input",{type:"range",className:"form-range",min:"0",max:"1",step:"0.01",disabled:e,value:iO.tempOption.png.dithering,onChange:e=>{iO.tempOption.png.dithering=parseFloat(e.target.value)}}),(0,v.jsxs)("div",{className:"text-center text-muted small",children:[(100*iO.tempOption.png.dithering).toFixed(0),"%"]})]})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h6",{className:"fw-semibold mb-3",children:"GIF Options"}),(0,v.jsx)(rc,{children:(0,v.jsxs)("div",{className:"form-check",children:[(0,v.jsx)("input",{className:"form-check-input",type:"checkbox",id:"gifDithering",checked:iO.tempOption.gif.dithering,disabled:e,onChange:e=>{iO.tempOption.gif.dithering=e.target.checked}}),(0,v.jsx)("label",{className:"form-check-label",htmlFor:"gifDithering",children:"Enable dithering"})]})}),(0,v.jsxs)(rc,{desc:"Number of colors (2256)",children:[(0,v.jsx)("input",{type:"range",className:"form-range",min:"2",max:"256",step:"1",disabled:e,value:iO.tempOption.gif.colors,onChange:e=>{iO.tempOption.gif.colors=parseInt(e.target.value)}}),(0,v.jsxs)("div",{className:"text-center text-muted small",children:[iO.tempOption.gif.colors," colors"]})]})]}),ir.Mimes.avif&&(0,v.jsxs)("div",{children:[(0,v.jsx)("h6",{className:"fw-semibold mb-3",children:"AVIF Options"}),(0,v.jsx)("div",{children:(0,v.jsx)(ih,{options:io,onChange:e=>{iO.tempOption.avif=e}})})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h6",{className:"fw-semibold mb-3",children:"WEBP Options"}),(0,v.jsx)("div",{children:(0,v.jsx)(rp,{options:iO.tempOption.webp,onChange:e=>{iO.tempOption.webp=e}})})]})]})]})});var rg=e.i(789998),rb=e.i(650720);let r_=nY(()=>{let e=iO.hasTaskRunning(),t=(0,v.jsx)(rb.default,{id:"option-help-popover",className:"shadow",children:(0,v.jsx)(rb.default.Body,{className:"p-3 small",children:"Customize compression settings. Modifications to the options will be applied to all images."})}),n=(0,v.jsxs)("div",{className:"h-100 d-flex flex-column",children:[(0,v.jsxs)("div",{className:"p-3 border-bottom bg-body-tertiary d-flex justify-content-between align-items-center",children:[(0,v.jsx)(rg.default,{trigger:["hover","focus"],placement:"bottom",overlay:t,delay:{show:150,hide:300},children:(0,v.jsx)("div",{className:"text-secondary",tabIndex:0,children:(0,v.jsx)("i",{className:"bi bi-exclamation-circle fs-5"})})}),(0,v.jsxs)("div",{className:"d-flex gap-2",children:[(0,v.jsxs)("button",{className:"btn btn-outline-secondary btn-sm",disabled:e,onClick:()=>{iO.tempOption={...iw},iO.option={...iw},iO.reCompress()},children:[(0,v.jsx)("i",{className:"bi bi-arrow-clockwise me-1"}),"Reset"]}),(0,v.jsxs)("button",{className:"btn btn-primary btn-sm",disabled:e,onClick:()=>{iO.option=tK(iO.tempOption),iO.reCompress()},children:[(0,v.jsx)("i",{className:"bi bi-check-lg me-1"}),"Apply"]})]})]}),(0,v.jsx)("div",{className:"flex-grow-1 overflow-auto p-3 bg-body",children:(0,v.jsx)(rv,{})})]});return(0,v.jsx)("div",{className:(0,iR.default)(rl.default.side,rl.default.sidePc,"h-100 bg-body border-start shadow-sm"),children:n})});var ry=e.i(482791),rx=e.i(487266);let rj=nY(()=>{let{currentTheme:e}=(0,i8.useTheme)(),t=(0,nB.useRef)(iO.list.get(iO.compareId)),n=(0,nB.useRef)(null),i=(0,nB.useRef)(null),[r,s]=(0,nB.useState)({x:0,xrate:.5,scale:.8,moving:!1,status:"show",dividerWidth:4,containerWidth:0,containerHeight:0,imageWidth:0,imageHeight:0}),[a,o]=(0,nB.useState)(!1),[l,u]=(0,nB.useState)(!1),c=(0,nB.useCallback)(e=>{s(t=>({...t,...e}))},[]),d=(0,nB.useCallback)(()=>r,[r]),h=(0,nB.useRef)(c),f=(0,nB.useRef)(d);(0,nB.useEffect)(()=>{h.current=c,f.current=d},[c,d]),(0,nB.useEffect)(()=>{let e=document.documentElement,r=i.current,s=!1,a=0,o=()=>{let e,i,r=f.current(),s=n.current.getBoundingClientRect();t.current.width/t.current.height>s.width/s.height?i=(e=s.width*r.scale)*t.current.height/t.current.width:e=(i=s.height*r.scale)*t.current.width/t.current.height,h.current({x:s.width*r.xrate,imageWidth:e,imageHeight:i,containerWidth:s.width,containerHeight:s.height})},l=e=>{s=!0,a=e.clientX,h.current({moving:!0})},u=()=>{s=!1,a=0,h.current({moving:!1})},c=e=>{if(s){let t=f.current(),n=t.x+e.clientX-a,i=(t.containerWidth-t.imageWidth)/2,r=(t.containerWidth+t.imageWidth)/2;n<i&&(n=i),n>r&&(n=r),a=e.clientX,h.current({x:n,xrate:n/t.containerWidth})}},d=e=>{let n,i;e.preventDefault();let r=f.current(),s=r.scale-.001*e.deltaY;s=Math.max(.1,Math.min(1,s)),t.current.width/t.current.height>r.containerWidth/r.containerHeight?i=(n=r.containerWidth*s)*t.current.height/t.current.width:n=(i=r.containerHeight*s)*t.current.width/t.current.height;let a=(r.x-(r.containerWidth-r.imageWidth)/2)/r.imageWidth*n+(r.containerWidth-n)/2;h.current({scale:s,imageWidth:n,imageHeight:i,x:a})};return window.addEventListener("resize",o),n.current.addEventListener("wheel",d,{passive:!1}),r.addEventListener("mousedown",l),e.addEventListener("mousemove",c),e.addEventListener("mouseup",u),o(),()=>{window.removeEventListener("resize",o),n.current?.removeEventListener("wheel",d),r.removeEventListener("mousedown",l),e.removeEventListener("mousemove",c),e.removeEventListener("mouseup",u)}},[]);let p={width:`${r.x}px`},m={width:`${r.containerWidth-r.x}px`},g={width:`${r.dividerWidth}px`,left:`${r.x-r.dividerWidth/2}px`,opacity:+(0!==r.x)},b={opacity:l&&a?1:0,transition:"opacity 0.3s ease"},_={width:r.imageWidth,height:r.imageHeight,left:`${(r.containerWidth-r.imageWidth)/2}px`,...b},y={width:r.imageWidth,height:r.imageHeight,right:`${(r.containerWidth-r.imageWidth)/2}px`,...b},x=`${ry.default.container} ${r.moving?ry.default.moving:""} ${"show"===r.status?ry.default.show:ry.default.hide}`,j="dark"===e?"outline-light":"outline-dark",w=(0,v.jsx)(rb.default,{id:"compare-help-popover",children:(0,v.jsx)(rb.default.Body,{className:"text-small",children:iO.locale?.previewHelp||"Move the divider to compare original and compressed images. Use mouse wheel to zoom."})});return(0,nI.createPortal)((0,v.jsxs)("div",{className:x,ref:n,onAnimationEnd:e=>{e.animationName===ry.default.BoxHide&&(iO.compareId=null)},children:[(0,v.jsx)("div",{className:"position-absolute top-0 start-0 bottom-0 overflow-hidden",style:p,children:(0,v.jsx)("img",{src:t.current.src,style:_,alt:"Original",onLoad:()=>o(!0)})}),(0,v.jsx)("div",{className:"position-absolute top-0 end-0 bottom-0 overflow-hidden",style:m,children:(0,v.jsx)("img",{src:"image/jxl"===t.current.compress.blob.type?t.current.src:t.current.compress.src,style:y,alt:"Compressed",onLoad:()=>u(!0)})}),(0,v.jsx)("div",{className:`position-absolute top-0 bottom-0 ${"dark"===e?"bg-dark":"bg-white"} ${"dark"===e?"shadow":"shadow-sm"} d-flex align-items-center justify-content-center user-select-none`,style:g,ref:i,children:(0,v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"currentColor",className:"dark"===e?"text-light":"text-dark",children:(0,v.jsx)("path",{d:"M6.45,17.45L1,12L6.45,6.55L7.86,7.96L4.83,11H19.17L16.14,7.96L17.55,6.55L23,12L17.55,17.45L16.14,16.04L19.17,13H4.83L7.86,16.04L6.45,17.45Z"})})}),(0,v.jsx)("div",{className:`position-absolute top-0 end-0 p-3 ${ry.default.action}`,children:(0,v.jsxs)("div",{className:"btn-group shadow",role:"group",children:[(0,v.jsx)(rg.default,{trigger:["hover","focus"],placement:"bottom-end",overlay:w,children:(0,v.jsx)(rx.default,{size:"sm",variant:j,children:(0,v.jsx)("i",{className:"bi bi-question-circle"})})}),(0,v.jsx)(rx.default,{size:"sm",variant:j,onClick:()=>h.current({status:"hide"}),"aria-label":"Close",children:(0,v.jsx)("i",{className:"bi bi-x-lg"})})]})})]}),document.body)}),rw=nY(()=>((0,nB.useEffect)(()=>{iA=new Worker(e.r(41515),{type:"module",type:void 0}),iC=new Worker(e.r(925306),{type:"module",type:void 0});let t=e=>iP(e);return iA.addEventListener("message",t),iC.addEventListener("message",t),()=>{iA.removeEventListener("message",t),iC.removeEventListener("message",t),iA.terminate(),iC.terminate(),iA=null,iC=null}},[]),(0,v.jsxs)(g.default,{children:[(0,v.jsx)(b.default,{title:"",children:(0,v.jsx)(_.default,{gap:"5",children:(0,v.jsxs)(i5.default,{gap:"3",alignment:"start",distribution:"between",responsive:!0,children:[0===iO.list.size?(0,v.jsx)(iB,{}):(0,v.jsx)(ro,{}),(0,v.jsx)(r_,{})]})})}),null!==iO.compareId&&(0,v.jsx)(rj,{})]})));e.s(["default",0,rw],687124)}]);