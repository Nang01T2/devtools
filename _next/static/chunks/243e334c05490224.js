(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,397844,t=>{"use strict";let e,i,n,r,s;var h,l=t.i(843476),o=t.i(271645);let a={get url(){return`file://${t.P("node_modules/flexsearch/dist/flexsearch.bundle.module.min.mjs")}`}};function f(t,e,i){let n=typeof i,r=typeof t;if("undefined"!==n){if("undefined"!==r){if(i){if("function"===r&&n===r)return function(e){return t(i(e))};if((e=t.constructor)===i.constructor){if(e===Array)return i.concat(t);if(e===Map){var s=new Map(i);for(var h of t)s.set(h[0],h[1]);return s}if(e===Set){for(s of(h=new Set(i),t.values()))h.add(s);return h}}}return t}return i}return"undefined"===r?e:t}function u(t,e){return void 0===t?e:t}function c(){return Object.create(null)}function g(t){return"string"==typeof t}function d(t){return"object"==typeof t}function p(t,e){if(g(e))t=t[e];else for(let i=0;t&&i<e.length;i++)t=t[e[i]];return t}let m=/[^\p{L}\p{N}]+/u,w=/(\d{3})/g,x=/(\D)(\d{3})/g,y=/(\d{3})(\D)/g,b=/[\u0300-\u036f]/g;function v(t={}){if(!this||this.constructor!==v)return new v(...arguments);if(arguments.length)for(t=0;t<arguments.length;t++)this.assign(arguments[t]);else this.assign(t)}function k(t){t.F=null,t.B.clear(),t.D.clear()}function A(t,e,i){i||(e||"object"!=typeof t?"object"==typeof e&&(i=e,e=0):i=t),i&&(t=i.query||t,e=i.limit||e);let n=""+(e||0);i&&(n+=(i.offset||0)+!!i.context+!!i.suggest+(!1!==i.resolve)+(i.resolution||this.resolution)+(i.boost||0)),t=(""+t).toLowerCase(),this.cache||(this.cache=new j);let r=this.cache.get(t+n);if(!r){let s=i&&i.cache;s&&(i.cache=!1),r=this.search(t,e,i),s&&(i.cache=s),this.cache.set(t+n,r)}return r}function j(t){this.limit=t&&!0!==t?t:1e3,this.cache=new Map,this.h=""}(h=v.prototype).assign=function(t){this.normalize=f(t.normalize,!0,this.normalize);let e=t.include,i=e||t.exclude||t.split,n;if(i||""===i){if("object"==typeof i&&i.constructor!==RegExp){let t="";n=!e,e||(t+="\\p{Z}"),i.letter&&(t+="\\p{L}"),i.number&&(t+="\\p{N}",n=!!e),i.symbol&&(t+="\\p{S}"),i.punctuation&&(t+="\\p{P}"),i.control&&(t+="\\p{C}"),(i=i.char)&&(t+="object"==typeof i?i.join(""):i);try{this.split=RegExp("["+(e?"^":"")+t+"]+","u")}catch(t){this.split=/\s+/}}else this.split=i,n=!1===i||"a1a".split(i).length<2;this.numeric=f(t.numeric,n)}else{try{this.split=f(this.split,m)}catch(t){this.split=/\s+/}this.numeric=f(t.numeric,f(this.numeric,!0))}if(this.prepare=f(t.prepare,null,this.prepare),this.finalize=f(t.finalize,null,this.finalize),i=t.filter,this.filter="function"==typeof i?i:f(i&&new Set(i),null,this.filter),this.dedupe=f(t.dedupe,!0,this.dedupe),this.matcher=f((i=t.matcher)&&new Map(i),null,this.matcher),this.mapper=f((i=t.mapper)&&new Map(i),null,this.mapper),this.stemmer=f((i=t.stemmer)&&new Map(i),null,this.stemmer),this.replacer=f(t.replacer,null,this.replacer),this.minlength=f(t.minlength,1,this.minlength),this.maxlength=f(t.maxlength,1024,this.maxlength),this.rtl=f(t.rtl,!1,this.rtl),(this.cache=i=f(t.cache,!0,this.cache))&&(this.F=null,this.L="number"==typeof i?i:2e5,this.B=new Map,this.D=new Map,this.I=this.H=128),this.h="",this.J=null,this.A="",this.K=null,this.matcher)for(let t of this.matcher.keys())this.h+=(this.h?"|":"")+t;if(this.stemmer)for(let t of this.stemmer.keys())this.A+=(this.A?"|":"")+t;return this},h.addStemmer=function(t,e){return this.stemmer||(this.stemmer=new Map),this.stemmer.set(t,e),this.A+=(this.A?"|":"")+t,this.K=null,this.cache&&k(this),this},h.addFilter=function(t){return"function"==typeof t?this.filter=t:(this.filter||(this.filter=new Set),this.filter.add(t)),this.cache&&k(this),this},h.addMapper=function(t,e){return"object"==typeof t?this.addReplacer(t,e):t.length>1?this.addMatcher(t,e):(this.mapper||(this.mapper=new Map),this.mapper.set(t,e),this.cache&&k(this),this)},h.addMatcher=function(t,e){return"object"==typeof t?this.addReplacer(t,e):t.length<2&&(this.dedupe||this.mapper)?this.addMapper(t,e):(this.matcher||(this.matcher=new Map),this.matcher.set(t,e),this.h+=(this.h?"|":"")+t,this.J=null,this.cache&&k(this),this)},h.addReplacer=function(t,e){return"string"==typeof t?this.addMatcher(t,e):(this.replacer||(this.replacer=[]),this.replacer.push(t,e),this.cache&&k(this),this)},h.encode=function(t,e){if(this.cache&&t.length<=this.H)if(this.F){if(this.B.has(t))return this.B.get(t)}else this.F=setTimeout(k,50,this);this.normalize&&(t="function"==typeof this.normalize?this.normalize(t):t.normalize("NFKD").replace(b,"").toLowerCase()),this.prepare&&(t=this.prepare(t)),this.numeric&&t.length>3&&(t=t.replace(x,"$1 $2").replace(y,"$1 $2").replace(w,"$1 "));let i=!(this.dedupe||this.mapper||this.filter||this.matcher||this.stemmer||this.replacer),n=[],r=c(),s,h,l=this.split||""===this.split?t.split(this.split):[t];for(let t=0,a,f;t<l.length;t++)if((a=f=l[t])&&!(a.length<this.minlength||a.length>this.maxlength)){if(e){if(r[a])continue;r[a]=1}else{if(s===a)continue;s=a}if(i)n.push(a);else if(!this.filter||("function"==typeof this.filter?this.filter(a):!this.filter.has(a))){if(this.cache&&a.length<=this.I)if(this.F){var o=this.D.get(a);if(o||""===o){o&&n.push(o);continue}}else this.F=setTimeout(k,50,this);if(this.stemmer){let t;for(this.K||(this.K=RegExp("(?!^)("+this.A+")$"));t!==a&&a.length>2;)t=a,a=a.replace(this.K,t=>this.stemmer.get(t))}if(a&&(this.mapper||this.dedupe&&a.length>1)){o="";for(let t=0,e="",i,n;t<a.length;t++)(i=a.charAt(t))===e&&this.dedupe||((n=this.mapper&&this.mapper.get(i))||""===n?(n!==e||!this.dedupe)&&(e=n)&&(o+=n):o+=e=i);a=o}if(this.matcher&&a.length>1&&(this.J||(this.J=RegExp("("+this.h+")","g")),a=a.replace(this.J,t=>this.matcher.get(t))),a&&this.replacer)for(o=0;a&&o<this.replacer.length;o+=2)a=a.replace(this.replacer[o],this.replacer[o+1]);if(this.cache&&f.length<=this.I&&(this.D.set(f,a),this.D.size>this.L&&(this.D.clear(),this.I=this.I/1.1|0)),a){if(a!==f)if(e){if(r[a])continue;r[a]=1}else{if(h===a)continue;h=a}n.push(a)}}}return this.finalize&&(n=this.finalize(n)||n),this.cache&&t.length<=this.H&&(this.B.set(t,n),this.B.size>this.L&&(this.B.clear(),this.H=this.H/1.1|0)),n},j.prototype.set=function(t,e){this.cache.set(this.h=t,e),this.cache.size>this.limit&&this.cache.delete(this.cache.keys().next().value)},j.prototype.get=function(t){let e=this.cache.get(t);return e&&this.h!==t&&(this.cache.delete(t),this.cache.set(this.h=t,e)),e},j.prototype.remove=function(t){for(let e of this.cache){let i=e[0];e[1].includes(t)&&this.cache.delete(i)}},j.prototype.clear=function(){this.cache.clear(),this.h=""};let C={normalize:!1,numeric:!1,dedupe:!1},M={},z=new Map([["b","p"],["v","f"],["w","f"],["z","s"],["x","s"],["d","t"],["n","m"],["c","k"],["g","k"],["j","k"],["q","k"],["i","e"],["y","e"],["u","o"]]),S=new Map([["ae","a"],["oe","o"],["sh","s"],["kh","k"],["th","t"],["ph","f"],["pf","f"]]),B=[/([^aeo])h(.)/g,"$1$2",/([aeo])h([^aeo]|$)/g,"$1$2",/(.)\1+/g,"$1"],O={a:"",e:"",i:"",o:"",u:"",y:"",b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,ÃŸ:2,d:3,t:3,l:4,m:5,n:5,r:6};var _={Exact:C,Default:M,Normalize:M,LatinBalance:{mapper:z},LatinAdvanced:{mapper:z,matcher:S,replacer:B},LatinExtra:{mapper:z,replacer:B.concat([/(?!^)[aeo]/g,""]),matcher:S},LatinSoundex:{dedupe:!1,include:{letter:!0},finalize:function(t){for(let i=0;i<t.length;i++){var e=t[i];let n=e.charAt(0),r=O[n];for(let t=1,i;t<e.length&&("h"===(i=e.charAt(t))||"w"===i||!(i=O[i])||i===r||(n+=i,r=i,4!==n.length));t++);t[i]=n}}},CJK:{split:""},LatinExact:C,LatinDefault:M,LatinSimple:M};function D(t,e,i,n){let r=[];for(let s=0,h;s<t.index.length;s++)if(e>=(h=t.index[s]).length)e-=h.length;else{let s=(e=h[n?"splice":"slice"](e,i)).length;if(s&&(r=r.length?r.concat(e):e,i-=s,n&&(t.length-=s),!i))break;e=0}return r}function E(t){if(!this||this.constructor!==E)return new E(t);this.index=t?[t]:[],this.length=t?t.length:0;let e=this;return new Proxy([],{get:(t,i)=>"length"===i?e.length:"push"===i?function(t){e.index[e.index.length-1].push(t),e.length++}:"pop"===i?function(){if(e.length)return e.length--,e.index[e.index.length-1].pop()}:"indexOf"===i?function(t){let i=0;for(let n=0,r,s;n<e.index.length;n++){if((s=(r=e.index[n]).indexOf(t))>=0)return i+s;i+=r.length}return -1}:"includes"===i?function(t){for(let i=0;i<e.index.length;i++)if(e.index[i].includes(t))return!0;return!1}:"slice"===i?function(t,i){return D(e,t||0,i||e.length,!1)}:"splice"===i?function(t,i){return D(e,t||0,i||e.length,!0)}:"constructor"===i?Array:"symbol"!=typeof i?(t=e.index[i/0x80000000|0])&&t[i]:void 0,set:(t,i,n)=>(t=i/0x80000000|0,(e.index[t]||(e.index[t]=[]))[i]=n,e.length++,!0)})}function P(t=8){if(!this||this.constructor!==P)return new P(t);this.index=c(),this.h=[],this.size=0,t>32?(this.B=L,this.A=BigInt(t)):(this.B=$,this.A=t)}function N(t=8){if(!this||this.constructor!==N)return new N(t);this.index=c(),this.h=[],this.size=0,t>32?(this.B=L,this.A=BigInt(t)):(this.B=$,this.A=t)}function $(t){let e=2**this.A-1;if("number"==typeof t)return t&e;let i=0,n=this.A+1;for(let r=0;r<t.length;r++)i=(i*n^t.charCodeAt(r))&e;return 32===this.A?i+0x80000000:i}function L(t){let e=BigInt(2)**this.A-BigInt(1);var i=typeof t;if("bigint"===i)return t&e;if("number"===i)return BigInt(t)&e;i=BigInt(0);let n=this.A+BigInt(1);for(let r=0;r<t.length;r++)i=(i*n^BigInt(t.charCodeAt(r)))&e;return i}async function F(t){var n=(t=t.data).task;let r=t.id,s=t.args;if("init"===n)i=t.options||{},(n=t.factory)?(Function("return "+n)()(self),e=new self.FlexSearch.Index(i),delete self.FlexSearch):e=new tC(i),postMessage({id:r});else{let h;"export"===n&&(s[1]?(s[0]=i.export,s[2]=0,s[3]=1):s=null),"import"===n?s[0]&&(t=await i.import.call(e,s[0]),e.import(s[0],t)):((h=s&&e[n].apply(e,s))&&h.then&&(h=await h),h&&h.await&&(h=await h.await),"search"===n&&h.result&&(h=h.result)),postMessage("search"===n?{id:r,msg:h}:{id:r})}}function I(t){R.call(t,"add"),R.call(t,"append"),R.call(t,"search"),R.call(t,"update"),R.call(t,"remove"),R.call(t,"searchCache")}function q(){n=s=0}function R(t){this[t+"Async"]=function(){let e,i=arguments;var h=i[i.length-1];if("function"==typeof h&&(e=h,delete i[i.length-1]),n?s||(s=Date.now()-r>=this.priority*this.priority*3):(n=setTimeout(q,0),r=Date.now()),s){let e=this;return new Promise(n=>{setTimeout(function(){n(e[t+"Async"].apply(e,i))},0)})}let l=this[t].apply(this,i);return h=l.then?l:new Promise(t=>t(l)),e&&h.then(e),h}}E.prototype.clear=function(){this.index.length=0},E.prototype.push=function(){},P.prototype.get=function(t){let e=this.index[this.B(t)];return e&&e.get(t)},P.prototype.set=function(t,e){var i=this.B(t);let n=this.index[i];n?(i=n.size,n.set(t,e),(i-=n.size)&&this.size++):(this.index[i]=n=new Map([[t,e]]),this.h.push(n),this.size++)},N.prototype.add=function(t){var e=this.B(t);let i=this.index[e];i?(e=i.size,i.add(t),(e-=i.size)&&this.size++):(this.index[e]=i=new Set([t]),this.h.push(i),this.size++)},(h=P.prototype).has=N.prototype.has=function(t){let e=this.index[this.B(t)];return e&&e.has(t)},h.delete=N.prototype.delete=function(t){let e=this.index[this.B(t)];e&&e.delete(t)&&this.size--},h.clear=N.prototype.clear=function(){this.index=c(),this.h=[],this.size=0},h.values=N.prototype.values=function*(){for(let t=0;t<this.h.length;t++)for(let e of this.h[t].values())yield e},h.keys=N.prototype.keys=function*(){for(let t=0;t<this.h.length;t++)for(let e of this.h[t].keys())yield e},h.entries=N.prototype.entries=function*(){for(let t=0;t<this.h.length;t++)for(let e of this.h[t].entries())yield e};let W=0;function T(t={},e){var i,n,r;function s(i){function n(t){let e=(t=t.data||t).id,i=e&&o.h[e];i&&(i(t.msg),delete o.h[e])}if(this.worker=i,this.h=c(),this.worker)return(l?this.worker.on("message",n):this.worker.onmessage=n,t.config)?new Promise(function(e){W>1e9&&(W=0),o.h[++W]=function(){e(o)},o.worker.postMessage({id:W,task:"init",factory:h,options:t})}):(this.priority=t.priority||4,this.encoder=e||null,this.worker.postMessage({task:"init",factory:h,options:t}),this)}if(!this||this.constructor!==T)return new T(t);let h="undefined"!=typeof self?self._factory:"undefined"!=typeof window?window._factory:null;h&&(h=h.toString());let l="undefined"==typeof window,o=this,f=(i=h,n=l,r=t.worker,n?Promise.resolve({}).then(function(t){return new t.Worker(a.dirname+"/node/node.mjs")}):i?new window.Worker(URL.createObjectURL(new Blob(["onmessage="+F.toString()],{type:"text/javascript"}))):new window.Worker("string"==typeof r?r:a.url.replace("/worker.js","/worker/worker.js").replace("flexsearch.bundle.module.min.js","module/worker/worker.js").replace("flexsearch.bundle.module.min.mjs","module/worker/worker.js"),{type:"module"}));return f.then?f.then(function(t){return s.call(o,t)}):s.call(this,f)}function J(t){T.prototype[t]=function(){let e,i=this,n=[].slice.call(arguments);var r=n[n.length-1];return"function"==typeof r&&(e=r,n.pop()),r=new Promise(function(e){"export"===t&&"function"==typeof n[0]&&(n[0]=null),W>1e9&&(W=0),i.h[++W]=e,i.worker.postMessage({task:t,id:W,args:n})}),e?(r.then(e),this):r}}function K(t,e,i,n){if(!t.length)return t;if(1===t.length)return t=t[0],t=i||t.length>e?t.slice(i,i+e):t,n?ts.call(this,t):t;let r=[];for(let s=0,h,l;s<t.length;s++)if((h=t[s])&&(l=h.length)){if(i){if(i>=l){i-=l;continue}l=(h=h.slice(i,i+e)).length,i=0}if(l>e&&(h=h.slice(0,e),l=e),!r.length&&l>=e)return n?ts.call(this,h):h;if(r.push(h),!(e-=l))break}return r=r.length>1?[].concat.apply([],r):r[0],n?ts.call(this,r):r}function G(t,e,i,n){var r=n[0];if(r[0]&&r[0].query)return t[e].apply(t,r);if(!("and"!==e&&"not"!==e||t.result.length||t.await||r.suggest))return n.length>1&&(r=n[n.length-1]),(n=r.resolve)?t.await||t.result:t;let s=[],h=0,l=0,o,a,f,u,c;for(e=0;e<n.length;e++)if(r=n[e]){var g=void 0;if(r.constructor===Y)g=r.await||r.result;else if(r.then||r.constructor===Array)g=r;else{h=r.limit||0,l=r.offset||0,f=r.suggest,a=r.resolve,o=((u=r.highlight||t.highlight)||r.enrich)&&a,g=r.queue;let i=r.async||g,n=r.index,d=r.query;if(n?t.index||(t.index=n):n=t.index,d||r.tag){let h=r.field||r.pluck;if(h&&(d&&(!t.query||u)&&(t.query=d,t.field=h,t.highlight=u),n=n.index.get(h)),g&&(c||t.await)){let h;c=1;let l=t.C.length,o=new Promise(function(t){h=t});!function(e,n){o.h=function(){n.index=null,n.resolve=!1;let r=i?e.searchAsync(n):e.search(n);return r.then?r.then(function(e){return t.C[l]=e=e.result||e,h(e),e}):(r=r.result||r,h(r),r)}}(n,Object.assign({},r)),t.C.push(o),s[e]=o;continue}r.resolve=!1,r.index=null,g=i?n.searchAsync(r):n.search(r),r.resolve=a,r.index=n}else if(r.and)g=H(r,"and",n);else if(r.or)g=H(r,"or",n);else if(r.not)g=H(r,"not",n);else{if(!r.xor)continue;g=H(r,"xor",n)}}g.await?(c=1,g=g.await):g.then?(c=1,g=g.then(function(t){return t.result||t})):g=g.result||g,s[e]=g}if(c&&!t.await&&(t.await=new Promise(function(e){t.return=e})),c){let e=Promise.all(s).then(function(n){for(let r=0;r<t.C.length;r++)if(t.C[r]===e){t.C[r]=function(){return i.call(t,n,h,l,o,a,f,u)};break}tt(t)});t.C.push(e)}else{if(!t.await)return i.call(t,s,h,l,o,a,f,u);t.C.push(function(){return i.call(t,s,h,l,o,a,f,u)})}return a?t.await||t.result:t}function H(t,e,i){let n=(t=t[e])[0]||t;return n.index||(n.index=i),i=new Y(n),t.length>1&&(i=i[e].apply(i,t.slice(1))),i}function U(t,e,i,n,r,s,h){return t.length&&(this.result.length&&t.push(this.result),t.length<2?this.result=t[0]:(this.result=ti(t,e,i,!1,this.h),i=0)),r&&(this.await=null),r?this.resolve(e,i,n,h):this}function Z(t,e,i,n,r,s,h){let l;if(!s&&!this.result.length)return r?this.result:this;if(t.length)if(this.result.length&&t.unshift(this.result),t.length<2)this.result=t[0];else{let n=0;for(let e=0,i,r;e<t.length;e++)if((i=t[e])&&(r=i.length))n<r&&(n=r);else if(!s){n=0;break}n?(this.result=te(t,n,e,i,s,this.h,r),l=!0):this.result=[]}else s||(this.result=t);return r&&(this.await=null),r?this.resolve(e,i,n,h,l):this}function Q(t,e,i,n,r,s,h){if(t.length)if(this.result.length&&t.unshift(this.result),t.length<2)this.result=t[0];else{t:{s=i;var l=this.h;let n=[],h=c(),o=0;for(let e=0,i;e<t.length;e++)if(i=t[e]){o<i.length&&(o=i.length);for(let t=0,e;t<i.length;t++)if(e=i[t])for(let t=0,i;t<e.length;t++)h[i=e[t]]=h[i]?2:1}for(let i=0,a,f=0;i<o;i++)for(let o=0,u;o<t.length;o++)if((u=t[o])&&(a=u[i])){for(let u=0,c;u<a.length;u++)if(1===h[c=a[u]])if(s)s--;else if(r){if(n.push(c),n.length===e){t=n;break t}}else{let r=i+(o?l:0);if(n[r]||(n[r]=[]),n[r].push(c),++f===e){t=n;break t}}}t=n}this.result=t,l=!0}else s||(this.result=t);return r&&(this.await=null),r?this.resolve(e,i,n,h,l):this}function V(t,e,i,n,r,s,h){if(!s&&!this.result.length)return r?this.result:this;if(t.length&&this.result.length){t:{s=i;var l=[];t=new Set(t.flat().flat());for(let i=0,n,h=0;i<this.result.length;i++)if(n=this.result[i]){for(let o=0,a;o<n.length;o++)if(a=n[o],!t.has(a)){if(s)s--;else if(r){if(l.push(a),l.length===e){t=l;break t}}else if(l[i]||(l[i]=[]),l[i].push(a),++h===e){t=l;break t}}}t=l}this.result=t,l=!0}return r&&(this.await=null),r?this.resolve(e,i,n,h,l):this}function X(t,e,i,n,r){let s,h,l,o,a;"string"==typeof r?(s=r,r=""):s=r.template,h=s.indexOf("$1"),l=s.substring(h+2),h=s.substring(0,h);let f=r&&r.boundary,u=!r||!1!==r.clip,c=r&&r.merge&&l&&h&&RegExp(l+" "+h,"g");r=r&&r.ellipsis;var g=0;if("object"==typeof r){var d=r.template;g=d.length-2,r=r.pattern}"string"!=typeof r&&(r=!1===r?"":"..."),g&&(r=d.replace("$1",r)),d=r.length-g,"object"==typeof f&&(0===(o=f.before)&&(o=-1),0===(a=f.after)&&(a=-1),f=f.total||9e5),g=new Map;for(let P=0,N,$;P<e.length;P++){let L;if(n)L=e,$=n;else{var m=e[P];if(!($=m.field))continue;L=m.result}N=i.get($).encoder,"string"!=typeof(m=g.get(N))&&(m=N.encode(t),g.set(N,m));for(let t=0;t<L.length;t++){var w=L[t].doc;if(!w||!(w=p(w,$)))continue;var x=w.trim().split(/\s+/);if(!x.length)continue;w="";var y=[];let e=[];for(var b=-1,v=-1,k=0,A=0;A<x.length;A++){let t;var j=x[A],C=N.encode(j);if((C=C.length>1?C.join(" "):C[0])&&j){for(var M=j.length,z=(N.split?j.replace(N.split,""):j).length-C.length,S="",B=0,O=0;O<m.length;O++){var _=m[O];if(_){var D=_.length;D+=z<0?0:z,B&&D<=B||(_=C.indexOf(_))>-1&&(S=(_?j.substring(0,_):"")+h+j.substring(_,_+D)+l+(_+D<M?j.substring(_+D):""),B=D,t=!0)}}S&&(f&&(b<0&&(b=w.length+ +!!w),v=w.length+ +!!w+S.length,k+=M,e.push(y.length),y.push({match:S})),w+=(w?" ":"")+S)}if(t){if(f&&k>=f)break}else j=x[A],w+=(w?" ":"")+j,f&&y.push({text:j})}if(k=e.length*(s.length-2),o||a||f&&w.length-k>f)if(k=f+k-2*d,A=v-b,o>0&&(A+=o),a>0&&(A+=a),A<=k)x=o?b-(o>0?o:0):b-((k-A)/2|0),y=a?v+(a>0?a:0):x+k,u||(x>0&&" "!==w.charAt(x)&&" "!==w.charAt(x-1)&&(x=w.indexOf(" ",x))<0&&(x=0),y<w.length&&" "!==w.charAt(y-1)&&" "!==w.charAt(y)&&((y=w.lastIndexOf(" ",y))<v?y=v:++y)),w=(x?r:"")+w.substring(x,y)+(y<w.length?r:"");else{for(v=[],b={},k={},A={},j={},C={},S=z=M=0,O=B=1;;){var E=void 0;for(let t=0,i;t<e.length;t++){if(i=e[t],S)if(z!==S){if(A[t+1])continue;if(b[i+=S]){M-=d,k[t+1]=1,A[t+1]=1;continue}if(i>=y.length-1){if(i>=y.length){A[t+1]=1,i>=x.length&&(k[t+1]=1);continue}M-=d}if(w=y[i].text,D=a&&C[t])if(D>0){if(w.length>D)if(A[t+1]=1,!u)continue;else w=w.substring(0,D);(D-=w.length)||(D=-1),C[t]=D}else{A[t+1]=1;continue}if(M+w.length+1<=f)w=" "+w,v[t]+=w;else if(u)(E=f-M-1)>0&&(w=" "+w.substring(0,E),v[t]+=w),A[t+1]=1;else{A[t+1]=1;continue}}else{if(A[t])continue;if(b[i-=z]){M-=d,A[t]=1,k[t]=1;continue}if(i<=0){if(i<0){A[t]=1,k[t]=1;continue}M-=d}if(w=y[i].text,D=o&&j[t])if(D>0){if(w.length>D)if(A[t]=1,!u)continue;else w=w.substring(w.length-D);(D-=w.length)||(D=-1),j[t]=D}else{A[t]=1;continue}if(M+w.length+1<=f)w+=" ",v[t]=w+v[t];else if(u)(E=w.length+1-(f-M))>=0&&E<w.length&&(w=w.substring(E)+" ",v[t]=w+v[t]),A[t]=1;else{A[t]=1;continue}}else{let e;if(w=y[i].match,o&&(j[t]=o),a&&(C[t]=a),t&&M++,i?!t&&d&&(M+=d):(k[t]=1,A[t]=1),i>=x.length-1||i<y.length-1&&y[i+1].match?e=1:d&&(M+=d),M-=s.length-2,!t||M+w.length<=f)v[t]=w;else{E=B=O=k[t]=0;break}e&&(k[t+1]=1,A[t+1]=1)}M+=w.length,E=b[i]=1}if(E)z===S?S++:z++;else{if(z===S?B=0:O=0,!B&&!O)break;B?S=++z:S++}}w="";for(let t=0;t<v.length;t++)w+=(k[t]?t?" ":"":(t&&!r?" ":"")+r)+v[t];r&&!k[v.length]&&(w+=r)}c&&(w=w.replace(c," ")),L[t].highlight=w}if(n)break}return e}function Y(t,e){if(!this||this.constructor!==Y)return new Y(t,e);let i=0,n,r,s,h,l,o;if(t&&t.index){let n=t;if(e=n.index,i=n.boost||0,r=n.query){s=n.field||n.pluck,h=n.highlight;let i=n.resolve;t=n.async||n.queue,n.resolve=!1,n.index=null,t=t?e.searchAsync(n):e.search(n),n.resolve=i,n.index=e,t=t.result||t}else t=[]}if(t&&t.then){let e=this;n=[t=t.then(function(t){e.C[0]=e.result=t.result||t,tt(e)})],t=[],l=new Promise(function(t){o=t})}this.index=e||null,this.result=t||[],this.h=i,this.C=n||[],this.await=l||null,this.return=o||null,this.highlight=h||null,this.query=r||"",this.field=s||""}function tt(t,e){let i=t.result;var n=t.await;t.await=null;for(let e=0,r;e<t.C.length;e++)if(r=t.C[e]){if("function"==typeof r)i=r(),t.C[e]=i=i.result||i,e--;else if(r.h)i=r.h(),t.C[e]=i=i.result||i,e--;else if(r.then)return t.await=n}return n=t.return,t.C=[],t.return=null,e||n(i),i}function te(t,e,i,n,r,s,h){let l=t.length,o=[],a,f;a=c();for(let u=0,c,g,d,p;u<e;u++)for(let e=0;e<l;e++)if(u<(d=t[e]).length&&(c=d[u]))for(let t=0;t<c.length;t++){if((f=a[g=c[t]])?a[g]++:(f=0,a[g]=1),p=o[f]||(o[f]=[]),!h){let t=u+(e||!r?0:s||0);p=p[t]||(p[t]=[])}if(p.push(g),h&&i&&f===l-1&&p.length-n===i)return n?p.slice(n):p}if(t=o.length)if(r)o=o.length>1?ti(o,i,n,h,s):(o=o[0])&&i&&o.length>i||n?o.slice(n,i+n):o;else{if(t<l)return[];if(o=o[t-1],i||n)if(h)(o.length>i||n)&&(o=o.slice(n,i+n));else{r=[];for(let t=0,e;t<o.length;t++)if(e=o[t]){if(n&&e.length>n)n-=e.length;else if((i&&e.length>i||n)&&(e=e.slice(n,i+n),i-=e.length,n&&(n-=e.length)),r.push(e),!i)break}o=r}}return o}function ti(t,e,i,n,r){let s,h,l=[],o=c();var a=t.length;if(n){for(r=a-1;r>=0;r--)if(h=(n=t[r])&&n.length){for(a=0;a<h;a++)if(!o[s=n[a]]){if(o[s]=1,i)i--;else if(l.push(s),l.length===e)return l}}}else for(let f=a-1,u,c=0;f>=0;f--){u=t[f];for(let t=0;t<u.length;t++)if(h=(n=u[t])&&n.length){for(let u=0;u<h;u++)if(!o[s=n[u]])if(o[s]=1,i)i--;else{let i=(t+(f<a-1&&r||0))/(f+1)|0;if((l[i]||(l[i]=[])).push(s),++c===e)return l}}}return l}function tn(t){let e=[],i=c(),n=c();for(let r=0,s,h,l,o,a,f,u;r<t.length;r++){h=(s=t[r]).field,l=s.result;for(let t=0;t<l.length;t++)"object"!=typeof(a=l[t])?a={id:o=a}:o=a.id,(f=i[o])?f.push(h):(a.field=i[o]=[h],e.push(a)),(u=a.highlight)&&((f=n[o])||(n[o]=f={},a.highlight=f),f[h]=u)}return e}function tr(t,e,i,n,r){return(t=this.tag.get(t))&&(t=t.get(e))?((e=t.length-n)>0&&((i&&e>i||n)&&(t=t.slice(n,n+i)),r&&(t=ts.call(this,t))),t):[]}function ts(t){if(!this||!this.store)return t;if(this.db)return this.index.get(this.field[0]).db.enrich(t);let e=Array(t.length);for(let i=0,n;i<t.length;i++)n=t[i],e[i]={id:n,doc:this.store.get(n)};return e}function th(t){let e,i;if(!this||this.constructor!==th)return new th(t);let n=t.document||t.doc||t;if(this.B=[],this.field=[],this.D=[],this.key=(e=n.key||n.id)&&to(e,this.D)||"id",(i=t.keystore||0)&&(this.keystore=i),this.fastupdate=!!t.fastupdate,this.reg=!this.fastupdate||t.worker||t.db?i?new N(i):new Set:i?new P(i):new Map,this.h=(e=n.store||null)&&e&&!0!==e&&[],this.store=e?i?new P(i):new Map:null,this.cache=(e=t.cache||null)&&new j(e),t.cache=!1,this.worker=t.worker||!1,this.priority=t.priority||4,this.index=tl.call(this,t,n),this.tag=null,(e=n.tag)&&("string"==typeof e&&(e=[e]),e.length)){this.tag=new Map,this.A=[],this.F=[];for(let t=0,i,n;t<e.length;t++){if(!(n=(i=e[t]).field||i))throw Error("The tag field from the document descriptor is undefined.");i.custom?this.A[t]=i.custom:(this.A[t]=to(n,this.D),i.filter&&("string"==typeof this.A[t]&&(this.A[t]=new String(this.A[t])),this.A[t].G=i.filter)),this.F[t]=n,this.tag.set(n,new Map)}}if(this.worker){for(let e of(this.fastupdate=!1,t=[],this.index.values()))e.then&&t.push(e);if(t.length){let e=this;return Promise.all(t).then(function(t){let i=0;for(let n of e.index.entries()){let r=n[0],s=n[1];s.then&&(s=t[i],e.index.set(r,s),i++)}return e})}}else t.db&&(this.fastupdate=!1,this.mount(t.db))}function tl(t,e){let i=new Map,n=e.index||e.field||e;g(n)&&(n=[n]);for(let e=0,s,h;e<n.length;e++){if(g(s=n[e])||(h=s,s=s.field),h=d(h)?Object.assign({},t,h):t,this.worker){var r=void 0;r=(r=h.encoder)&&r.encode?r:new v("string"==typeof r?_[r]:r||{}),r=new T(h,r),i.set(s,r)}this.worker||i.set(s,new tC(h,this.reg)),h.custom?this.B[e]=h.custom:(this.B[e]=to(s,this.D),h.filter&&("string"==typeof this.B[e]&&(this.B[e]=new String(this.B[e])),this.B[e].G=h.filter)),this.field[e]=s}if(this.h){g(t=e.store)&&(t=[t]);for(let e=0,i,n;e<t.length;e++)n=(i=t[e]).field||i,i.custom?(this.h[e]=i.custom,i.custom.O=n):(this.h[e]=to(n,this.D),i.filter&&("string"==typeof this.h[e]&&(this.h[e]=new String(this.h[e])),this.h[e].G=i.filter))}return i}function to(t,e){let i=t.split(":"),n=0;for(let r=0;r<i.length;r++)"]"===(t=i[r])[t.length-1]&&(t=t.substring(0,t.length-2))&&(e[n]=!0),t&&(i[n++]=t);return n<i.length&&(i.length=n),n>1?i:i[0]}function ta(t,e=0){let i=[],n=[];for(let r of(e&&(e=25e4/e*5e3|0),t.entries()))n.push(r),n.length===e&&(i.push(n),n=[]);return n.length&&i.push(n),i}function tf(t,e){e||(e=new Map);for(let i=0,n;i<t.length;i++)n=t[i],e.set(n[0],n[1]);return e}function tu(t,e=0){let i=[],n=[];for(let r of(e&&(e=25e4/e*1e3|0),t.entries()))n.push([r[0],ta(r[1])[0]||[]]),n.length===e&&(i.push(n),n=[]);return n.length&&i.push(n),i}function tc(t,e){e||(e=new Map);for(let i=0,n,r;i<t.length;i++)n=t[i],r=e.get(n[0]),e.set(n[0],tf(n[1],r));return e}function tg(t){let e=[],i=[];for(let n of t.keys())i.push(n),25e4===i.length&&(e.push(i),i=[]);return i.length&&e.push(i),e}function td(t,e){e||(e=new Set);for(let i=0;i<t.length;i++)e.add(t[i]);return e}function tp(t,e,i,n,r,s,h=0){let l=n&&n.constructor===Array;var o=l?n.shift():n;if(!o)return this.export(t,e,r,s+1);if((o=t((e?e+".":"")+(h+1)+"."+i,JSON.stringify(o)))&&o.then){let a=this;return o.then(function(){return tp.call(a,t,e,i,l?n:null,r,s,h+1)})}return tp.call(this,t,e,i,l?n:null,r,s,h+1)}function tm(t,e){let i="";for(let n of t.entries()){t=n[0];let r=n[1],s="";for(let t=0,i;t<r.length;t++){i=r[t]||[""];let n="";for(let t=0;t<i.length;t++)n+=(n?",":"")+("string"===e?'"'+i[t]+'"':i[t]);n="["+n+"]",s+=(s?",":"")+n}s='["'+t+'",['+s+"]]",i+=(i?",":"")+s}return i}function tw(t,e){let i=0;var n=void 0===e;if(t.constructor===Array){for(let r=0,s,h,l;r<t.length;r++)if((s=t[r])&&s.length){if(n)return 1;if((h=s.indexOf(e))>=0){if(s.length>1)return s.splice(h,1),1;if(delete t[r],i)return 1;l=1}else{if(l)return 1;i++}}}else for(let r of t.entries())n=r[0],tw(r[1],e)?i++:t.delete(n);return i}J("add"),J("append"),J("search"),J("update"),J("remove"),J("clear"),J("export"),J("import"),T.prototype.searchCache=A,I(T.prototype),th.prototype.add=function(t,e,i){if(d(t)&&(t=p(e=t,this.key)),e&&(t||0===t)){if(!i&&this.reg.has(t))return this.update(t,e);for(let s=0,h;s<this.field.length;s++){h=this.B[s];var n=this.index.get(this.field[s]);if("function"==typeof h){var r=h(e);r&&n.add(t,r,i,!0)}else(!(r=h.G)||r(e))&&(h.constructor===String?h=[""+h]:g(h)&&(h=[h]),function t(e,i,n,r,s,h,l,o){if(e=e[l])if(r===i.length-1){if(e.constructor===Array){if(n[r]){for(i=0;i<e.length;i++)s.add(h,e[i],!0,!0);return}e=e.join(" ")}s.add(h,e,o,!0)}else if(e.constructor===Array)for(l=0;l<e.length;l++)t(e,i,n,r,s,h,l,o);else l=i[++r],t(e,i,n,r,s,h,l,o)}(e,h,this.D,0,n,t,h[0],i))}if(this.tag)for(n=0;n<this.A.length;n++){var s=this.A[n];r=this.tag.get(this.F[n]);let l=c();if("function"==typeof s){if(!(s=s(e)))continue}else{var h=s.G;if(h&&!h(e))continue;s.constructor===String&&(s=""+s),s=p(e,s)}if(r&&s){g(s)&&(s=[s]);for(let e=0,n,o;e<s.length;e++)if(!l[n=s[e]]&&(l[n]=1,(h=r.get(n))?o=h:r.set(n,o=[]),!i||!o.includes(t))){if(o.length===0x80000000-1){if(h=new E(o),this.fastupdate)for(let t of this.reg.values())t.includes(o)&&(t[t.indexOf(o)]=h);r.set(n,o=h)}o.push(t),this.fastupdate&&((h=this.reg.get(t))?h.push(o):this.reg.set(t,[o]))}}}if(this.store&&(!i||!this.store.has(t))){let n;if(this.h){n=c();for(let t=0,r;t<this.h.length;t++){let s;if(!(i=(r=this.h[t]).G)||i(e)){if("function"==typeof r){if(!(s=r(e)))continue;r=[r.O]}else if(g(r)||r.constructor===String){n[r]=e[r];continue}!function t(e,i,n,r,s,h){if(e=e[s],r===n.length-1)i[s]=h||e;else if(e)if(e.constructor===Array)for(i=i[s]=Array(e.length),s=0;s<e.length;s++)t(e,i,n,r,s);else i=i[s]||(i[s]=c()),s=n[++r],t(e,i,n,r,s)}(e,n,r,0,r[0],s)}}}this.store.set(t,n||e)}this.worker&&(this.fastupdate||this.reg.add(t))}return this},Y.prototype.or=function(){return G(this,"or",U,arguments)},Y.prototype.and=function(){return G(this,"and",Z,arguments)},Y.prototype.xor=function(){return G(this,"xor",Q,arguments)},Y.prototype.not=function(){return G(this,"not",V,arguments)},(h=Y.prototype).limit=function(t){if(this.await){let e=this;this.C.push(function(){return e.limit(t).result})}else if(this.result.length){let e=[];for(let i=0,n;i<this.result.length;i++)if(n=this.result[i])if(n.length<=t){if(e[i]=n,!(t-=n.length))break}else{e[i]=n.slice(0,t);break}this.result=e}return this},h.offset=function(t){if(this.await){let e=this;this.C.push(function(){return e.offset(t).result})}else if(this.result.length){let e=[];for(let i=0,n;i<this.result.length;i++)(n=this.result[i])&&(n.length<=t?t-=n.length:(e[i]=n.slice(t),t=0));this.result=e}return this},h.boost=function(t){if(this.await){let e=this;this.C.push(function(){return e.boost(t).result})}else this.h+=t;return this},h.resolve=function(t,e,i,n,r){let s=this.await?tt(this,!0):this.result;if(s.then){let h=this;return s.then(function(){return h.resolve(t,e,i,n,r)})}return s.length&&("object"==typeof t?(i=!!(n=t.highlight||this.highlight)||t.enrich,e=t.offset,t=t.limit):i=!!(n=n||this.highlight)||i,s=r?i?ts.call(this.index,s):s:K.call(this.index,s,t||100,e,i)),this.finalize(s,n)},h.finalize=function(t,e){if(t.then){let i=this;return t.then(function(t){return i.finalize(t,e)})}e&&t.length&&this.query&&(t=X(this.query,t,this.index.index,this.field,e));let i=this.return;return this.highlight=this.index=this.result=this.C=this.await=this.return=null,this.query=this.field="",i&&i(t),t},c(),th.prototype.search=function(t,e,i,n){let r,s,h,l,o,a,f;i||(!e&&d(t)?(i=t,t=""):d(e)&&(i=e,e=0));let p=[];var m=[];let w=0,x=!0,y;if(i){i.constructor===Array&&(i={index:i}),t=i.query||t,r=i.pluck,s=i.merge,l=i.boost,a=r||i.field||(a=i.index)&&(a.index?null:a);var b=this.tag&&i.tag;h=i.suggest,x=!1!==i.resolve,o=i.cache;var v=!!(y=x&&this.store&&i.highlight)||x&&this.store&&i.enrich;e=i.limit||e;var k=i.offset||0;if(e||(e=100*!!x),b&&(!this.db||!n)){b.constructor!==Array&&(b=[b]);var A=[];for(let t=0,e;t<b.length;t++)if((e=b[t]).field&&e.tag){var j=e.tag;if(j.constructor===Array)for(var C=0;C<j.length;C++)A.push(e.field,j[C]);else A.push(e.field,j)}else{j=Object.keys(e);for(let t=0,i,n;t<j.length;t++)if((n=e[i=j[t]]).constructor===Array)for(C=0;C<n.length;C++)A.push(i,n[C]);else A.push(i,n)}if(b=A,!t){if(m=[],A.length)for(b=0;b<A.length;b+=2){if(this.db){if(!(n=this.index.get(A[b])))continue;m.push(n=n.db.tag(A[b+1],e,k,v))}else n=tr.call(this,A[b],A[b+1],e,k,v);p.push(x?{field:A[b],tag:A[b+1],result:n}:[n])}if(m.length){let t=this;return Promise.all(m).then(function(e){for(let t=0;t<e.length;t++)x?p[t].result=e[t]:p[t]=e[t];return x?p:new Y(p.length>1?te(p,1,0,0,h,l):p[0],t)})}return x?p:new Y(p.length>1?te(p,1,0,0,h,l):p[0],this)}}!x&&!r&&(a=a||this.field)&&(g(a)?r=a:(a.constructor===Array&&1===a.length&&(a=a[0]),r=a.field||a.index)),a&&a.constructor!==Array&&(a=[a])}a||(a=this.field),A=(this.worker||this.db)&&!n&&[];for(let r=0,s,l,d;r<a.length;r++){let z;if(l=a[r],!this.db||!this.tag||this.B[r]){if(g(l)||(l=(z=l).field,t=z.query||t,e=u(z.limit,e),k=u(z.offset,k),h=u(z.suggest,h),v=!!(y=x&&this.store&&u(z.highlight,y))||x&&this.store&&u(z.enrich,v),o=u(z.cache,o)),n)s=n[r];else{C=(j=z||i||{}).enrich;var M=this.index.get(l);if(b&&(this.db&&(j.tag=b,j.field=a,f=M.db.support_tag_search),!f&&C&&(j.enrich=!1),f||(j.limit=0,j.offset=0)),s=o?M.searchCache(t,b&&!f?0:e,j):M.search(t,b&&!f?0:e,j),b&&!f&&(j.limit=e,j.offset=k),C&&(j.enrich=C),A){A[r]=s;continue}}if(d=(s=s.result||s)&&s.length,b&&d){if(j=[],C=0,this.db&&n){if(!f)for(M=a.length;M<n.length;M++){let t=n[M];if(t&&t.length)C++,j.push(t);else if(!h)return x?p:new Y(p,this)}}else for(let t=0,e;t<b.length;t+=2){if(!(e=this.tag.get(b[t])))if(h)continue;else return x?p:new Y(p,this);if((e=e&&e.get(b[t+1]))&&e.length)C++,j.push(e);else if(!h)return x?p:new Y(p,this)}if(C){if(!(d=(s=function(t,e,i,n,r){let s=c(),h=[];for(let t=0,i;t<e.length;t++){i=e[t];for(let t=0;t<i.length;t++)s[i[t]]=1}if(r){for(let e=0,r;e<t.length;e++)if(s[r=t[e]]){if(n)n--;else if(h.push(r),s[r]=0,i&&0==--i)break}}else for(let i=0,n,r;i<t.result.length;i++)for(n=t.result[i],e=0;e<n.length;e++)s[r=n[e]]&&((h[i]||(h[i]=[])).push(r),s[r]=0);return h}(s,j,e,k,x)).length)&&!h)return x?s:new Y(s,this);C--}}if(d)m[w]=l,p.push(s),w++;else if(1===a.length)return x?p:new Y(p,this)}}if(A){if(this.db&&b&&b.length&&!f)for(v=0;v<b.length;v+=2){if(!(m=this.index.get(b[v])))if(h)continue;else return x?p:new Y(p,this);A.push(m.db.tag(b[v+1],e,k,!1))}let n=this;return Promise.all(A).then(function(r){return i&&(i.resolve=x),r.length&&(r=n.search(t,e,i,r)),r})}if(!w)return x?p:new Y(p,this);if(r&&(!v||!this.store))return p=p[0],x?p:new Y(p,this);for(k=0,A=[];k<m.length;k++){if(b=p[k],v&&b.length&&void 0===b[0].doc&&(this.db?A.push(b=this.index.get(this.field[0]).db.enrich(b)):b=ts.call(this,b)),r)return x?y?X(t,b,this.index,r,y):b:new Y(b,this);p[k]={field:m[k],result:b}}if(v&&this.db&&A.length){let e=this;return Promise.all(A).then(function(i){for(let t=0;t<i.length;t++)p[t].result=i[t];return y&&(p=X(t,p,e.index,r,y)),s?tn(p):p})}return y&&(p=X(t,p,this.index,r,y)),s?tn(p):p},(h=th.prototype).mount=function(t){let e=this.field;if(this.tag)for(let t=0,n;t<this.F.length;t++){n=this.F[t];var i=void 0;this.index.set(n,i=new tC({},this.reg)),e===this.field&&(e=e.slice(0)),e.push(n),i.tag=this.tag.get(n)}i=[];let n={db:t.db,type:t.type,fastupdate:t.fastupdate};for(let r=0,s,h;r<e.length;r++){n.field=h=e[r],s=this.index.get(h);let l=new t.constructor(t.id,n);l.id=t.id,i[r]=l.mount(s),s.document=!0,r?s.bypass=!0:s.store=this.store}let r=this;return this.db=Promise.all(i).then(function(){r.db=!0})},h.commit=async function(){let t=[];for(let e of this.index.values())t.push(e.commit());await Promise.all(t),this.reg.clear()},h.destroy=function(){let t=[];for(let e of this.index.values())t.push(e.destroy());return Promise.all(t)},h.append=function(t,e){return this.add(t,e,!0)},h.update=function(t,e){return this.remove(t).add(t,e)},h.remove=function(t){for(var e of(d(t)&&(t=p(t,this.key)),this.index.values()))e.remove(t,!0);if(this.reg.has(t)){if(this.tag&&!this.fastupdate)for(let i of this.tag.values())for(let n of i){e=n[0];let r=n[1],s=r.indexOf(t);s>-1&&(r.length>1?r.splice(s,1):i.delete(e))}this.store&&this.store.delete(t),this.reg.delete(t)}return this.cache&&this.cache.remove(t),this},h.clear=function(){let t=[];for(let e of this.index.values()){let i=e.clear();i.then&&t.push(i)}if(this.tag)for(let t of this.tag.values())t.clear();return this.store&&this.store.clear(),this.cache&&this.cache.clear(),t.length?Promise.all(t):this},h.contain=function(t){return this.db?this.index.get(this.field[0]).db.has(t):this.reg.has(t)},h.cleanup=function(){for(let t of this.index.values())t.cleanup();return this},h.get=function(t){return this.db?this.index.get(this.field[0]).db.enrich(t).then(function(t){return t[0]&&t[0].doc||null}):this.store.get(t)||null},h.set=function(t,e){return"object"==typeof t&&(t=p(e=t,this.key)),this.store.set(t,e),this},h.searchCache=A,h.export=function(t,e,i=0,n=0){let r,s;if(i<this.field.length){let r=this.field[i];if((e=this.index.get(r).export(t,r,i,n=1))&&e.then){let n=this;return e.then(function(){return n.export(t,r,i+1)})}return this.export(t,r,i+1)}switch(n){case 0:r="reg",s=tg(this.reg),e=null;break;case 1:r="tag",s=this.tag&&tu(this.tag,this.reg.size),e=null;break;case 2:r="doc",s=this.store&&ta(this.store),e=null;break;default:return}return tp.call(this,t,e,r,s||null,i,n)},h.import=function(t,e){var i=t.split(".");"json"===i[i.length-1]&&i.pop();let n=i.length>2?i[0]:"";if(i=i.length>2?i[2]:i[1],this.worker&&n)return this.index.get(n).import(t);if(e){if("string"==typeof e&&(e=JSON.parse(e)),n)return this.index.get(n).import(i,e);switch(i){case"reg":this.fastupdate=!1,this.reg=td(e,this.reg);for(let t=0,e;t<this.field.length;t++)(e=this.index.get(this.field[t])).fastupdate=!1,e.reg=this.reg;if(this.worker){for(let i of(e=[],this.index.values()))e.push(i.import(t));return Promise.all(e)}break;case"tag":this.tag=tc(e,this.tag);break;case"doc":this.store=tf(e,this.store)}}},I(th.prototype),tC.prototype.remove=function(t,e){let i=this.reg.size&&(this.fastupdate?this.reg.get(t):this.reg.has(t));if(i){if(this.fastupdate){for(let e=0,n,r;e<i.length;e++)if((n=i[e])&&(r=n.length))if(n[r-1]===t)n.pop();else{let e=n.indexOf(t);e>=0&&n.splice(e,1)}}else tw(this.map,t),this.depth&&tw(this.ctx,t);e||this.reg.delete(t)}return this.db&&(this.commit_task.push({del:t}),this.M&&tM(this)),this.cache&&this.cache.remove(t),this};let tx={memory:{resolution:1},performance:{resolution:3,fastupdate:!0,context:{depth:1,resolution:1}},match:{tokenize:"forward"},score:{resolution:9,context:{depth:2,resolution:3}}};function ty(t,e,i,n,r,s,h){let l,o;if(!(l=e[i])||h&&!l[h]){if(h?((e=l||(e[i]=c()))[h]=1,(l=(o=t.ctx).get(h))?o=l:o.set(h,o=t.keystore?new P(t.keystore):new Map)):(o=t.map,e[i]=1),(l=o.get(i))?o=l:o.set(i,o=l=[]),s){for(let i=0,s;i<l.length;i++)if((s=l[i])&&s.includes(r)){if(i<=n)return;s.splice(s.indexOf(r),1),t.fastupdate&&(e=t.reg.get(r))&&e.splice(e.indexOf(s),1);break}}if((o=o[n]||(o[n]=[])).push(r),o.length===0x80000000-1){if(e=new E(o),t.fastupdate)for(let i of t.reg.values())i.includes(o)&&(i[i.indexOf(o)]=e);l[n]=o=e}t.fastupdate&&((n=t.reg.get(r))?n.push(o):t.reg.set(r,[o]))}}function tb(t,e,i,n,r){return i&&t>1?e+(n||0)<=t?i+(r||0):(t-1)/(e+(n||0))*(i+(r||0))+1|0:0}function tv(t,e,i,n,r,s,h){let l=t.length,o=t;if(l>1)o=te(t,e,i,n,r,s,h);else if(1===l)return h?K.call(null,t[0],i,n):new Y(t[0],this);return h?o:new Y(o,this)}function tk(t,e,i,n,r,s,h){return t=tj(this,t,e,i,n,r,s,h),this.db?t.then(function(t){return r?t||[]:new Y(t,this)}):t&&t.length?r?K.call(this,t,i,n):new Y(t,this):r?[]:new Y([],this)}function tA(t,e,i,n){let r=[];if(t&&t.length){if(t.length<=n)return void e.push(t);for(let e=0,i;e<n;e++)(i=t[e])&&(r[e]=i);if(r.length)return void e.push(r)}if(!i)return r}function tj(t,e,i,n,r,s,h,l){let o;return(i&&(o=t.bidirectional&&e>i)&&(o=i,i=e,e=o),t.db)?t.db.get(e,i,n,r,s,h,l):t=i?(t=t.ctx.get(i))&&t.get(e):t.map.get(e)}function tC(t,e){if(!this||this.constructor!==tC)return new tC(t);if(t){var i=g(t)?t:t.preset;i&&(t=Object.assign({},tx[i],t))}else t={};let n=!0===(i=t.context)?{depth:1}:i||{},r=g(t.encoder)?_[t.encoder]:t.encode||t.encoder||{};this.encoder=r.encode?r:"object"==typeof r?new v(r):{encode:r},this.resolution=t.resolution||9,this.tokenize=i=(i=t.tokenize)&&"default"!==i&&"exact"!==i&&i||"strict",this.depth="strict"===i&&n.depth||0,this.bidirectional=!1!==n.bidirectional,this.fastupdate=!!t.fastupdate,this.score=t.score||null,(i=t.keystore||0)&&(this.keystore=i),this.map=i?new P(i):new Map,this.ctx=i?new P(i):new Map,this.reg=e||(this.fastupdate?i?new P(i):new Map:i?new N(i):new Set),this.N=n.resolution||3,this.rtl=r.rtl||t.rtl||!1,this.cache=(i=t.cache||null)&&new j(i),this.resolve=!1!==t.resolve,(i=t.db)&&(this.db=this.mount(i)),this.M=!1!==t.commit,this.commit_task=[],this.commit_timer=null,this.priority=t.priority||4}function tM(t){t.commit_timer||(t.commit_timer=setTimeout(function(){t.commit_timer=null,t.db.commit(t)},1))}tC.prototype.add=function(t,e,i,n){if(e&&(t||0===t)){if(!n&&!i&&this.reg.has(t))return this.update(t,e);n=this.depth;let a=(e=this.encoder.encode(e,!n)).length;if(a){let f=c(),u=c(),g=this.resolution;for(let c=0;c<a;c++){let d=e[this.rtl?a-1-c:c];var r=d.length;if(r&&(n||!u[d])){var s=this.score?this.score(e,d,c,null,0):tb(g,a,c),h="";switch(this.tokenize){case"tolerant":if(ty(this,u,d,s,t,i),r>2){for(let e=1,n,l,o,a;e<r-1;e++)n=d.charAt(e),l=d.charAt(e+1),ty(this,u,h=(o=d.substring(0,e)+l)+n+(a=d.substring(e+2)),s,t,i),ty(this,u,h=o+a,s,t,i);ty(this,u,d.substring(0,d.length-1),s,t,i)}break;case"full":if(r>2){for(let n=0,o;n<r;n++)for(s=r;s>n;s--){h=d.substring(n,s),o=this.rtl?r-1-n:n;var l=this.score?this.score(e,d,c,h,o):tb(g,a,c,r,o);ty(this,u,h,l,t,i)}break}case"bidirectional":case"reverse":if(r>1){for(l=r-1;l>0;l--){h=d[this.rtl?r-1-l:l]+h;var o=this.score?this.score(e,d,c,h,l):tb(g,a,c,r,l);ty(this,u,h,o,t,i)}h=""}case"forward":if(r>1){for(l=0;l<r;l++)ty(this,u,h+=d[this.rtl?r-1-l:l],s,t,i);break}default:if(ty(this,u,d,s,t,i),n&&a>1&&c<a-1)for(r=this.N,h=d,s=Math.min(n+1,this.rtl?c+1:a-c),l=1;l<s;l++){d=e[this.rtl?a-1-c-l:c+l],o=this.bidirectional&&d>h;let n=this.score?this.score(e,h,c,d,l-1):tb(r+(a/2>r?0:1),a,c,s-1,l-1);ty(this,f,o?h:d,n,t,i,o?d:h)}}}}this.fastupdate||this.reg.add(t)}}return this.db&&(this.commit_task.push(i?{ins:t}:{del:t}),this.M&&tM(this)),this},tC.prototype.search=function(t,e,i){if(i||(e||"object"!=typeof t?"object"==typeof e&&(i=e,e=0):(i=t,t="")),i&&i.cache)return i.cache=!1,t=this.searchCache(t,e,i),i.cache=!0,t;let n=[],r,s,h,l=0,o,a,f,u,g;i&&(t=i.query||t,e=i.limit||e,l=i.offset||0,s=i.context,h=i.suggest,g=(o=i.resolve)&&i.enrich,f=i.boost,u=i.resolution,a=this.db&&i.tag),void 0===o&&(o=this.resolve),s=this.depth&&!1!==s;let d=this.encoder.encode(t,!s);if(r=d.length,e=e||100*!!o,1===r)return tk.call(this,d[0],"",e,l,o,g,a);if(2===r&&s&&!h)return tk.call(this,d[1],d[0],e,l,o,g,a);let p=c(),m=0,w;if(s&&(w=d[0],m=1),u||0===u||(u=w?this.N:this.resolution),this.db){if(this.db.search&&!1!==(i=this.db.search(this,d,e,l,h,o,g,a)))return i;let t=this;return async function(){for(let e,i;m<r;m++){if((i=d[m])&&!p[i]){if(p[i]=1,e=tA(e=await tj(t,i,w,0,0,!1,!1),n,h,u)){n=e;break}w&&(h&&e&&n.length||(w=i))}h&&w&&m===r-1&&!n.length&&(u=t.resolution,w="",m=-1,p=c())}return tv(n,u,e,l,h,f,o)}()}for(let t,e;m<r;m++){if((e=d[m])&&!p[e]){if(p[e]=1,t=tA(t=tj(this,e,w,0,0,!1,!1),n,h,u)){n=t;break}w&&(h&&t&&n.length||(w=e))}h&&w&&m===r-1&&!n.length&&(u=this.resolution,w="",m=-1,p=c())}return tv(n,u,e,l,h,f,o)},(h=tC.prototype).mount=function(t){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),t.mount(this)},h.commit=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.commit(this)},h.destroy=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.destroy()},h.clear=function(){return this.map.clear(),this.ctx.clear(),this.reg.clear(),this.cache&&this.cache.clear(),this.db?(this.commit_timer&&clearTimeout(this.commit_timer),this.commit_timer=null,this.commit_task=[],this.db.clear()):this},h.append=function(t,e){return this.add(t,e,!0)},h.contain=function(t){return this.db?this.db.has(t):this.reg.has(t)},h.update=function(t,e){let i=this,n=this.remove(t);return n&&n.then?n.then(()=>i.add(t,e)):this.add(t,e)},h.cleanup=function(){return this.fastupdate&&(tw(this.map),this.depth&&tw(this.ctx)),this},h.searchCache=A,h.export=function(t,e,i=0,n=0){let r,s;switch(n){case 0:r="reg",s=tg(this.reg);break;case 1:r="cfg",s=null;break;case 2:r="map",s=ta(this.map,this.reg.size);break;case 3:r="ctx",s=tu(this.ctx,this.reg.size);break;default:return}return tp.call(this,t,e,r,s,i,n)},h.import=function(t,e){if(e)switch("string"==typeof e&&(e=JSON.parse(e)),"json"===(t=t.split("."))[t.length-1]&&t.pop(),3===t.length&&t.shift(),t=t.length>1?t[1]:t[0]){case"reg":this.fastupdate=!1,this.reg=td(e,this.reg);break;case"map":this.map=tf(e,this.map);break;case"ctx":this.ctx=tc(e,this.ctx)}},h.serialize=function(t=!0){let e="",i="",n="";if(this.reg.size){let t;for(var r of this.reg.keys())t||(t=typeof r),e+=(e?",":"")+("string"===t?'"'+r+'"':r);for(let s of(e="index.reg=new Set(["+e+"]);",i="index.map=new Map(["+(i=tm(this.map,t))+"]);",this.ctx.entries())){r=s[0];let e=tm(s[1],t);e='["'+r+'",'+(e="new Map(["+e+"])")+"]",n+=(n?",":"")+e}n="index.ctx=new Map(["+n+"]);"}return t?"function inject(index){"+e+i+n+"}":e+i+n},I(tC.prototype);let tz="undefined"!=typeof window&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),tS=["map","ctx","tag","reg","cfg"],tB=c();function tO(t,e,i){let n=t.value,r,s=0;for(let t=0,h;t<n.length;t++){if(h=i?n:n[t]){for(let i=0,s,l;i<e.length;i++)if(l=e[i],(s=h.indexOf(l))>=0)if(r=1,h.length>1)h.splice(s,1);else{n[t]=[];break}s+=h.length}if(i)break}s?r&&t.update(n):t.delete(),t.continue()}function t_(t,e){return new Promise((i,n)=>{t.onsuccess=t.oncomplete=function(){e&&e(this.result),e=null,i(this.result)},t.onerror=t.onblocked=n,t=null})}(h=(function t(e,i={}){if(!this||this.constructor!==t)return new t(e,i);"object"==typeof e&&(i=e,e=e.name),e||console.info("Default storage space was used, because a name was not passed."),this.id="flexsearch"+(e?":"+e.toLowerCase().replace(/[^a-z0-9_\-]/g,""):""),this.field=i.field?i.field.toLowerCase().replace(/[^a-z0-9_\-]/g,""):"",this.type=i.type,this.fastupdate=this.support_tag_search=!1,this.db=null,this.h={}}).prototype).mount=function(t){return t.index?t.mount(this):(t.db=this,this.open())},h.open=function(){if(this.db)return this.db;let t=this;navigator.storage&&navigator.storage.persist&&navigator.storage.persist(),tB[t.id]||(tB[t.id]=[]),tB[t.id].push(t.field);let e=tz.open(t.id,1);return e.onupgradeneeded=function(){let e=t.db=this.result;for(let i=0,n;i<tS.length;i++){n=tS[i];for(let i=0,r;i<tB[t.id].length;i++)r=tB[t.id][i],e.objectStoreNames.contains(n+("reg"!==n&&r?":"+r:""))||e.createObjectStore(n+("reg"!==n&&r?":"+r:""))}},t.db=t_(e,function(e){t.db=e,t.db.onversionchange=function(){t.close()}})},h.close=function(){this.db&&this.db.close(),this.db=null},h.destroy=function(){return t_(tz.deleteDatabase(this.id))},h.clear=function(){let t=[];for(let e=0,i;e<tS.length;e++){i=tS[e];for(let e=0,n;e<tB[this.id].length;e++)n=tB[this.id][e],t.push(i+("reg"!==i&&n?":"+n:""))}let e=this.db.transaction(t,"readwrite");for(let i=0;i<t.length;i++)e.objectStore(t[i]).clear();return t_(e)},h.get=function(t,e,i=0,n=0,r=!0,s=!1){t=this.db.transaction((e?"ctx":"map")+(this.field?":"+this.field:""),"readonly").objectStore((e?"ctx":"map")+(this.field?":"+this.field:"")).get(e?e+":"+t:t);let h=this;return t_(t).then(function(t){let e=[];if(!t||!t.length)return e;if(r){if(!i&&!n&&1===t.length)return t[0];for(let r=0,s;r<t.length;r++)if((s=t[r])&&s.length){if(n>=s.length){n-=s.length;continue}let t=i?n+Math.min(s.length-n,i):s.length;for(let i=n;i<t;i++)e.push(s[i]);if(n=0,e.length===i)break}return s?h.enrich(e):e}return t})},h.tag=function(t,e=0,i=0,n=!1){t=this.db.transaction("tag"+(this.field?":"+this.field:""),"readonly").objectStore("tag"+(this.field?":"+this.field:"")).get(t);let r=this;return t_(t).then(function(t){return t&&t.length&&!(i>=t.length)?e||i?(t=t.slice(i,i+e),n?r.enrich(t):t):t:[]})},h.enrich=function(t){"object"!=typeof t&&(t=[t]);let e=this.db.transaction("reg","readonly").objectStore("reg"),i=[];for(let n=0;n<t.length;n++)i[n]=t_(e.get(t[n]));return Promise.all(i).then(function(e){for(let i=0;i<e.length;i++)e[i]={id:t[i],doc:e[i]?JSON.parse(e[i]):null};return e})},h.has=function(t){return t_(t=this.db.transaction("reg","readonly").objectStore("reg").getKey(t)).then(function(t){return!!t})},h.search=null,h.info=function(){},h.transaction=function(t,e,i){t+="reg"!==t&&this.field?":"+this.field:"";let n=this.h[t+":"+e];if(n)return i.call(this,n);let r=this.db.transaction(t,e);this.h[t+":"+e]=n=r.objectStore(t);let s=i.call(this,n);return this.h[t+":"+e]=null,t_(r).finally(function(){return s})},h.commit=async function(t){let e=t.commit_task,i=[];t.commit_task=[];for(let t=0,n;t<e.length;t++)(n=e[t]).del&&i.push(n.del);i.length&&await this.remove(i),t.reg.size&&(await this.transaction("map","readwrite",function(e){for(let i of t.map){let t=i[0],n=i[1];n.length&&(e.get(t).onsuccess=function(){var i;let r=this.result;if(r&&r.length){let t=Math.max(r.length,n.length);for(let e=0,s,h;e<t;e++)if((h=n[e])&&h.length){if((s=r[e])&&s.length)for(i=0;i<h.length;i++)s.push(h[i]);else r[e]=h;i=1}}else r=n,i=1;i&&e.put(r,t)})}}),await this.transaction("ctx","readwrite",function(e){for(let i of t.ctx){let t=i[0];for(let n of i[1]){let i=n[0],r=n[1];r.length&&(e.get(t+":"+i).onsuccess=function(){var n;let s=this.result;if(s&&s.length){let t=Math.max(s.length,r.length);for(let e=0,i,h;e<t;e++)if((h=r[e])&&h.length){if((i=s[e])&&i.length)for(n=0;n<h.length;n++)i.push(h[n]);else s[e]=h;n=1}}else s=r,n=1;n&&e.put(s,t+":"+i)})}}}),t.store?await this.transaction("reg","readwrite",function(e){for(let i of t.store){let t=i[0],n=i[1];e.put("object"==typeof n?JSON.stringify(n):1,t)}}):t.bypass||await this.transaction("reg","readwrite",function(e){for(let i of t.reg.keys())e.put(1,i)}),t.tag&&await this.transaction("tag","readwrite",function(e){for(let i of t.tag){let t=i[0],n=i[1];n.length&&(e.get(t).onsuccess=function(){let i=this.result;i=i&&i.length?i.concat(n):n,e.put(i,t)})}}),t.map.clear(),t.ctx.clear(),t.tag&&t.tag.clear(),t.store&&t.store.clear(),t.document||t.reg.clear())},h.remove=function(t){return"object"!=typeof t&&(t=[t]),Promise.all([this.transaction("map","readwrite",function(e){e.openCursor().onsuccess=function(){let e=this.result;e&&tO(e,t)}}),this.transaction("ctx","readwrite",function(e){e.openCursor().onsuccess=function(){let e=this.result;e&&tO(e,t)}}),this.transaction("tag","readwrite",function(e){e.openCursor().onsuccess=function(){let e=this.result;e&&tO(e,t,!0)}}),this.transaction("reg","readwrite",function(e){for(let i=0;i<t.length;i++)e.delete(t[i])})])};let tD=({label:t,labelFor:e,labelPosition:i="top",labelWidth:n="auto",labelAlign:r="left",children:s})=>{let h="left"===i,o=`
    d-flex
    ${h?"flex-row":"flex-column"}
    align-items-baseline
  `,a=`
    form-label
    mb-0
    fw-medium
    ${h?"pe-3 text-nowrap":"mb-2"}
    ${"left"===r&&"text-start"}
    ${"center"===r&&"text-center"}
    ${"right"===r&&"text-end"}
  `,f=h?{flex:`0 0 ${n}`}:{};return(0,l.jsxs)("div",{className:o,children:[t&&(0,l.jsx)("label",{htmlFor:e,className:a,style:f,children:t}),s]})},tE={small:{height:"28px",fontSize:"12px"},medium:{height:"34px",fontSize:"14px"},large:{height:"40px",fontSize:"16px"}},tP={sizes:tE,backgroundColor:"#ffffff",borderColor:"#e0e0e69e",dropdownShadow:"rgba(149, 157, 165, 0.2) 0px 8px 24px",option:{hover:{backgroundColor:"#eee"},active:{textColor:"#0d6efd"}},focus:{backgroundColor:"#ffffff"}},tN={sizes:tE,backgroundColor:"#333333",borderColor:"#333333",dropdownShadow:"rgba(0, 0, 0, 0.2) 0px 8px 24px",option:{hover:{backgroundColor:"#444444"},active:{textColor:"#0d6efd"}},focus:{backgroundColor:"#1ea54c1a"}};function t$({options:t=[],value:e,onChange:i,placeholder:n="Select an option",size:r="medium",searchable:s=!1,label:h,labelFor:a,labelPosition:f,labelWidth:u,labelAlign:c,children:g}){let d=function(){let[t,e]=(0,o.useState)(tP);return(0,o.useEffect)(()=>{let t=()=>{e("dark"===document.documentElement.getAttribute("data-bs-theme")?tN:tP)};t();let i=new MutationObserver(t);return i.observe(document.documentElement,{attributes:!0,attributeFilter:["data-bs-theme"]}),()=>i.disconnect()},[]),t}(),p=d.sizes[r],[m,w]=(0,o.useState)(!1),[x,y]=(0,o.useState)(""),[b,v]=(0,o.useState)(0),k=(0,o.useRef)(null),A=(0,o.useRef)(null),j=(0,o.useRef)(null),C=(0,o.useMemo)(()=>t.map(t=>"string"==typeof t?{label:t,value:t}:t),[t]),M=(0,o.useMemo)(()=>C.find(t=>t.value===e),[C,e]),z=function({search:t,data:e,options:i={keys:[]},limit:n=-1}){let{keys:r=[],filterEmpty:s=!0,shouldSort:h=!0,tokenize:l="forward",...a}=i,f=r.map(t=>"string"==typeof t?{name:t,weight:1}:{name:t.name,weight:t.weight??1}),u=(0,o.useRef)([]),c=(0,o.useRef)(new Map);return(0,o.useEffect)(()=>{c.current.clear(),u.current.forEach(({index:t})=>t.clear()),u.current=f.map(({name:t,weight:e})=>({key:t,weight:e,index:new tC({tokenize:l,preset:"performance",resolution:9,optimize:!0,cache:!1,fastupdate:!0,...a})}));let t=e.map((t,e)=>{let i=void 0!==t.id?t.id:e,n=new Map;return f.forEach(({name:e})=>{let i=e.split(".").reduce((t,e)=>t?.[e],t);null!=i&&n.set(e,String(i))}),{itemKey:i,item:t,values:n}});t.forEach(({itemKey:t,item:e})=>{c.current.set(t,e)}),(async()=>{for(let{key:e,index:i}of u.current){let n=t.map(({itemKey:t,values:i})=>({itemKey:t,value:i.get(e)})).filter(({value:t})=>void 0!==t);for(let t=0;t<n.length;t+=5e3){let e=n.slice(t,t+5e3);await new Promise(t=>{requestAnimationFrame(()=>{e.forEach(({itemKey:t,value:e})=>{i.add(t,e)}),t()})})}}})()},[e,f,l,JSON.stringify(a)]),(0,o.useMemo)(()=>{let i=t.trim();if(!i)return s?[]:n>0?e.slice(0,n):e;let r=new Map,l=n>0?2*n:void 0;u.current.forEach(({index:t,weight:e})=>{t.search(i,l?{limit:l}:void 0).forEach(t=>{let i=r.get(t)||{score:0,maxWeight:0},n=Math.max(i.score,100*e)+10*e,s=Math.max(i.maxWeight,e);r.set(t,{score:n,maxWeight:s})})});let o=Array.from(r.entries()).sort((t,e)=>e[1].maxWeight!==t[1].maxWeight?e[1].maxWeight-t[1].maxWeight:e[1].score-t[1].score).map(([t])=>t);if(!h)return(n>0?o.slice(0,n):o).map(t=>c.current.get(t)).filter(Boolean);let a=o.map(t=>{let e=c.current.get(t);if(!e)return null;let n=0,r=0;return f.forEach(({name:t,weight:s})=>{let h=t.split(".").reduce((t,e)=>t?.[e],e);if(null!=h){var l;let t,e=(l=String(h),(0===(t=Math.max(i.length,l.length))?1:1-((t,e)=>{let i=Array(e.length+1).fill(null).map(()=>Array(t.length+1).fill(0));for(let e=0;e<=t.length;e++)i[0][e]=e;for(let t=0;t<=e.length;t++)i[t][0]=t;for(let n=1;n<=e.length;n++)for(let r=1;r<=t.length;r++){let s=+(t[r-1]!==e[n-1]);i[n][r]=Math.min(i[n][r-1]+1,i[n-1][r]+1,i[n-1][r-1]+s)}return i[e.length][t.length]})(i.toLowerCase(),l.toLowerCase())/t)*s);e>n&&(n=e,r=s)}}),{item:e,similarity:n,maxWeight:r}}).filter(Boolean).sort((t,e)=>e.maxWeight!==t.maxWeight?e.maxWeight-t.maxWeight:e.similarity-t.similarity).map(t=>t.item);return n>0?a.slice(0,n):a},[t,n,e,s,h,f])}({search:x,data:C,options:{keys:["label"],shouldSort:!1,filterEmpty:!1}});(0,o.useEffect)(()=>{let t=t=>{k.current&&A.current&&!k.current.contains(t.target)&&!A.current.contains(t.target)&&(w(!1),y(""),v(0))};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]),(0,o.useEffect)(()=>{m&&s&&j.current&&j.current.focus()},[m,s]),(0,o.useEffect)(()=>{m||(y(""),v(0))},[m]);let S=()=>w(t=>!t),B=t=>{i?.(t.value),w(!1),y(""),v(0)};return(0,l.jsx)(tD,{label:h,labelFor:a,labelPosition:f,labelWidth:u,labelAlign:c,children:(0,l.jsxs)("div",{className:"w-100 position-relative",children:[(0,l.jsxs)("div",{ref:k,className:"d-flex align-items-center justify-content-between cursor-pointer rounded border px-3 user-select-none",style:{height:p.height,fontSize:p.fontSize,backgroundColor:d.backgroundColor,borderColor:m?"#0d6efd":d.borderColor,transition:"border-color 0.2s ease-in-out"},tabIndex:0,onClick:S,onKeyDown:t=>{if("Escape"===t.key)return void w(!1);if("Enter"===t.key){m&&z[b]?B(z[b]):S(),t.preventDefault();return}if("ArrowDown"===t.key||"ArrowUp"===t.key){if(t.preventDefault(),!m)return void w(!0);let e="ArrowDown"===t.key?1:-1;v(t=>Math.max(0,Math.min(z.length-1,t+e)))}},children:[(0,l.jsx)("div",{className:"flex-grow-1 text-truncate",children:g??(0,l.jsx)(l.Fragment,{children:s&&m?(0,l.jsx)("input",{ref:j,type:"text",className:"border-0 bg-transparent outline-0 w-100",style:{height:"100%",color:"inherit"},value:x,onChange:t=>{y(t.target.value),v(0)},placeholder:"Search..."}):M?(0,l.jsx)("span",{children:M.label}):(0,l.jsx)("span",{className:"text-muted",children:n})})}),(0,l.jsx)("i",{className:"bi bi-chevron-down ms-2"})]}),m&&(0,l.jsx)("div",{ref:A,className:"position-absolute start-0 end-0 mt-1 rounded overflow-auto",style:{maxHeight:"312px",backgroundColor:d.backgroundColor,boxShadow:d.dropdownShadow,zIndex:1050,padding:"6px"},children:0===z.length?(0,l.jsx)("div",{className:"px-4 py-2 text-muted",children:"No results found"}):z.map((t,e)=>(0,l.jsx)("div",{className:"px-4 py-2 rounded cursor-pointer",style:{backgroundColor:b===e?d.option.hover.backgroundColor:M?.value===t.value?d.option.active.textColor+"22":"transparent",color:M?.value===t.value?d.option.active.textColor:"inherit"},onMouseEnter:()=>v(e),onClick:()=>B(t),children:t.label},`${t.label}-${e}`))})]})})}t.s(["default",()=>t$],397844)}]);