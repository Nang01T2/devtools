(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41515,e=>{e.v(e.b(["static/chunks/f846231dcac9b487.js","static/chunks/5ffdeff84a498dee.js","static/chunks/turbopack-75ac3bb971948488.js"]))},925306,e=>{e.v(e.b(["static/chunks/5487c2354a69f394.js","static/chunks/5ffdeff84a498dee.js","static/chunks/turbopack-aae50fb89a22eb8c.js"]))},327505,e=>{e.v({file:"index-module-scss-module__Z2SdlW__file"})},210670,e=>{e.v({active:"index-module-scss-module__fwuHyG__active",container:"index-module-scss-module__fwuHyG__container",inner:"index-module-scss-module__fwuHyG__inner",mask:"index-module-scss-module__fwuHyG__mask",pasteHint:"index-module-scss-module__fwuHyG__pasteHint"})},598244,(e,t,n)=>{"use strict";n.match=function(e,t){return l(e).some(function(e){var n=e.inverse,i="all"===e.type||t.type===e.type;if(i&&n||!(i||n))return!1;var r=e.expressions.every(function(e){var n=e.feature,i=e.modifier,r=e.value,s=t[n];if(!s)return!1;switch(n){case"orientation":case"scan":return s.toLowerCase()===r.toLowerCase();case"width":case"height":case"device-width":case"device-height":r=d(r),s=d(s);break;case"resolution":r=c(r),s=c(s);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":r=u(r),s=u(s);break;case"grid":case"color":case"color-index":case"monochrome":r=parseInt(r,10)||1,s=parseInt(s,10)||0}switch(i){case"min":return s>=r;case"max":return s<=r;default:return s===r}});return r&&!n||!r&&n})},n.parse=l;var i=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,r=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,s=/^(?:(min|max)-)?(.+)/,a=/(em|rem|px|cm|mm|in|pt|pc)?$/,o=/(dpi|dpcm|dppx)?$/;function l(e){return e.split(",").map(function(e){var t=(e=e.trim()).match(i),n=t[1],a=t[2],o=t[3]||"",l={};return l.inverse=!!n&&"not"===n.toLowerCase(),l.type=a?a.toLowerCase():"all",l.expressions=(o=o.match(/\([^\)]+\)/g)||[]).map(function(e){var t=e.match(r),n=t[1].toLowerCase().match(s);return{modifier:n[1],feature:n[2],value:t[2]}}),l})}function u(e){var t,n=Number(e);return n||(n=(t=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/t[2]),n}function c(e){var t=parseFloat(e);switch(String(e).match(o)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function d(e){var t=parseFloat(e);switch(String(e).match(a)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}},874144,(e,t,n)=>{"use strict";var i=e.r(598244).match,r="undefined"!=typeof window?window.matchMedia:null;function s(e,t,n){var s,a=this;function o(e){a.matches=e.matches,a.media=e.media}r&&!n&&(s=r.call(window,e)),s?(this.matches=s.matches,this.media=s.media,s.addListener(o)):(this.matches=i(e,t),this.media=e),this.addListener=function(e){s&&s.addListener(e)},this.removeListener=function(e){s&&s.removeListener(e)},this.dispose=function(){s&&s.removeListener(o)}}t.exports=function(e,t,n){return new s(e,t,n)}},627911,e=>{e.v({IndicatorRun:"index-module-scss-module__xUP1OG__IndicatorRun",container:"index-module-scss-module__xUP1OG__container",large:"index-module-scss-module__xUP1OG__large",white:"index-module-scss-module__xUP1OG__white"})},700362,e=>{e.v({action:"index-module-scss-module__Z3SrLW__action",actionlink:"index-module-scss-module__Z3SrLW__actionlink",container:"index-module-scss-module__Z3SrLW__container",content:"index-module-scss-module__Z3SrLW__content",fileok:"index-module-scss-module__Z3SrLW__fileok",github:"index-module-scss-module__Z3SrLW__github",header:"index-module-scss-module__Z3SrLW__header",locale:"index-module-scss-module__Z3SrLW__locale",main:"index-module-scss-module__Z3SrLW__main",name:"index-module-scss-module__Z3SrLW__name",preview:"index-module-scss-module__Z3SrLW__preview",status:"index-module-scss-module__Z3SrLW__status"})},682980,e=>{e.v({optionHelp:"index-module-scss-module__i4M26G__optionHelp",optionHelpBox:"index-module-scss-module__i4M26G__optionHelpBox",sideMobile:"index-module-scss-module__i4M26G__sideMobile",sidePad:"index-module-scss-module__i4M26G__sidePad",sidePc:"index-module-scss-module__i4M26G__sidePc"})},53331,e=>{e.v({container:"index-module-scss-module__cBEnnG__container",desc:"index-module-scss-module__cBEnnG__desc"})},482791,e=>{e.v({BoxHide:"index-module-scss-module__EZuDuq__BoxHide",BoxShow:"index-module-scss-module__EZuDuq__BoxShow",action:"index-module-scss-module__EZuDuq__action",after:"index-module-scss-module__EZuDuq__after",before:"index-module-scss-module__EZuDuq__before",container:"index-module-scss-module__EZuDuq__container",hide:"index-module-scss-module__EZuDuq__hide",moving:"index-module-scss-module__EZuDuq__moving",show:"index-module-scss-module__EZuDuq__show"})},687124,e=>{"use strict";var t,n,i,r,s,a,o,l,u,c,d,h,f,p,m=e.i(843476),v=e.i(958155),b=e.i(59042),g=e.i(195883);function _(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}function y(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:e.g}e.i(247167);var x=Object.assign,w=Object.getOwnPropertyDescriptor,j=Object.defineProperty,O=Object.prototype,S=[];Object.freeze(S);var k={};Object.freeze(k);var N="undefined"!=typeof Proxy,A=Object.toString();function C(){N||_("Proxy not available")}function M(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var E=function(){};function P(e){return"function"==typeof e}function L(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function R(e){return null!==e&&"object"==typeof e}function D(e){if(!R(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===A}function V(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function T(e,t,n){j(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function B(e,t,n){j(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function z(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return R(e)&&!0===e[n]}}function I(e){return null!=e&&"[object Map]"===Object.prototype.toString.call(e)}function H(e){return null!=e&&"[object Set]"===Object.prototype.toString.call(e)}var W=void 0!==Object.getOwnPropertySymbols,U="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:W?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function F(e){return null===e?null:"object"==typeof e?""+e:e}function $(e,t){return O.hasOwnProperty.call(e,t)}var G=Object.getOwnPropertyDescriptors||function(e){var t={};return U(e).forEach(function(n){t[n]=w(e,n)}),t};function q(e,t,n){return n?e|=t:e&=~t,e}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function Z(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}function X(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return K(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function J(){return(J=Object.assign.bind()).apply(null,arguments)}function Q(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ee(e,t)}function ee(e,t){return(ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var et=Symbol("mobx-stored-annotations");function en(e){return Object.assign(function(t,n){if(er(n))return e.decorate_20223_(t,n);ei(t,n,e)},e)}function ei(e,t,n){$(e,et)||T(e,et,J({},e[et])),"override"!==n.annotationType_&&(e[et][t]=n)}function er(e){return"object"==typeof e&&"string"==typeof e.kind}var es=Symbol("mobx administration"),ea=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=c.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.reportObserved=function(){return tv(this)},t.reportChanged=function(){tp(),tb(this),tm()},t.toString=function(){return this.name_},X(e,[{key:"isBeingObserved",get:function(){return!!(this.flags_&e.isBeingObservedMask_)},set:function(t){this.flags_=q(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return!!(this.flags_&e.isPendingUnobservationMask_)},set:function(t){this.flags_=q(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return+!!(this.flags_&e.diffValueMask_)},set:function(t){this.flags_=q(this.flags_,e.diffValueMask_,1===t)}}])}();ea.isBeingObservedMask_=1,ea.isPendingUnobservationMask_=2,ea.diffValueMask_=4;var eo=z("Atom",ea);function el(e,t,n){void 0===t&&(t=E),void 0===n&&(n=E);var i=new ea(e);return t!==E&&tD("onBO",i,t,void 0),n!==E&&tR(i,n),i}var eu=function(e,t){return nL(e,t)},ec=function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t};function ed(e,t,n){if(t$(e))return e;if(Array.isArray(e))return eF.array(e,{name:n});if(D(e))return eF.object(e,void 0,{name:n});if(I(e))return eF.map(e,{name:n});if(H(e))return eF.set(e,{name:n});if("function"==typeof e&&!tP(e)&&!tF(e))if(V(e))return tW(e);else return tE(n,e);return e}function eh(e){return e}function ef(e,t){return{annotationType_:e,options_:t,make_:ep,extend_:em,decorate_20223_:ev}}function ep(e,t,n,i){if(null!=(r=this.options_)&&r.bound)return+(null!==this.extend_(e,t,n,!1));if(i===e.target_)return 2*(null!==this.extend_(e,t,n,!1));if(tP(n.value))return 1;var r,s=eb(e,this,t,n,!1);return j(i,t,s),2}function em(e,t,n,i){var r=eb(e,this,t,n);return e.defineProperty_(t,r,i)}function ev(e,t){var n,i=t.kind,r=t.name,s=t.addInitializer,a=this,o=function(e){var t,n,i,s;return eQ(null!=(t=null==(n=a.options_)?void 0:n.name)?t:r.toString(),e,null!=(i=null==(s=a.options_)?void 0:s.autoAction)&&i)};return"field"==i?function(e){var t,n=e;return tP(n)||(n=o(n)),null!=(t=a.options_)&&t.bound&&((n=n.bind(this)).isMobxAction=!0),n}:"method"==i?(tP(e)||(e=o(e)),null!=(n=this.options_)&&n.bound&&s(function(){var e=this[r].bind(this);e.isMobxAction=!0,this[r]=e}),e):void _("Cannot apply '"+a.annotationType_+"' to '"+String(r)+"' (kind: "+i+"):\n'"+a.annotationType_+"' can only be used on properties with a function value.")}function eb(e,t,n,i,r){void 0===r&&(r=td.safeDescriptors),t.annotationType_,i.value;var s,a,o,l,u,c,d,h,f=i.value;return null!=(s=t.options_)&&s.bound&&(f=f.bind(null!=(h=e.proxy_)?h:e.target_)),{value:eQ(null!=(a=null==(o=t.options_)?void 0:o.name)?a:n.toString(),f,null!=(l=null==(u=t.options_)?void 0:u.autoAction)&&l,null!=(c=t.options_)&&c.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!r||e.isPlainObject_,enumerable:!1,writable:!r}}function eg(e,t){return{annotationType_:e,options_:t,make_:e_,extend_:ey,decorate_20223_:ex}}function e_(e,t,n,i){if(i===e.target_)return 2*(null!==this.extend_(e,t,n,!1));if(null!=(r=this.options_)&&r.bound&&(!$(e.target_,t)||!tF(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(tF(n.value))return 1;var r,s=ew(e,this,t,n,!1,!1);return j(i,t,s),2}function ey(e,t,n,i){var r,s=ew(e,this,t,n,null==(r=this.options_)?void 0:r.bound);return e.defineProperty_(t,s,i)}function ex(e,t){var n,i=t.name,r=t.addInitializer;return tF(e)||(e=tW(e)),null!=(n=this.options_)&&n.bound&&r(function(){var e=this[i].bind(this);e.isMobXFlow=!0,this[i]=e}),e}function ew(e,t,n,i,r,s){void 0===s&&(s=td.safeDescriptors),t.annotationType_,i.value;var a,o=i.value;return tF(o)||(o=tW(o)),r&&((o=o.bind(null!=(a=e.proxy_)?a:e.target_)).isMobXFlow=!0),{value:o,configurable:!s||e.isPlainObject_,enumerable:!1,writable:!s}}function ej(e,t){return{annotationType_:e,options_:t,make_:eO,extend_:eS,decorate_20223_:ek}}function eO(e,t,n){return+(null!==this.extend_(e,t,n,!1))}function eS(e,t,n,i){var r,s;return r=this,s=n,r.annotationType_,s.get,e.defineComputedProperty_(t,J({},this.options_,{get:n.get,set:n.set}),i)}function ek(e,t){var n=this,i=t.name;return(0,t.addInitializer)(function(){var t=nv(this)[es],r=J({},n.options_,{get:e,context:this});r.name||(r.name="ObservableObject."+i.toString()),t.values_.set(i,new e5(r))}),function(){return this[es].getObservablePropValue_(i)}}function eN(e,t){return{annotationType_:e,options_:t,make_:eA,extend_:eC,decorate_20223_:eM}}function eA(e,t,n){return+(null!==this.extend_(e,t,n,!1))}function eC(e,t,n,i){var r,s,a;return a=this,a.annotationType_,e.defineObservableProperty_(t,n.value,null!=(r=null==(s=this.options_)?void 0:s.enhancer)?r:ed,i)}function eM(e,t){var n=this,i=t.kind,r=t.name,s=new WeakSet;function a(e,t){var i,a,o=nv(e)[es],l=new e1(t,null!=(i=null==(a=n.options_)?void 0:a.enhancer)?i:ed,"ObservableObject."+r.toString(),!1);o.values_.set(r,l),s.add(e)}if("accessor"==i)return{get:function(){return s.has(this)||a(this,e.get.call(this)),this[es].getObservablePropValue_(r)},set:function(e){return s.has(this)||a(this,e),this[es].setObservablePropValue_(r,e)},init:function(e){return s.has(this)||a(this,e),e}}}var eE=eP();function eP(e){return{annotationType_:"true",options_:e,make_:eL,extend_:eR,decorate_20223_:eD}}function eL(e,t,n,i){if(n.get)return eK.make_(e,t,n,i);if(n.set){var r,s,a,o,l,u=tP(n.set)?n.set:eQ(t.toString(),n.set);return i===e.target_?2*(null!==e.defineProperty_(t,{configurable:!td.safeDescriptors||e.isPlainObject_,set:u})):(j(i,t,{configurable:!0,set:u}),2)}if(i!==e.target_&&"function"==typeof n.value)return V(n.value)?(null!=(o=this.options_)&&o.autoBind?tW.bound:tW).make_(e,t,n,i):(null!=(a=this.options_)&&a.autoBind?tE.bound:tE).make_(e,t,n,i);var c=(null==(r=this.options_)?void 0:r.deep)===!1?eF.ref:eF;return"function"==typeof n.value&&null!=(s=this.options_)&&s.autoBind&&(n.value=n.value.bind(null!=(l=e.proxy_)?l:e.target_)),c.make_(e,t,n,i)}function eR(e,t,n,i){var r,s,a;return n.get?eK.extend_(e,t,n,i):n.set?e.defineProperty_(t,{configurable:!td.safeDescriptors||e.isPlainObject_,set:eQ(t.toString(),n.set)},i):("function"==typeof n.value&&null!=(r=this.options_)&&r.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_)),((null==(s=this.options_)?void 0:s.deep)===!1?eF.ref:eF).extend_(e,t,n,i))}function eD(e,t){_("'"+this.annotationType_+"' cannot be used as a decorator")}var eV={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(eV);var eT=eN("observable"),eB=eN("observable.ref",{enhancer:eh}),ez=eN("observable.shallow",{enhancer:function(e,t,n){return null==e||n_(e)||ni(e)||no(e)||nd(e)?e:Array.isArray(e)?eF.array(e,{name:n,deep:!1}):D(e)?eF.object(e,void 0,{name:n,deep:!1}):I(e)?eF.map(e,{name:n,deep:!1}):H(e)?eF.set(e,{name:n,deep:!1}):void 0}}),eI=eN("observable.struct",{enhancer:function(e,t){return nL(e,t)?t:e}}),eH=en(eT);function eW(e){var t,n,i;return!0===e.deep?ed:!1===e.deep?eh:(t=e.defaultDecorator)&&null!=(n=null==(i=t.options_)?void 0:i.enhancer)?n:ed}function eU(e,t,n){return er(t)?eT.decorate_20223_(e,t):L(t)?void ei(e,t,eT):t$(e)?e:D(e)?eF.object(e,t,n):Array.isArray(e)?eF.array(e,t):I(e)?eF.map(e,t):H(e)?eF.set(e,t):"object"==typeof e&&null!==e?e:eF.box(e,t)}x(eU,eH);var eF=x(eU,{box:function(e,t){var n=t||eV;return new e1(e,eW(n),n.name,!0,n.equals)},array:function(e,t){var n=t||eV;return(!1===td.useProxies||!1===n.proxy?function(e,t,n){return new nk(e,t,n)}:function(e,t,n,i){return void 0===n&&(n="ObservableArray"),void 0===i&&(i=!1),C(),nE(function(){var r=new t6(n,t,i,!1);B(r.values_,es,r);var s=new Proxy(r.values_,t4);return r.proxy_=s,e&&e.length&&r.spliceWithArray_(0,0,e),s})})(e,eW(n),n.name)},map:function(e,t){var n=t||eV;return new na(e,eW(n),n.name)},set:function(e,t){var n=t||eV;return new nc(e,eW(n),n.name)},object:function(e,t,n){return nE(function(){var i,r,s,a;return tT(!1===td.useProxies||(null==n?void 0:n.proxy)===!1?nv({},n):(i={},r=n,C(),null!=(a=(s=(i=nv(i,r))[es]).proxy_)?a:s.proxy_=new Proxy(i,tZ)),e,t)})},ref:en(eB),shallow:en(ez),deep:eH,struct:en(eI)}),e$="computed",eG=ej(e$),eq=ej("computed.struct",{equals:eu}),eK=function(e,t){if(er(t))return eG.decorate_20223_(e,t);if(L(t))return ei(e,t,eG);if(D(e))return en(ej(e$,e));var n=D(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new e5(n)};Object.assign(eK,eG),eK.struct=en(eq);var eZ=0,eX=1,eY=null!=(l=null==(u=w(function(){},"name"))?void 0:u.configurable)&&l,eJ={value:"action",configurable:!0,writable:!1,enumerable:!1};function eQ(e,t,n,i){function r(){return function(e,t,n,i,r){var s,a,o,l,u,c,d=(s=t,a=td.trackingDerivation,o=!s||!a,tp(),l=td.allowStateChanges,o&&(ti(),l=e0(!0)),eZ=(u={runAsAction_:o,prevDerivation_:a,prevAllowStateChanges_:l,prevAllowStateReads_:ts(!0),notifySpy_:!1,startTime_:0,actionId_:eX++,parentActionId_:eZ}).actionId_,u);try{return n.apply(i,r)}catch(e){throw d.error_=e,e}finally{eZ!==(c=d).actionId_&&_(30),eZ=c.parentActionId_,void 0!==c.error_&&(td.suppressReactionErrors=!0),e3(c.prevAllowStateChanges_),ta(c.prevAllowStateReads_),tm(),c.runAsAction_&&tr(c.prevDerivation_),td.suppressReactionErrors=!1}}(e,n,t,i||this,arguments)}return void 0===n&&(n=!1),r.isMobxAction=!0,r.toString=function(){return t.toString()},eY&&(eJ.value=e,j(r,"name",eJ)),r}function e0(e){var t=td.allowStateChanges;return td.allowStateChanges=e,t}function e3(e){td.allowStateChanges=e}var e1=function(e){function t(t,n,i,r,s){var a;return void 0===i&&(i="ObservableValue"),void 0===r&&(r=!0),void 0===s&&(s=ec),(a=e.call(this,i)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=i,a.equals=s,a.value_=n(t,void 0,i),a}Q(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==td.UNCHANGED&&this.setNewValue_(e)},n.prepareNewValue_=function(e){if(e9(this),tX(this)){var t=tJ(this,{object:this,type:t5,newValue:e});if(!t)return td.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?td.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),tQ(this)&&t3(this,{type:t5,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return tY(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:t5,newValue:this.value_,oldValue:void 0}),t0(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return F(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(ea),e2=z("ObservableValue",e1),e5=function(){function e(e){this.dependenciesState_=c.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=c.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new e6(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=d.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||_(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=eQ("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?eu:ec),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){var e;e=this,e.lowestObserverState_===c.UP_TO_DATE_&&(e.lowestObserverState_=c.POSSIBLY_STALE_,e.observers_.forEach(function(e){e.dependenciesState_===c.UP_TO_DATE_&&(e.dependenciesState_=c.POSSIBLY_STALE_,e.onBecomeStale_())}))},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.get=function(){if(this.isComputing&&_(32,this.name_,this.derivation),0!==td.inBatch||0!==this.observers_.size||this.keepAlive_){if(tv(this),e7(this)){var e,t=td.trackingContext;this.keepAlive_&&!t&&(td.trackingContext=this),this.trackAndCompute()&&(e=this,e.lowestObserverState_!==c.STALE_&&(e.lowestObserverState_=c.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===c.POSSIBLY_STALE_?t.dependenciesState_=c.STALE_:t.dependenciesState_===c.UP_TO_DATE_&&(e.lowestObserverState_=c.UP_TO_DATE_)}))),td.trackingContext=t}}else e7(this)&&(this.warnAboutUntrackedRead_(),tp(),this.value_=this.computeValue_(!1),tm());var n=this.value_;if(e8(n))throw n.cause;return n},t.set=function(e){if(this.setter_){this.isRunningSetter&&_(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter=!1}}else _(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===c.NOT_TRACKING_,n=this.computeValue_(!0),i=t||e8(e)||e8(n)||!this.equals_(e,n);return i&&(this.value_=n),i},t.computeValue_=function(e){this.isComputing=!0;var t,n=e0(!1);if(e)t=te(this,this.derivation,this.scope_);else if(!0===td.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new e6(e)}return e3(n),this.isComputing=!1,t},t.suspend_=function(){this.keepAlive_||(tt(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,i=!0,r=void 0;return function(e,t){void 0===t&&(t=k);var n,i,r,s,a,o=null!=(n=null==(i=t)?void 0:i.name)?n:"Autorun";if(t.scheduler||t.delay){var l,u=(l=t).scheduler?l.scheduler:l.delay?function(e){return setTimeout(e,l.delay)}:tL,c=!1;a=new tg(o,function(){c||(c=!0,u(function(){c=!1,a.isDisposed||a.track(d)}))},t.onError,t.requiresObservable)}else a=new tg(o,function(){this.track(d)},t.onError,t.requiresObservable);function d(){e(a)}return null!=(r=t)&&null!=(r=r.signal)&&r.aborted||a.schedule_(),a.getDisposer_(null==(s=t)?void 0:s.signal)}(function(){var s=n.get();if(!i||t){var a=ti();e({observableKind:"computed",debugObjectName:n.name_,type:t5,object:n,newValue:s,oldValue:r}),tr(a)}i=!1,r=s})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return F(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},X(e,[{key:"isComputing",get:function(){return!!(this.flags_&e.isComputingMask_)},set:function(t){this.flags_=q(this.flags_,e.isComputingMask_,t)}},{key:"isRunningSetter",get:function(){return!!(this.flags_&e.isRunningSetterMask_)},set:function(t){this.flags_=q(this.flags_,e.isRunningSetterMask_,t)}},{key:"isBeingObserved",get:function(){return!!(this.flags_&e.isBeingObservedMask_)},set:function(t){this.flags_=q(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return!!(this.flags_&e.isPendingUnobservationMask_)},set:function(t){this.flags_=q(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return+!!(this.flags_&e.diffValueMask_)},set:function(t){this.flags_=q(this.flags_,e.diffValueMask_,1===t)}}])}();e5.isComputingMask_=1,e5.isRunningSetterMask_=2,e5.isBeingObservedMask_=4,e5.isPendingUnobservationMask_=8,e5.diffValueMask_=16;var e4=z("ComputedValue",e5);(t=c||(c={}))[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_",(n=d||(d={}))[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK";var e6=function(e){this.cause=void 0,this.cause=e};function e8(e){return e instanceof e6}function e7(e){switch(e.dependenciesState_){case c.UP_TO_DATE_:return!1;case c.NOT_TRACKING_:case c.STALE_:return!0;case c.POSSIBLY_STALE_:for(var t=ts(!0),n=ti(),i=e.observing_,r=i.length,s=0;s<r;s++){var a=i[s];if(e4(a)){if(td.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return tr(n),ta(t),!0}if(e.dependenciesState_===c.STALE_)return tr(n),ta(t),!0}}return to(e),tr(n),ta(t),!1}}function e9(e){}function te(e,t,n){var i,r=ts(!0);to(e),e.newObserving_=Array(0===e.runId_?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++td.runId;var s=td.trackingDerivation;if(td.trackingDerivation=e,td.inBatch++,!0===td.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new e6(e)}return td.inBatch--,td.trackingDerivation=s,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,i=c.UP_TO_DATE_,r=0,s=e.unboundDepsCount_,a=0;a<s;a++){var o=n[a];0===o.diffValue&&(o.diffValue=1,r!==a&&(n[r]=o),r++),o.dependenciesState_>i&&(i=o.dependenciesState_)}for(n.length=r,e.newObserving_=null,s=t.length;s--;){var l=t[s];0===l.diffValue&&th(l,e),l.diffValue=0}for(;r--;){var u,d,h=n[r];1===h.diffValue&&(h.diffValue=0,u=h,d=e,u.observers_.add(d),u.lowestObserverState_>d.dependenciesState_&&(u.lowestObserverState_=d.dependenciesState_))}i!==c.UP_TO_DATE_&&(e.dependenciesState_=i,e.onBecomeStale_())}(e),ta(r),i}function tt(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)th(t[n],e);e.dependenciesState_=c.NOT_TRACKING_}function tn(e){var t=ti();try{return e()}finally{tr(t)}}function ti(){var e=td.trackingDerivation;return td.trackingDerivation=null,e}function tr(e){td.trackingDerivation=e}function ts(e){var t=td.allowStateReads;return td.allowStateReads=e,t}function ta(e){td.allowStateReads=e}function to(e){if(e.dependenciesState_!==c.UP_TO_DATE_){e.dependenciesState_=c.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=c.UP_TO_DATE_}}var tl=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},tu=!0,tc=!1,td=((i=y()).__mobxInstanceCount>0&&!i.__mobxGlobals&&(tu=!1),i.__mobxGlobals&&i.__mobxGlobals.version!==new tl().version&&(tu=!1),tu)?i.__mobxGlobals?(i.__mobxInstanceCount+=1,i.__mobxGlobals.UNCHANGED||(i.__mobxGlobals.UNCHANGED={}),i.__mobxGlobals):(i.__mobxInstanceCount=1,i.__mobxGlobals=new tl):(setTimeout(function(){tc||_(35)},1),new tl);function th(e,t){e.observers_.delete(t),0===e.observers_.size&&tf(e)}function tf(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,td.pendingUnobservations.push(e))}function tp(){td.inBatch++}function tm(){if(0==--td.inBatch){ty();for(var e=td.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers_.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof e5&&n.suspend_())}td.pendingUnobservations=[]}}function tv(e){var t=td.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&td.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(0===e.observers_.size&&td.inBatch>0&&tf(e),!1)}function tb(e){e.lowestObserverState_!==c.STALE_&&(e.lowestObserverState_=c.STALE_,e.observers_.forEach(function(e){e.dependenciesState_===c.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=c.STALE_}))}var tg=function(){function e(e,t,n,i){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=c.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=d.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=i}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,td.pendingReactions.push(this),ty())},t.runReaction_=function(){if(!this.isDisposed){tp(),this.isScheduled=!1;var e=td.trackingContext;if(td.trackingContext=this,e7(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}td.trackingContext=e,tm()}},t.track=function(e){if(!this.isDisposed){tp(),this.isRunning=!0;var t=td.trackingContext;td.trackingContext=this;var n=te(this,e,void 0);td.trackingContext=t,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&tt(this),e8(n)&&this.reportExceptionInDerivation_(n.cause),tm()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)return void this.errorHandler_(e,this);if(td.disableErrorBoundaries)throw e;td.suppressReactionErrors||console.error("[mobx] uncaught error in '"+this+"'",e),td.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})},t.dispose=function(){!this.isDisposed&&(this.isDisposed=!0,this.isRunning||(tp(),tt(this),tm()))},t.getDisposer_=function(e){var t=this,n=function n(){t.dispose(),null==e||null==e.removeEventListener||e.removeEventListener("abort",n)};return null==e||null==e.addEventListener||e.addEventListener("abort",n),n[es]=this,"dispose"in Symbol&&"symbol"==typeof Symbol.dispose&&(n[Symbol.dispose]=n),n},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1)},X(e,[{key:"isDisposed",get:function(){return!!(this.flags_&e.isDisposedMask_)},set:function(t){this.flags_=q(this.flags_,e.isDisposedMask_,t)}},{key:"isScheduled",get:function(){return!!(this.flags_&e.isScheduledMask_)},set:function(t){this.flags_=q(this.flags_,e.isScheduledMask_,t)}},{key:"isTrackPending",get:function(){return!!(this.flags_&e.isTrackPendingMask_)},set:function(t){this.flags_=q(this.flags_,e.isTrackPendingMask_,t)}},{key:"isRunning",get:function(){return!!(this.flags_&e.isRunningMask_)},set:function(t){this.flags_=q(this.flags_,e.isRunningMask_,t)}},{key:"diffValue",get:function(){return+!!(this.flags_&e.diffValueMask_)},set:function(t){this.flags_=q(this.flags_,e.diffValueMask_,1===t)}}])}();tg.isDisposedMask_=1,tg.isScheduledMask_=2,tg.isTrackPendingMask_=4,tg.isRunningMask_=8,tg.diffValueMask_=16;var t_=function(e){return e()};function ty(){td.inBatch>0||td.isRunningReactions||t_(tx)}function tx(){td.isRunningReactions=!0;for(var e=td.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction_()}td.isRunningReactions=!1}var tw=z("Reaction",tg),tj="action",tO="autoAction",tS=ef(tj),tk=ef("action.bound",{bound:!0}),tN=ef(tO,{autoAction:!0}),tA=ef("autoAction.bound",{autoAction:!0,bound:!0});function tC(e){return function(t,n){return P(t)?eQ(t.name||"<unnamed action>",t,e):P(n)?eQ(t,n,e):er(n)?(e?tN:tS).decorate_20223_(t,n):L(n)?ei(t,n,e?tN:tS):L(t)?en(ef(e?tO:tj,{name:t,autoAction:e})):void 0}}var tM=tC(!1);Object.assign(tM,tS);var tE=tC(!0);function tP(e){return P(e)&&!0===e.isMobxAction}Object.assign(tE,tN),tM.bound=en(tk),tE.bound=en(tA);var tL=function(e){return e()};function tR(e,t,n){return tD("onBUO",e,t,n)}function tD(e,t,n,i){var r="function"==typeof i?nC(t,n):nC(t),s=P(i)?i:n,a=e+"L";return r[a]?r[a].add(s):r[a]=new Set([s]),function(){var e=r[a];e&&(e.delete(s),0===e.size&&delete r[a])}}var tV="always";function tT(e,t,n,i){var r=G(t);return nE(function(){var t=nv(e,i)[es];U(r).forEach(function(e){t.extend_(e,r[e],!n||!(e in n)||n[e])})}),e}var tB=0;function tz(){this.message="FLOW_CANCELLED"}tz.prototype=Object.create(Error.prototype);var tI=eg("flow"),tH=eg("flow.bound",{bound:!0}),tW=Object.assign(function(e,t){if(er(t))return tI.decorate_20223_(e,t);if(L(t))return ei(e,t,tI);var n=e.name||"<unnamed flow>",i=function(){var t,i=arguments,r=++tB,s=tM(n+" - runid: "+r+" - init",e).apply(this,i),a=void 0,o=new Promise(function(e,i){var o=0;function l(e){var t;a=void 0;try{t=tM(n+" - runid: "+r+" - yield "+o++,s.next).call(s,e)}catch(e){return i(e)}c(t)}function u(e){var t;a=void 0;try{t=tM(n+" - runid: "+r+" - yield "+o++,s.throw).call(s,e)}catch(e){return i(e)}c(t)}function c(t){return P(null==t?void 0:t.then)?void t.then(c,i):t.done?e(t.value):(a=Promise.resolve(t.value)).then(l,u)}t=i,l(void 0)});return o.cancel=tM(n+" - runid: "+r+" - cancel",function(){try{a&&tU(a);var e=s.return(void 0),n=Promise.resolve(e.value);n.then(E,E),tU(n),t(new tz)}catch(e){t(e)}}),o};return i.isMobXFlow=!0,i},tI);function tU(e){P(e.cancel)&&e.cancel()}function tF(e){return(null==e?void 0:e.isMobXFlow)===!0}function t$(e){return!!e&&(n_(e)||!!e[es]||eo(e)||tw(e)||e4(e))}function tG(e,t,n){return e.set(t,n),n}function tq(e,t){return function e(t,n){if(null==t||"object"!=typeof t||t instanceof Date||!t$(t))return t;if(e2(t)||e4(t))return e(t.get(),n);if(n.has(t))return n.get(t);if(ni(t)){var i=tG(n,t,Array(t.length));return t.forEach(function(t,r){i[r]=e(t,n)}),i}if(nd(t)){var r=tG(n,t,new Set);return t.forEach(function(t){r.add(e(t,n))}),r}if(no(t)){var s=tG(n,t,new Map);return t.forEach(function(t,i){s.set(i,e(t,n))}),s}var a=tG(n,t,{});return(function(e){if(n_(e))return e[es].ownKeys_();_(38)})(t).forEach(function(i){O.propertyIsEnumerable.call(t,i)&&(a[i]=e(t[i],n))}),a}(e,new Map)}function tK(e,t){void 0===t&&(t=void 0),tp();try{return e.apply(t)}finally{tm()}}tW.bound=en(tH);var tZ={has:function(e,t){return e[es].has_(t)},get:function(e,t){return e[es].get_(t)},set:function(e,t,n){var i;return!!L(t)&&(null==(i=e[es].set_(t,n,!0))||i)},deleteProperty:function(e,t){var n;return!!L(t)&&(null==(n=e[es].delete_(t,!0))||n)},defineProperty:function(e,t,n){var i;return null==(i=e[es].defineProperty_(t,n))||i},ownKeys:function(e){return e[es].ownKeys_()},preventExtensions:function(e){_(13)}};function tX(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function tY(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),M(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function tJ(e,t){var n=ti();try{for(var i=[].concat(e.interceptors_||[]),r=0,s=i.length;r<s&&((t=i[r](t))&&!t.type&&_(14),t);r++);return t}finally{tr(n)}}function tQ(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function t0(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),M(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function t3(e,t){var n=ti(),i=e.changeListeners_;if(i){i=i.slice();for(var r=0,s=i.length;r<s;r++)i[r](t);tr(n)}}var t1=Symbol("mobx-keys"),t2="splice",t5="update",t4={get:function(e,t){var n=e[es];return t===es?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?$(t8,t)?t8[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var i=e[es];return"length"===t&&i.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:i.set_(parseInt(t),n),!0},preventExtensions:function(){_(15)}},t6=function(){function e(e,t,n,i){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=i,this.atom_=new ea(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return tY(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),t0(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&_("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&_(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&nA(e+t+1)},t.spliceWithArray_=function(e,t,n){var i=this;e9(this.atom_);var r=this.values_.length;if(void 0===e?e=0:e>r?e=r:e<0&&(e=Math.max(0,r+e)),t=1==arguments.length?r-e:null==t?0:Math.max(0,Math.min(t,r-e)),void 0===n&&(n=S),tX(this)){var s=tJ(this,{object:this.proxy_,type:t2,index:e,removedCount:t,added:n});if(!s)return S;t=s.removedCount,n=s.added}if(n=0===n.length?n:n.map(function(e){return i.enhancer_(e,void 0)}),this.legacyMode_){var a=n.length-t;this.updateArrayLength_(r,a)}var o=this.spliceItemsIntoValues_(e,t,n);return(0!==t||0!==n.length)&&this.notifyArraySplice_(e,n,o),this.dehanceValues_(o)},t.spliceItemsIntoValues_=function(e,t,n){if(n.length<1e4){var i;return(i=this.values_).splice.apply(i,[e,t].concat(n))}var r=this.values_.slice(e,e+t),s=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var a=0;a<n.length;a++)this.values_[e+a]=n[a];for(var o=0;o<s.length;o++)this.values_[e+n.length+o]=s[o];return r},t.notifyArrayChildUpdate_=function(e,t,n){var i=!this.owned_&&!1,r=tQ(this),s=r||i?{observableKind:"array",object:this.proxy_,type:t5,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),r&&t3(this,s)},t.notifyArraySplice_=function(e,t,n){var i=!this.owned_&&!1,r=tQ(this),s=r||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:t2,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),r&&t3(this,s)},t.get_=function(e){return this.legacyMode_&&e>=this.values_.length?void console.warn("[mobx] Out of bounds read: "+e):(this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]))},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&_(17,e,n.length),e<n.length){e9(this.atom_);var i=n[e];if(tX(this)){var r=tJ(this,{type:t5,object:this.proxy_,index:e,newValue:t});if(!r)return;t=r.newValue}(t=this.enhancer_(t,i))!==i&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,i))}else{for(var s=Array(e+1-n.length),a=0;a<s.length-1;a++)s[a]=void 0;s[s.length-1]=t,this.spliceWithArray_(n.length,0,s)}},e}(),t8={clear:function(){return this.splice(0)},replace:function(e){var t=this[es];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var s=this[es];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(e);case 2:return s.spliceWithArray_(e,t)}return s.spliceWithArray_(e,t,i)},spliceWithArray:function(e,t,n){return this[es].spliceWithArray_(e,t,n)},push:function(){for(var e=this[es],t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[es].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[es],t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return td.trackingDerivation&&_(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){td.trackingDerivation&&_(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[es],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function t7(e,t){"function"==typeof Array.prototype[e]&&(t8[e]=t(e))}function t9(e){return function(){var t=this[es];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function ne(e){return function(t,n){var i=this,r=this[es];return r.atom_.reportObserved(),r.dehanceValues_(r.values_)[e](function(e,r){return t.call(n,e,r,i)})}}function nt(e){return function(){var t=this,n=this[es];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(e,n,i){return r(e,n,i,t)},i[e].apply(i,arguments)}}t7("at",t9),t7("concat",t9),t7("flat",t9),t7("includes",t9),t7("indexOf",t9),t7("join",t9),t7("lastIndexOf",t9),t7("slice",t9),t7("toString",t9),t7("toLocaleString",t9),t7("toSorted",t9),t7("toSpliced",t9),t7("with",t9),t7("every",ne),t7("filter",ne),t7("find",ne),t7("findIndex",ne),t7("findLast",ne),t7("findLastIndex",ne),t7("flatMap",ne),t7("forEach",ne),t7("map",ne),t7("some",ne),t7("toReversed",ne),t7("reduce",nt),t7("reduceRight",nt);var nn=z("ObservableArrayAdministration",t6);function ni(e){return R(e)&&nn(e[es])}var nr={},ns="delete",na=function(){function e(e,t,n){var i=this;void 0===t&&(t=ed),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[es]=nr,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,P(Map)||_(18),nE(function(){i.keysAtom_=el("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,e&&i.merge(e)})}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!td.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var i=n=new e1(this.has_(e),eh,"ObservableMap.key?",!1);this.hasMap_.set(e,i),tR(i,function(){return t.hasMap_.delete(e)})}return n.get()},t.set=function(e,t){var n=this.has_(e);if(tX(this)){var i=tJ(this,{type:n?t5:"add",object:this,newValue:t,name:e});if(!i)return this;t=i.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if(e9(this.keysAtom_),tX(this)&&!tJ(this,{type:ns,object:this,name:e}))return!1;if(this.has_(e)){var n=tQ(this),i=n?{observableKind:"map",debugObjectName:this.name_,type:ns,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return tK(function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)}),n&&t3(this,i),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==td.UNCHANGED){var i=tQ(this),r=i?{observableKind:"map",debugObjectName:this.name_,type:t5,object:this,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),i&&t3(this,r)}},t.addValue_=function(e,t){var n=this;e9(this.keysAtom_),tK(function(){var i,r=new e1(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,r),t=r.value_,null==(i=n.hasMap_.get(e))||i.setNewValue_(!0),n.keysAtom_.reportChanged()});var i=tQ(this),r=i?{observableKind:"map",debugObjectName:this.name_,type:"add",object:this,name:e,newValue:t}:null;i&&t3(this,r)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return nl({next:function(){var n=t.next(),i=n.done,r=n.value;return{done:i,value:i?void 0:e.get(r)}}})},t.entries=function(){var e=this,t=this.keys();return nl({next:function(){var n=t.next(),i=n.done,r=n.value;return{done:i,value:i?void 0:[r,e.get(r)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(e,t){for(var n,i=Y(this);!(n=i()).done;){var r=n.value,s=r[0],a=r[1];e.call(t,a,s,this)}},t.merge=function(e){var t=this;return no(e)&&(e=new Map(e)),tK(function(){D(e)?(function(e){var t=Object.keys(e);if(!W)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(t){return O.propertyIsEnumerable.call(e,t)})):t})(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=e[0],i=e[1];return t.set(n,i)}):I(e)?(null!==Object.getPrototypeOf(Object.getPrototypeOf(Object.getPrototypeOf(e)))&&_(19,e),e.forEach(function(e,n){return t.set(n,e)})):null!=e&&_(20,e)}),this},t.clear=function(){var e=this;tK(function(){tn(function(){for(var t,n=Y(e.keys());!(t=n()).done;){var i=t.value;e.delete(i)}})})},t.replace=function(e){var t=this;return tK(function(){for(var n,i=function(e){if(I(e)||no(e))return e;if(Array.isArray(e))return new Map(e);if(!D(e))return _(21,e);var t=new Map;for(var n in e)t.set(n,e[n]);return t}(e),r=new Map,s=!1,a=Y(t.data_.keys());!(n=a()).done;){var o=n.value;if(!i.has(o))if(t.delete(o))s=!0;else{var l=t.data_.get(o);r.set(o,l)}}for(var u,c=Y(i.entries());!(u=c()).done;){var d=u.value,h=d[0],f=d[1],p=t.data_.has(h);if(t.set(h,f),t.data_.has(h)){var m=t.data_.get(h);r.set(h,m),p||(s=!0)}}if(!s)if(t.data_.size!==r.size)t.keysAtom_.reportChanged();else for(var v=t.data_.keys(),b=r.keys(),g=v.next(),y=b.next();!g.done;){if(g.value!==y.value){t.keysAtom_.reportChanged();break}g=v.next(),y=b.next()}t.data_=r}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return t0(this,e)},t.intercept_=function(e){return tY(this,e)},X(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),no=z("ObservableMap",na);function nl(e){return e[Symbol.toStringTag]="MapIterator",nV(e)}var nu={},nc=function(){function e(e,t,n){var i=this;void 0===t&&(t=ed),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[es]=nu,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,P(Set)||_(22),this.enhancer_=function(e,i){return t(e,i,n)},nE(function(){i.atom_=el(i.name_),e&&i.replace(e)})}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;tK(function(){tn(function(){for(var t,n=Y(e.data_.values());!(t=n()).done;){var i=t.value;e.delete(i)}})})},t.forEach=function(e,t){for(var n,i=Y(this);!(n=i()).done;){var r=n.value;e.call(t,r,r,this)}},t.add=function(e){var t=this;if(e9(this.atom_),tX(this)){var n=tJ(this,{type:"add",object:this,newValue:e});if(!n)return this;e=n.newValue}if(!this.has(e)){tK(function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()});var i=tQ(this),r=i?{observableKind:"set",debugObjectName:this.name_,type:"add",object:this,newValue:e}:null;i&&t3(this,r)}return this},t.delete=function(e){var t=this;if(tX(this)&&!tJ(this,{type:ns,object:this,oldValue:e}))return!1;if(this.has(e)){var n=tQ(this),i=n?{observableKind:"set",debugObjectName:this.name_,type:ns,object:this,oldValue:e}:null;return tK(function(){t.atom_.reportChanged(),t.data_.delete(e)}),n&&t3(this,i),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=this.values();return nh({next:function(){var t=e.next(),n=t.value,i=t.done;return i?{value:void 0,done:i}:{value:[n,n],done:i}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=this.data_.values();return nh({next:function(){var n=t.next(),i=n.value,r=n.done;return r?{value:void 0,done:r}:{value:e.dehanceValue_(i),done:r}}})},t.intersection=function(e){return H(e)&&!nd(e)?e.intersection(this):new Set(this).intersection(e)},t.union=function(e){return H(e)&&!nd(e)?e.union(this):new Set(this).union(e)},t.difference=function(e){return new Set(this).difference(e)},t.symmetricDifference=function(e){return H(e)&&!nd(e)?e.symmetricDifference(this):new Set(this).symmetricDifference(e)},t.isSubsetOf=function(e){return new Set(this).isSubsetOf(e)},t.isSupersetOf=function(e){return new Set(this).isSupersetOf(e)},t.isDisjointFrom=function(e){return H(e)&&!nd(e)?e.isDisjointFrom(this):new Set(this).isDisjointFrom(e)},t.replace=function(e){var t=this;return nd(e)&&(e=new Set(e)),tK(function(){Array.isArray(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):H(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):null!=e&&_("Cannot initialize set from "+e)}),this},t.observe_=function(e,t){return t0(this,e)},t.intercept_=function(e){return tY(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},X(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),nd=z("ObservableSet",nc);function nh(e){return e[Symbol.toStringTag]="SetIterator",nV(e)}var nf=Object.create(null),np="remove",nm=function(){function e(e,t,n,i){void 0===t&&(t=new Map),void 0===i&&(i=eE),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=i,this.keysAtom_=new ea("ObservableObject.keys"),this.isPlainObject_=D(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof e5)return n.set(t),!0;if(tX(this)){var i=tJ(this,{type:t5,object:this.proxy_||this.target_,name:e,newValue:t});if(!i)return null;t=i.newValue}if((t=n.prepareNewValue_(t))!==td.UNCHANGED){var r=tQ(this),s=r?{type:t5,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),r&&t3(this,s)}return!0},t.get_=function(e){return td.trackingDerivation&&!$(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return(void 0===n&&(n=!1),$(this.target_,e))?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!td.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new e1(e in this.target_,eh,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(nx(this,t,e),!(e in this.target_)){var n;if(null!=(n=this.target_[et])&&n[e])return;_(1,t.annotationType_,this.name_+"."+e.toString())}for(var i=this.target_;i&&i!==O;){var r=w(i,e);if(r){var s=t.make_(this,e,r,i);if(0===s)return;if(1===s)break}i=Object.getPrototypeOf(i)}ny(this,t,e)}},t.extend_=function(e,t,n,i){if(void 0===i&&(i=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,i);nx(this,n,e);var r=n.extend_(this,e,t,i);return r&&ny(this,n,e),r},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1),e9(this.keysAtom_);try{tp();var i=this.delete_(e);if(!i)return i;if(tX(this)){var r=tJ(this,{object:this.proxy_||this.target_,name:e,type:"add",newValue:t.value});if(!r)return null;var s=r.newValue;t.value!==s&&(t=J({},t,{value:s}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else j(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{tm()}return!0},t.defineObservableProperty_=function(e,t,n,i){void 0===i&&(i=!1),e9(this.keysAtom_);try{tp();var r=this.delete_(e);if(!r)return r;if(tX(this)){var s=tJ(this,{object:this.proxy_||this.target_,name:e,type:"add",newValue:t});if(!s)return null;t=s.newValue}var a=ng(e),o={configurable:!td.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(i){if(!Reflect.defineProperty(this.target_,e,o))return!1}else j(this.target_,e,o);var l=new e1(t,n,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{tm()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1),e9(this.keysAtom_);try{tp();var i=this.delete_(e);if(!i)return i;if(tX(this)&&!tJ(this,{object:this.proxy_||this.target_,name:e,type:"add",newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var r=ng(e),s={configurable:!td.safeDescriptors||this.isPlainObject_,enumerable:!1,get:r.get,set:r.set};if(n){if(!Reflect.defineProperty(this.target_,e,s))return!1}else j(this.target_,e,s);this.values_.set(e,new e5(t)),this.notifyPropertyAddition_(e,void 0)}finally{tm()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),e9(this.keysAtom_),!$(this.target_,e))return!0;if(tX(this)&&!tJ(this,{object:this.proxy_||this.target_,name:e,type:np}))return null;try{tp();var n,i,r=tQ(this),s=this.values_.get(e),a=void 0;if(!s&&(r||0)&&(a=null==(i=w(this.target_,e))?void 0:i.value),t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(s&&(this.values_.delete(e),s instanceof e1&&(a=s.value_),tb(s)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(e in this.target_),r||0){var o={type:np,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:a,name:e};r&&t3(this,o)}}finally{tm()}return!0},t.observe_=function(e,t){return t0(this,e)},t.intercept_=function(e){return tY(this,e)},t.notifyPropertyAddition_=function(e,t){var n,i=tQ(this);if(i){var r=i?{type:"add",observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;i&&t3(this,r)}null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),U(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function nv(e,t){if($(e,es))return e;var n,i,r=null!=(i=null==t?void 0:t.name)?i:"ObservableObject",s=new nm(e,new Map,String(r),t?null!=(n=t.defaultDecorator)?n:eP(t):void 0);return T(e,es,s),e}var nb=z("ObservableObjectAdministration",nm);function ng(e){return nf[e]||(nf[e]={get:function(){return this[es].getObservablePropValue_(e)},set:function(t){return this[es].setObservablePropValue_(e,t)}})}function n_(e){return!!R(e)&&nb(e[es])}function ny(e,t,n){var i;null==(i=e.target_[et])||delete i[n]}function nx(e,t,n){}var nw=nN(0),nj=(r=!1,Object.defineProperty(s={},"0",{set:function(){r=!0}}),Object.create(s)["0"]=1,!1===r),nO=0,nS=function(){};a=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(nS.prototype,a):void 0!==nS.prototype.__proto__?nS.prototype.__proto__=a:nS.prototype=a;var nk=function(e){function t(t,n,i,r){var s;return void 0===i&&(i="ObservableArray"),void 0===r&&(r=!1),s=e.call(this)||this,nE(function(){var e=new t6(i,n,r,!0);e.proxy_=s,B(s,es,e),t&&t.length&&s.spliceWithArray(0,0,t),nj&&Object.defineProperty(s,"0",nw)}),s}Q(t,e);var n=t.prototype;return n.concat=function(){this[es].atom_.reportObserved();for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map(function(e){return ni(e)?e.slice():e}))},n[Symbol.iterator]=function(){var e=this,t=0;return nV({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},X(t,[{key:"length",get:function(){return this[es].getArrayLength_()},set:function(e){this[es].setArrayLength_(e)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(nS);function nN(e){return{enumerable:!1,configurable:!0,get:function(){return this[es].get_(e)},set:function(t){this[es].set_(e,t)}}}function nA(e){if(e>nO){for(var t,n=nO;n<e+100;n++)t=n,j(nk.prototype,""+t,nN(t));nO=e}}function nC(e,t){if("object"==typeof e&&null!==e){if(ni(e))return void 0!==t&&_(23),e[es].atom_;if(nd(e))return e.atom_;if(no(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||_(25,t,nM(e)),n}if(n_(e)){if(!t)return _(26);var i=e[es].values_.get(t);return i||_(27,t,nM(e)),i}if(eo(e)||e4(e)||tw(e))return e}else if(P(e)&&tw(e[es]))return e[es];_(28)}function nM(e,t){var n;if(void 0!==t)n=nC(e,t);else{if(tP(e))return e.name;n=n_(e)||no(e)||nd(e)?function e(t,n){return(t||_(29),void 0!==n)?e(nC(t,n)):eo(t)||e4(t)||tw(t)||no(t)||nd(t)?t:t[es]?t[es]:void _(24,t)}(e):nC(e)}return n.name_}function nE(e){var t=ti(),n=e0(!0);tp();try{return e()}finally{tm(),e3(n),tr(t)}}Object.entries(t8).forEach(function(e){var t=e[0],n=e[1];"concat"!==t&&T(nk.prototype,t,n)}),nA(1e3);var nP=O.toString;function nL(e,t,n){return void 0===n&&(n=-1),function e(t,n,i,r,s){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof n)return!1;var o=nP.call(t);if(o!==nP.call(n))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":if(+t!=+t)return+n!=+n;return 0==+t?1/t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":i>=0&&i++}t=nR(t),n=nR(n);var l="[object Array]"===o;if(!l){if("object"!=typeof t||"object"!=typeof n)return!1;var u=t.constructor,c=n.constructor;if(u!==c&&!(P(u)&&u instanceof u&&P(c)&&c instanceof c)&&"constructor"in t&&"constructor"in n)return!1}if(0===i)return!1;i<0&&(i=-1),s=s||[];for(var d=(r=r||[]).length;d--;)if(r[d]===t)return s[d]===n;if(r.push(t),s.push(n),l){if((d=t.length)!==n.length)return!1;for(;d--;)if(!e(t[d],n[d],i-1,r,s))return!1}else{var h=Object.keys(t),f=h.length;if(Object.keys(n).length!==f)return!1;for(var p=0;p<f;p++){var m=h[p];if(!($(n,m)&&e(t[m],n[m],i-1,r,s)))return!1}}return r.pop(),s.pop(),!0}(e,t,n)}function nR(e){return ni(e)?e.slice():I(e)||no(e)||H(e)||nd(e)?Array.from(e.entries()):e}var nD=(null==(h=y().Iterator)?void 0:h.prototype)||{};function nV(e){return e[Symbol.iterator]=nT,Object.assign(Object.create(nD),e)}function nT(){return this}["Symbol","Map","Set"].forEach(function(e){void 0===y()[e]&&_("MobX requires global '"+e+"' to be available or polyfilled")}),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:nM},$mobx:es});var nB=e.i(271645);if(!nB.useState)throw Error("mobx-react-lite requires React with Hooks support");var nz=e.i(174080);function nI(e){return function e(t){var n={name:t.name_};return t.observing_&&t.observing_.length>0&&(n.dependencies=Array.from(new Set(t.observing_)).map(e)),n}(nC(e,void 0))}var nH=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach(function(i,r){n-i.registeredAt>=e&&(t.finalize(i.value),t.registrations.delete(r))}),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),nW=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:nH)(function(e){var t;null==(t=e.reaction)||t.dispose(),e.reaction=null}),nU=e.i(802239);function nF(e){e.reaction=new tg("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),null==(t=e.onStoreChange)||t.call(e)})}var n$="function"==typeof Symbol&&Symbol.for,nG=null!=(p=null==(f=Object.getOwnPropertyDescriptor(function(){},"name"))?void 0:f.configurable)&&p,nq=n$?Symbol.for("react.forward_ref"):"function"==typeof nB.forwardRef&&(0,nB.forwardRef)(function(e){return null}).$$typeof,nK=n$?Symbol.for("react.memo"):"function"==typeof nB.memo&&(0,nB.memo)(function(e){return null}).$$typeof;function nZ(e,t){if(nK&&e.$$typeof===nK)throw Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var n,i,r,s=null!=(r=null==t?void 0:t.forwardRef)&&r,a=e,o=e.displayName||e.name;if(nq&&e.$$typeof===nq&&(s=!0,"function"!=typeof(a=e.render)))throw Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var l=function(e,t){return function(e,t){void 0===t&&(t="observed");var n,i,r=nB.default.useRef(null);if(!r.current){var s={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(e){return nW.unregister(s),s.onStoreChange=e,s.reaction||(nF(s),s.stateVersion=Symbol()),function(){var e;s.onStoreChange=null,null==(e=s.reaction)||e.dispose(),s.reaction=null}},getSnapshot:function(){return s.stateVersion}};r.current=s}var a=r.current;if(a.reaction||(nF(a),nW.register(r,a,a)),nB.default.useDebugValue(a.reaction,nI),(0,nU.useSyncExternalStore)(a.subscribe,a.getSnapshot,a.getSnapshot),a.reaction.track(function(){try{n=e()}catch(e){i=e}}),i)throw i;return n}(function(){return a(e,t)},o)};return l.displayName=e.displayName,nG&&Object.defineProperty(l,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(l.contextTypes=e.contextTypes),s&&(l=(0,nB.forwardRef)(l)),n=e,i=l=(0,nB.memo)(l),Object.keys(n).forEach(function(e){nX[e]||Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(n,e))}),l}var nX={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};(o=nz.unstable_batchedUpdates)||(o=function(e){e()}),function(e){!0===e.isolateGlobalState&&function(){if((td.pendingReactions.length||td.inBatch||td.isRunningReactions)&&_(36),tc=!0,tu){var e=y();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),td=new tl}}();var t,n,i=e.useProxies,r=e.enforceActions;if(void 0!==i&&(td.useProxies=i===tV||"never"!==i&&"undefined"!=typeof Proxy),"ifavailable"===i&&(td.verifyProxies=!0),void 0!==r){var s=r===tV?tV:"observed"===r;td.enforceActions=s,td.allowStateChanges=!0!==s&&s!==tV}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(t){t in e&&(td[t]=!!e[t])}),td.allowStateReads=!td.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=t_,t_=function(e){return t(function(){return n(e)})})}({reactionScheduler:o}),nW.finalizeAllImmediately;let nY="jedec",nJ="bits",nQ="byte",n0="bytes",n3="array",n1="object",n2="exponent",n5={iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},n4={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},n6=[1,1024,1048576,0x40000000,0x10000000000,0x4000000000000,0x1000000000000000,11805916207174113e5,12089258196146292e8],n8=[1,1e3,1e6,1e9,1e12,1e15,1e18,1e21,1e24],n7=Math.log(1024),n9=Math.log(1e3),ie={si:{isDecimal:!0,ceil:1e3,actualStandard:nY},iec:{isDecimal:!1,ceil:1024,actualStandard:"iec"},[nY]:{isDecimal:!1,ceil:1024,actualStandard:nY}};function it(e,t,n,i,r){let s=e/(n?n8[t]:n6[t]);return i&&(s*=8)>=r&&t<8&&(s/=r,t++),{result:s,e:t}}var ii=e.i(538149);let ir=0;function is(e){let t=function(e,{bits:t=!1,pad:n=!1,base:i=-1,round:r=2,locale:s="",localeOptions:a={},separator:o="",spacer:l=" ",symbols:u={},standard:c="",output:d="string",fullform:h=!1,fullforms:f=[],exponent:p=-1,roundingMethod:m="round",precision:v=0}={}){var b;let g=p,_=Number(e),y=[],x=0,w="",{isDecimal:j,ceil:O,actualStandard:S}=ie[c]?ie[c]:2===i?{isDecimal:!1,ceil:1024,actualStandard:"iec"}:{isDecimal:!0,ceil:1e3,actualStandard:nY},k=!0===h,N=_<0,A=Math[m];if("bigint"!=typeof e&&isNaN(e))throw TypeError("Invalid number");if("function"!=typeof A)throw TypeError("Invalid rounding method");if(N&&(_=-_),0===_){let e,n;return b=v,(e=[])[0]=b>0?0..toPrecision(b):0,n=e[1]=n5[S][t?nJ:n0][0],d===n2?0:(u[e[1]]&&(e[1]=u[e[1]]),k&&(e[1]=f[0]||n4[S][0]+(t?"bit":nQ)),d===n3?e:d===n1?{value:e[0],symbol:e[1],exponent:0,unit:n}:e.join(l))}if((-1===g||isNaN(g))&&(g=j?Math.floor(Math.log(_)/n9):Math.floor(Math.log(_)/n7))<0&&(g=0),g>8&&(v>0&&(v+=8-g),g=8),d===n2)return g;let{result:C,e:M}=it(_,g,j,t,O);x=C;let E=(g=M)>0&&r>0?Math.pow(10,r):1;if(y[0]=1===E?A(x):A(x*E)/E,y[0]===O&&g<8&&-1===p&&(y[0]=1,g++),v>0){let e=function(e,t,n,i,r,s,a,o,l){let u=e.toPrecision(t);if(u.includes("e")&&n<8){let{result:e}=it(i,++n,r,s,a),c=l>0?Math.pow(10,l):1;u=(1===c?o(e):o(e*c)/c).toPrecision(t)}return{value:u,e:n}}(y[0],v,g,_,j,t,O,A,r);y[0]=e.value,g=e.e}let P=n5[S][t?nJ:n0];return(w=y[1]=j&&1===g?t?"kbit":"kB":P[g],N&&(y[0]=-y[0]),u[y[1]]&&(y[1]=u[y[1]]),y[0]=function(e,t,n,i,r,s){let a=e;if(!0===t?a=a.toLocaleString():t.length>0?a=a.toLocaleString(t,n):i.length>0&&(a=a.toString().replace(".",i)),r&&s>0){let e=a.toString(),t=i||(e.match(/(\D)/g)||[]).pop()||".",n=e.split(t),r=n[1]||"",o=r.length;a=`${n[0]}${t}${r.padEnd(o+(s-o),"0")}`}return a}(y[0],s,a,o,n,r),k&&(y[1]=f[g]||n4[S][g]+(t?"bit":nQ)+(1===y[0]?"":"s")),d===n3)?y:d===n1?{value:y[0],symbol:y[1],exponent:g,unit:w}:" "===l?`${y[0]} ${y[1]}`:y.join(l)}(e,{standard:"jedec",output:"array"});return t[0]+" "+t[1]}function ia(e,t){let n=document.createElement("a");n.href=URL.createObjectURL(t),n.download=e,n.click(),n.remove()}async function io(e){if(e.isFile)return new Promise(t=>{e.file(e=>{t(Object.values(ii.Mimes).includes(e.type)?[e]:[])},()=>t([]))});if(e.isDirectory){let t=await new Promise(t=>{e.createReader().readEntries(t,()=>t([]))}),n=[];for(let e of t){let t=await io(e);n.push(...t)}return n}return[]}async function il(e){if(!e)return[];if("file"===e.kind){let t=await e.getFile();return Object.values(ii.Mimes).includes(t.type)?[t]:[]}if("directory"===e.kind){let t=[];for await(let n of e.values()){let e=await il(n);t.push(...e)}return t}return[]}function iu(e,t){var n;let i;if(e.blob.type===e.compress?.blob.type)return e.name;let{name:r,suffix:s}=(i=(n=e.name).lastIndexOf("."),{name:n.substring(0,i),suffix:n.substring(i+1).toLowerCase()}),a=s;for(let t in ii.Mimes)if(e.compress.blob.type===ii.Mimes[t]){a=t;break}return["jpg","jpeg"].includes(a)&&(a=t.format.target?.toLowerCase()||a),r+"."+a}async function ic(e){let t=[];if(!e.clipboardData)return t;let n=e.clipboardData.items;for(let e=0;e<n.length;e++){let i=n[e];if(i.type.startsWith("image/")){let e=i.getAsFile();e&&Object.values(ii.Mimes).includes(e.type)&&t.push(e)}}return t}let id={preview:{maxSize:256},resize:{method:void 0,width:void 0,height:void 0,short:void 0,long:void 0,cropWidthRatio:void 0,cropHeightRatio:void 0,cropWidthSize:void 0,cropHeightSize:void 0},format:{target:void 0,transparentFill:"#FFFFFF"},jpeg:{quality:.75},png:{colors:128,dithering:.5},gif:{colors:128,dithering:!1},avif:{quality:50,speed:8}};class ih{list=new Map;option=id;tempOption=id;compareId=null;showOption=!1;constructor(){!function(e,t,n){D(e)?tT(e,e,void 0,void 0):nE(function(){var t=nv(e,void 0)[es];if(!e[t1]){var n=Object.getPrototypeOf(e),i=new Set([].concat(U(e),U(n)));i.delete("constructor"),i.delete(es),T(n,t1,i)}e[t1].forEach(function(e){return t.make_(e,!0)})})}(this)}isCropMode(){let e=this.option.resize;return"setCropRatio"===e.method&&e.cropWidthRatio&&e.cropHeightRatio&&e.cropWidthRatio>0&&e.cropHeightRatio>0||"setCropSize"===e.method&&e.cropWidthSize&&e.cropHeightSize&&e.cropWidthSize>0&&e.cropHeightSize>0}clear(){this.list.clear(),this.tempOption={...id},this.option={...id}}reCompress(){this.list.forEach(e=>{URL.revokeObjectURL(e.compress.src),e.compress=void 0,ix(e)})}hasTaskRunning(){for(let[e,t]of this.list)if(!t.preview||!t.compress)return!0;return!1}getProgressHintInfo(){let e=this.list.size,t=0,n=0,i=0;for(let[e,r]of this.list)n+=r.blob.size,r.compress&&(t++,i+=r.compress.blob.size);let r=Math.ceil(100*t/e),s=Number(Math.abs((i-n)*100/n).toFixed(2));return{totalNum:e,loadedNum:t,originSize:n,outputSize:i,percent:r,rate:s}}}let ip=new ih;var im=e.i(501764);async function iv(e){let t;if(!ip.option.format.target)return e;let n=ip.option.format.target.toLowerCase(),i=document.createElement("canvas");i.width=e.width,i.height=e.height;let r=i.getContext("2d");["jpg","jpeg"].includes(n)&&(r.fillStyle=ip.option.format.transparentFill,r.fillRect(0,0,e.width,e.height));let s=await new Promise(t=>{let n=new Image;n.src=e.src,n.onload=()=>t(n)});return r.drawImage(s,0,0,e.width,e.height,0,0,e.width,e.height),t="avif"===n?await im.AvifImage.encode(r,e.width,e.height,ip.option.avif.quality,ip.option.avif.speed):await new Promise(e=>{i.toBlob(t=>{e(t)},ii.Mimes[n],1)}),e.blob=t,e.src=URL.createObjectURL(t),e}let ib=null,ig=null;async function i_(e){let t=ip.list.get(e.data.key);if(!t)return;let n=tq(t);n.width=e.data.width,n.height=e.data.height,n.compress=e.data.compress??n.compress,n.preview=e.data.preview??n.preview,n.blob.type===ii.Mimes.svg&&e.data.compress&&await iv(n.compress),ip.list.set(n.key,n)}function iy(e){return{info:{key:e.key,name:e.name,blob:e.blob,width:e.width,height:e.height},option:tq(ip.option)}}function ix(e){ib?.postMessage(iy(e))}async function iw(e){let t=e.map(async e=>{let t={key:ir+=1,name:e.name,blob:e,width:0,height:0,src:URL.createObjectURL(e)};if(e.type===ii.Mimes.svg){let{width:e,height:n}=await new Promise(e=>{let n=new Image;n.src=t.src,n.onload=()=>{e({x:0,y:0,width:n.width,height:n.height})}});t.width=e,t.height=n}return t});(await Promise.all(t)).forEach(e=>{ip.list.set(e.key,e)}),ip.option=tq(ip.tempOption),ip.list.forEach(e=>{ig?.postMessage(iy(e)),ix(e)})}var ij=e.i(343794),iO=e.i(327505);let iS=nZ((0,nB.forwardRef)((e,t)=>(0,m.jsx)("input",{ref:t,className:iO.default.file,type:"file",multiple:!0,accept:Object.keys(ii.Mimes).map(e=>"."+e).join(","),onChange:async e=>{let t=e.target.files;if(!t?.length){e.target.value="";return}let n=Array.from(t).filter(e=>!!e);await iw(n),e.target.value=""}}))),ik=eF.object({dragActive:!1,isImporting:!1});var iN=e.i(210670);let iA=nZ(()=>{let e=(0,nB.useRef)(null),t=async e=>{e.preventDefault(),ik.dragActive=!1,ik.isImporting=!0;let t=[],{dataTransfer:n}=e,i=n.getData("text/plain")||n.getData("text/uri-list");if(i){let e=i.trim(),n=e,r=e.match(/[?&]url=([^&]+)/i);if(r&&r[1])try{n=decodeURIComponent(r[1])}catch(e){}else e.startsWith("http")&&/\.(jpe?g|png|gif|webp|bmp|avif|svg)$/i.test(e)&&(n=e);if(n)try{let e=`https://image-proxy.thaonguyen83-dn.workers.dev?url=${encodeURIComponent(n)}`,i=await fetch(e,{mode:"cors"});if(!i.ok)throw Error("Proxy failed");let r=await i.blob();if(r.type.startsWith("image/")&&Object.values(ii.Mimes).includes(r.type)){let e=r.type.split("/")[1]||"png";"jpeg"===e&&(e="jpg");let i="web-image",s=n.match(/\/([^/?#]+)(?:\?|$|#)/);if(s){let t=decodeURIComponent(s[1]);if(t.includes(".")){let n=t.split("."),r=n.pop()?.toLowerCase(),s=n.join(".");["jpg","jpeg","png","gif","webp","bmp","avif","svg"].includes(r||"")&&s&&!["image","file","download","photo","pic","img"].includes(s.toLowerCase())&&(i=s,r&&(e="jpg"===r?"jpeg":r))}}let a=`${i}.${e}`,o=new File([r],a,{type:r.type});t.push(o)}}catch(e){}}if(n.items){let e=[];for(let i of n.items){if("function"==typeof i.getAsFileSystemHandle){e.push((async()=>{let e=await i.getAsFileSystemHandle();e&&t.push(...await il(e))})());continue}if("function"==typeof i.webkitGetAsEntry){e.push((async()=>{let e=i.webkitGetAsEntry();e&&t.push(...await io(e))})());continue}if("file"===i.kind){let e=i.getAsFile();e&&Object.values(ii.Mimes).includes(e.type)&&t.push(e)}}await Promise.all(e)}else if(n.files)for(let e=0;e<n.files.length;e++){let i=n.files[e];i&&Object.values(ii.Mimes).includes(i.type)&&t.push(i)}t.length>0&&iw(t),ik.isImporting=!1};(0,nB.useEffect)(()=>{let e=async e=>{if(function(e){if(!e.clipboardData)return!1;let t=e.clipboardData.items;for(let e=0;e<t.length;e++)if(t[e].type.startsWith("image/"))return!0;return!1}(e)){e.preventDefault(),ik.isImporting=!0;let t=await ic(e);t.length>0&&iw(t),ik.isImporting=!1}};return document.addEventListener("paste",e),()=>document.removeEventListener("paste",e)},[]);let n=Object.keys(ii.Mimes).map(e=>e.toUpperCase()).join("/");return(0,m.jsxs)("div",{className:(0,ij.default)("d-flex justify-content-center align-items-center border border-2 border-dashed position-relative w-100","bg-body-tertiary text-center p-5 transition-all",ik.dragActive&&"border-primary bg-primary-subtle shadow-lg"),style:{minHeight:"300px",cursor:"pointer"},onClick:()=>e.current?.click(),children:[(0,m.jsx)("div",{className:iN.default.inner,children:(0,m.jsxs)("div",{className:"text-body-secondary",children:[(0,m.jsx)("svg",{viewBox:"0 0 1024 1024",width:"80",height:"80",fill:"currentColor",className:"mb-4 opacity-75",children:(0,m.jsx)("path",{d:"M128 256l0 640 896 0L1024 256 128 256zM960 789.344 832 576l-145.056 120.896L576 512 192 832 192 320l768 0L960 789.344zM256 480A3 3 7560 1 0 448 480 3 3 7560 1 0 256 480zM896 128 0 128 0 768 64 768 64 192 896 192z"})}),(0,m.jsx)("h4",{className:"fw-medium mb-3",children:"Select files or drag & drop images and folders here"}),(0,m.jsxs)("p",{className:"mb-2",children:["Supports ",n," images"]}),(0,m.jsx)("div",{className:iN.default.pasteHint,children:"Tip: Paste with Ctrl+V  Drag images from websites  Drop folders too"})]})}),(0,m.jsx)(iS,{ref:e}),(0,m.jsx)("div",{className:"position-absolute top-0 start-0 w-100 h-100",onDragOver:e=>{e.preventDefault(),ik.dragActive=!0},onDragLeave:e=>{e.preventDefault(),ik.dragActive=!1},onDrop:t}),ik.isImporting&&(0,m.jsxs)("div",{className:"position-absolute inset-0 d-flex flex-column justify-content-center align-items-center bg-white bg-opacity-75 rounded",children:[(0,m.jsx)("div",{className:"spinner-border text-primary mb-3",role:"status",style:{width:"3rem",height:"3rem"},children:(0,m.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,m.jsx)("p",{className:"fw-medium text-primary mb-0",children:"Importing images..."})]})]})});var iC=e.i(874144),iM=/[A-Z]/g,iE=/^ms-/,iP={};function iL(e){return"-"+e.toLowerCase()}let iR=function(e){if(iP.hasOwnProperty(e))return iP[e];var t=e.replace(iM,iL);return iP[e]=iE.test(t)?"-"+t:t};var iD=e.i(745009);let iV=iD.default.oneOfType([iD.default.string,iD.default.number]),iT={all:iD.default.bool,grid:iD.default.bool,aural:iD.default.bool,braille:iD.default.bool,handheld:iD.default.bool,print:iD.default.bool,projection:iD.default.bool,screen:iD.default.bool,tty:iD.default.bool,tv:iD.default.bool,embossed:iD.default.bool},{type:iB,...iz}={orientation:iD.default.oneOf(["portrait","landscape"]),scan:iD.default.oneOf(["progressive","interlace"]),aspectRatio:iD.default.string,deviceAspectRatio:iD.default.string,height:iV,deviceHeight:iV,width:iV,deviceWidth:iV,color:iD.default.bool,colorIndex:iD.default.bool,monochrome:iD.default.bool,resolution:iV,type:Object.keys(iT)},iI={minAspectRatio:iD.default.string,maxAspectRatio:iD.default.string,minDeviceAspectRatio:iD.default.string,maxDeviceAspectRatio:iD.default.string,minHeight:iV,maxHeight:iV,minDeviceHeight:iV,maxDeviceHeight:iV,minWidth:iV,maxWidth:iV,minDeviceWidth:iV,maxDeviceWidth:iV,minColor:iD.default.number,maxColor:iD.default.number,minColorIndex:iD.default.number,maxColorIndex:iD.default.number,minMonochrome:iD.default.number,maxMonochrome:iD.default.number,minResolution:iV,maxResolution:iV,...iz};var iH={...iT,...iI};let iW=(0,nB.createContext)(void 0),iU=e=>{if(e)return Object.keys(e).reduce((t,n)=>(t[iR(n)]=e[n],t),{})},iF=()=>{let e=(0,nB.useRef)(!1);return(0,nB.useEffect)(()=>{e.current=!0},[]),e.current},i$=(e,t,n)=>{let i=(e=>{let t=(0,nB.useContext)(iW),n=()=>iU(e)||iU(t),[i,r]=(0,nB.useState)(n);return(0,nB.useEffect)(()=>{let e=n();!function(e,t){if(e===t)return!0;if(!e||!t)return!1;let n=Object.keys(e),i=Object.keys(t),r=n.length;if(i.length!==r)return!1;for(let i=0;i<r;i++){let r=n[i];if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1}return!0}(i,e)&&r(e)},[e,t]),i})(t),r=(e=>{let t=()=>{let t;return e.query||(t=[],Object.keys(iH).forEach(n=>{let i=e[n];null!=i&&t.push(((e,t)=>{let n=iR(e);if("number"==typeof t&&(t=`${t}px`),!0===t)return n;if(!1===t)return`not ${n}`;return`(${n}: ${t})`})(n,i))}),t.join(" and "))},[n,i]=(0,nB.useState)(t);return(0,nB.useEffect)(()=>{let e=t();n!==e&&i(e)},[e]),n})(e);if(!r)throw Error("Invalid or missing MediaQuery!");let s=((e,t)=>{let n=()=>(0,iC.default)(e,t||{},!!t),[i,r]=(0,nB.useState)(n),s=iF();return(0,nB.useEffect)(()=>{if(s){let e=n();return r(e),()=>{e&&e.dispose()}}},[e,t]),i})(r,i),a=(e=>{let[t,n]=(0,nB.useState)(e.matches);return(0,nB.useEffect)(()=>{let t=e=>{n(e.matches)};return e.addListener(t),n(e.matches),()=>{e.removeListener(t)}},[e]),t})(s),o=iF();return(0,nB.useEffect)(()=>{o&&n&&n(a)},[a]),(0,nB.useEffect)(()=>()=>{s&&s.dispose()},[]),a};function iG(){let e=i$({maxWidth:719});return{isMobile:e,isPad:i$({minWidth:720,maxWidth:1279}),isPC:i$({minWidth:1280})}}var iq=e.i(507273),iK=e.i(826024),iZ=e.i(86019),iX=e.i(109876);function iY({data:e,columns:t,keyExtractor:n,sortBy:i,sortDirection:r=null,onSort:s,emptyMessage:a="No data available",className:o="",striped:l=!0,pagination:u,pageSizeOptions:c=[10,25,50,100],showPageSizeSelector:d=!0,showPageInfo:h=!0}){let{currentTheme:f}=(0,iX.useTheme)(),[p,v]=(0,nB.useState)(1),[b,g]=(0,nB.useState)(c[0]??10),_=!1!==u&&void 0!==u,y=_?u.page:p,x=_?u.pageSize:b,w=_?u.totalItems:e.length,j=_?u.totalPages??Math.max(1,Math.ceil(w/x)):Math.max(1,Math.ceil(e.length/x)),O=(y-1)*x+1,S=Math.min(y*x,w);(0,nB.useEffect)(()=>{_||v(1)},[e.length,_]),(0,nB.useEffect)(()=>{if(_)return;let t=Math.max(1,Math.ceil(e.length/x));p>t&&v(t)},[e.length,x,p,_]);let k=(0,nB.useMemo)(()=>{if(_)return e;let t=(y-1)*x;return e.slice(t,t+x)},[e,_,y,x]),N=e=>{_?u.onPageChange(e,x):v(e)},A=y>1,C=y<j;return(0,m.jsxs)("div",{className:o,children:[(0,m.jsx)("div",{className:`table-responsive border ${"dark"===f?"border-secondary":"border"} mb-3`,children:(0,m.jsxs)("table",{className:`table table-hover align-middle mb-0 ${l?"table-striped":""}`,children:[(0,m.jsx)("thead",{className:`${"dark"===f?"table-dark":"table-light"} small ${"dark"===f?"text-light opacity-75":"text-muted"}`,children:(0,m.jsx)("tr",{children:t.map(e=>{var t;return(0,m.jsx)("th",{style:{width:e.width},className:e.sortable?"cursor-pointer user-select-none":"",onClick:()=>e.sortable&&s?.(e.key),children:(0,m.jsxs)(iq.default,{alignment:"center",gap:"1",children:[e.title,e.sortable&&((t=e.key)&&i===t?"asc"===r?(0,m.jsx)("i",{className:"bi bi-arrow-up text-primary ms-1",style:{fontSize:"0.9em"}}):"desc"===r?(0,m.jsx)("i",{className:"bi bi-arrow-down text-primary ms-1",style:{fontSize:"0.9em"}}):null:(0,m.jsx)("i",{className:"bi bi-arrow-down-up opacity-50 ms-1",style:{fontSize:"0.8em"}}))]})},e.key)})})}),(0,m.jsx)("tbody",{children:0===w?(0,m.jsx)("tr",{children:(0,m.jsxs)("td",{colSpan:t.length,className:"text-center py-5",children:[!a&&(0,m.jsx)("i",{className:`bi bi-inbox fs-1 d-block mb-3 ${"dark"===f?"opacity-30":"opacity-50"}`}),(0,m.jsx)(iK.default,{size:"4",color:"muted",children:a})]})}):k.map((e,i)=>(0,m.jsx)("tr",{children:t.map(t=>(0,m.jsx)("td",{className:t.align?`text-${t.align}`:"",children:t.render?t.render(e,O+i-1):"actions"===t.key?e[t.key]:String(e[t.key]??"")},t.key))},n(e)))})]})}),w>0&&(_||e.length>Math.min(...c))&&(0,m.jsxs)(iq.default,{alignment:"center",distribution:"between",className:"px-3 pb-2",children:[(0,m.jsxs)(iq.default,{gap:"3",alignment:"center",children:[h&&(0,m.jsxs)(iK.default,{size:"6",color:"muted",children:["Showing ",O,"",S," of"," ",w.toLocaleString()]}),!_&&d&&(0,m.jsxs)(iq.default,{gap:"2",alignment:"center",children:[(0,m.jsx)(iK.default,{size:"6",color:"muted",children:"Rows per page:"}),(0,m.jsx)(iZ.Picker,{value:x.toString(),onChange:e=>{var t;return t=Number(e),void(_?u.onPageChange(1,t):(g(t),v(1)))},options:c.map(e=>({value:e.toString(),label:e.toString()})),pickerStyle:"select",className:"form-select form-select-sm",style:{width:"auto"}})]})]}),(0,m.jsx)("nav",{"aria-label":"Table pagination",children:(0,m.jsxs)("ul",{className:"pagination pagination-sm mb-0",children:[(0,m.jsx)("li",{className:`page-item ${!A?"disabled":""}`,children:(0,m.jsx)("button",{className:"page-link",onClick:()=>N(y-1),disabled:!A,"aria-label":"Previous",children:(0,m.jsx)("i",{className:"bi bi-chevron-left"})})}),Array.from({length:j},(e,t)=>t+1).filter(e=>!!(j<=7||1===e||e===j||1>=Math.abs(e-y))||e===y-2&&!!(y<=4)||e===y+2&&!!(y>=j-3)).map((e,t,n)=>{let i=t>0&&e>n[t-1]+1&&e!==j;return(0,m.jsxs)(nB.default.Fragment,{children:[i&&(0,m.jsx)("li",{className:"page-item disabled",children:(0,m.jsx)("span",{className:"page-link",children:""})}),(0,m.jsx)("li",{className:`page-item ${e===y?"active":""}`,children:(0,m.jsx)("button",{className:"page-link",onClick:()=>N(e),children:e})})]},e)}),(0,m.jsx)("li",{className:`page-item ${!C?"disabled":""}`,children:(0,m.jsx)("button",{className:"page-link",onClick:()=>N(y+1),disabled:!C,"aria-label":"Next",children:(0,m.jsx)("i",{className:"bi bi-chevron-right"})})})]})})]})]})}let iJ=e=>0===e?"0 B":e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(1)} KB`:`${(e/1048576).toFixed(2)} MB`;var iQ=e.i(627911);function i0({size:e,white:t=!1}){let n=[];for(let e=0;e<10;e++)n.push((0,m.jsx)("div",{},e));return(0,m.jsx)("div",{className:(0,ij.default)(iQ.default.container,"large"===e&&iQ.default.large,t&&iQ.default.white),children:n})}var i3=e.i(700362);function i1({images:e,disabled:t=!1,...n}){let i=(0,nB.useMemo)(()=>[{key:"status",title:"Status",width:"80px",render:e=>e.compress&&e.preview?(0,m.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:(0,m.jsx)("svg",{viewBox:"0 0 1024 1024",width:"28",height:"28",fill:"#28a745",children:(0,m.jsx)("path",{d:"M128 128l0 768 768 0L896 128 128 128zM424.704 768 198.464 541.696 288.96 451.2l135.744 135.744 316.8-316.8L832 360.704 424.704 768z"})})}):(0,m.jsx)(i0,{})},{key:"preview",title:"Preview",width:"120px",render:e=>{if(!e.preview)return(0,m.jsx)("div",{className:i3.default.preview});let t=e.src,n=e.compress?.src??null;return(0,m.jsxs)("div",{className:(0,ij.default)(i3.default.preview,"position-relative overflow-hidden rounded shadow-sm"),style:{width:"100px",height:"80px",cursor:"pointer"},onClick:()=>{n?ip.compareId=e.key:window.open(t,"_blank")},children:[(0,m.jsx)("img",{src:t,alt:e.name,className:"w-100 h-100",style:{objectFit:"cover",position:"absolute",inset:0}}),n&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"position-absolute bg-white",style:{top:0,left:0,width:"50%",height:"100%",pointerEvents:"none"}}),(0,m.jsx)("img",{src:n,alt:`${e.name} compressed`,className:"w-100 h-100",style:{objectFit:"cover",clipPath:"polygon(50% 0%, 100% 0%, 100% 100%, 50% 100%)"}}),(0,m.jsx)("div",{className:"position-absolute inset-0 d-flex align-items-center justify-content-center bg-black bg-opacity-30 opacity-0 hover-opacity-100 transition-opacity pointer-events-none",children:(0,m.jsx)("svg",{viewBox:"0 0 24 24",width:"32",height:"32",fill:"white",children:(0,m.jsx)("path",{d:"M13,23H11V1H13V23M9,19H5V5H9V3H5C3.89,3 3,3.89 3,5V19C3,20.11 3.9,21 5,21H9V19M19,7V9H21V7H19M19,5H21C21,3.89 20.1,3 19,3V5M21,15H19V17H21V15M19,11V13H21V11H19M17,3H15V5H17V3M19,21C20.11,21 21,20.11 21,19H19V21M17,19H15V21H17V19Z"})})})]})]})}},{key:"name",title:"Name",render:e=>(0,m.jsx)(iK.default,{weight:"medium",className:"text-truncate",style:{maxWidth:"300px"},title:e.name,wrap:!0,children:e.name})},{key:"dimension",title:"Dimension",width:"120px",align:"end",render:e=>(0,m.jsx)(iK.default,{size:"sm",color:"body-secondary",children:e.width&&e.height?`${e.width}\xd7${e.height}`:"-"})},{key:"newDimension",title:"New Dimension",width:"140px",align:"end",render:e=>e.compress?.width&&e.compress?.height?(0,m.jsxs)(iK.default,{size:"sm",weight:"medium",children:[e.compress.width,"",e.compress.height]}):"-"},{key:"size",title:"Size",width:"110px",align:"end",sortable:!0,render:e=>(0,m.jsx)(iK.default,{size:"sm",color:"body-secondary",children:iJ(e.blob.size)})},{key:"newSize",title:"New size",width:"110px",align:"end",sortable:!0,render:e=>{if(!e.compress)return"-";let t=e.blob.size>e.compress.blob.size;return(0,m.jsx)(iK.default,{size:"sm",weight:"bold",color:t?"success":"danger",children:iJ(e.compress.blob.size)})}},{key:"decrease",title:"Decrease",width:"130px",align:"end",sortable:!0,render:e=>{if(!e.compress)return"-";let t=e.blob.size,n=e.compress.blob.size,i=Math.abs((n-t)/t*100).toFixed(2)+"%",r=t>n;return(0,m.jsxs)(iq.default,{gap:"1",alignment:"end",children:[(0,m.jsx)(iK.default,{size:"sm",weight:"bold",color:r?"success":"danger",children:r?i:`+${i}`}),r?(0,m.jsx)("i",{className:"bi bi-arrow-down text-success fs-5"}):(0,m.jsx)("i",{className:"bi bi-arrow-up text-danger fs-5"})]})}},{key:"action",title:"Action",width:"120px",align:"end",render:e=>(0,m.jsxs)(iq.default,{gap:"3",alignment:"center",children:[(0,m.jsx)("button",{className:"btn btn-link p-0 text-danger",disabled:t,onClick:()=>ip.list.delete(e.key),title:"Remove",children:(0,m.jsxs)("svg",{viewBox:"0 0 1024 1024",width:"20",height:"20",fill:"#ff4d4f",children:[(0,m.jsx)("path",{d:"M912 239.2H112a5.333333 5.333333 0 0 0-5.333333 5.333333v64a5.333333 5.333333 0 0 0 5.333333 5.333334h88.32a5.333333 5.333333 0 0 1 5.333333 5.333333V912a5.333333 5.333333 0 0 0 5.333334 5.333333h601.973333a5.333333 5.333333 0 0 0 5.333333-5.333333V319.2a5.333333 5.333333 0 0 1 5.333334-5.333333H912a5.333333 5.333333 0 0 0 5.333333-5.333334v-64a5.333333 5.333333 0 0 0-5.333333-5.333333z m-470.24 486.506667a5.333333 5.333333 0 0 1-5.333333 5.333333h-64a5.333333 5.333333 0 0 1-5.333334-5.333333V430.826667a5.333333 5.333333 0 0 1 5.333334-5.333334h64a5.333333 5.333333 0 0 1 5.333333 5.333334z m215.146667 0a5.333333 5.333333 0 0 1-5.333334 5.333333h-64a5.333333 5.333333 0 0 1-5.333333-5.333333V430.826667a5.333333 5.333333 0 0 1 5.333333-5.333334h64a5.333333 5.333333 0 0 1 5.333334 5.333334z"}),(0,m.jsx)("path",{d:"M320 106.666667m5.333333 0l373.333334 0q5.333333 0 5.333333 5.333333l0 64q0 5.333333-5.333333 5.333333l-373.333334 0q-5.333333 0-5.333333-5.333333l0-64q0-5.333333 5.333333-5.333333Z"})]})}),(0,m.jsx)("button",{className:"btn btn-link p-0 text-secondary",disabled:t||!e.compress?.blob,onClick:()=>{if(e.compress?.blob){let t=iu(e,ip.option);console.log("filename=",t),ia(t,e.compress.blob)}},title:"Download",children:(0,m.jsx)("svg",{viewBox:"0 0 1024 1024",width:"18",height:"20",fill:"#707070",children:(0,m.jsx)("path",{d:"M736 448l-256 256-256-256 160 0 0-384 192 0 0 384zM480 704l-480 0 0 256 960 0 0-256-480 0zM896 832l-128 0 0-64 128 0 0 64z"})})})]})}],[t]);return(0,m.jsx)(iY,{data:e,columns:i,keyExtractor:e=>e.key.toString(),sortBy:n.sortKey,sortDirection:n.sortOrder,onSort:n.onSort,className:"table-hover",headerClassName:"bg-light border-bottom"})}let i2=nZ(()=>{let e=ip.getProgressHintInfo(),{isMobile:t}=iG(),n=e.originSize>e.outputSize;return(0,m.jsxs)("div",{className:"d-flex align-items-center gap-3 p-2 bg-body-tertiary rounded",children:[(0,m.jsxs)("div",{className:"position-relative",style:{width:"40px",height:"40px"},children:[(0,m.jsxs)("svg",{className:"position-absolute top-0 start-0",width:"40",height:"40",viewBox:"0 0 36 36",children:[(0,m.jsx)("circle",{cx:"18",cy:"18",r:"16",fill:"none",stroke:"var(--bs-border-color)",strokeWidth:"3"}),(0,m.jsx)("circle",{cx:"18",cy:"18",r:"16",fill:"none",stroke:100===e.percent?"var(--bs-success)":"var(--bs-primary)",strokeWidth:"3",strokeDasharray:`${e.percent} 100`,strokeLinecap:"round",transform:"rotate(-90 18 18)",className:"transition-all duration-500"})]}),(0,m.jsx)("div",{className:"position-absolute top-50 start-50 translate-middle text-center",children:(0,m.jsxs)("div",{className:"fw-bold text-primary",style:{fontSize:"0.65rem"},children:[e.percent,"%"]})})]}),(0,m.jsxs)("div",{className:"small",children:[(0,m.jsx)("span",{className:"fw-bold text-success",children:e.loadedNum}),(0,m.jsxs)("span",{className:"text-body-secondary",children:["/",e.totalNum]}),!t&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("span",{className:"text-body-secondary ms-3",children:["Before:",(0,m.jsx)("span",{className:"fw-medium",children:is(e.originSize)})]}),(0,m.jsxs)("span",{className:"text-body-secondary ms-3",children:["After:",(0,m.jsx)("span",{className:"fw-medium",children:is(e.outputSize)})]})]}),(0,m.jsxs)("span",{className:"text-body-secondary ms-3",children:["Rate:",(0,m.jsxs)("span",{className:`fw-bold ${n?"text-success":"text-danger"}`,children:[e.rate,"%",(0,m.jsx)("i",{className:`bi ${n?"bi-arrow-down":"bi-arrow-up"} ms-1`})]})]})]})]})}),i5=nZ(()=>{let{isMobile:t}=iG(),n=ip.hasTaskRunning(),i=(0,nB.useRef)(null);return(0,m.jsxs)("div",{className:"d-flex flex-column h-100 w-100 bg-body",children:[(0,m.jsx)("div",{className:"p-3 border-top bg-body-tertiary",children:(0,m.jsx)(i2,{})}),(0,m.jsx)("br",{}),(0,m.jsxs)("div",{className:"d-flex justify-content-between align-items-center p-3 border-bottom bg-body-tertiary",children:[(0,m.jsxs)("div",{className:"d-flex gap-2",children:[(0,m.jsxs)("button",{className:"btn btn-primary",disabled:n,onClick:()=>i.current?.click(),children:[(0,m.jsx)("i",{className:"bi bi-plus-lg me-2"}),!t&&"Add Images"]}),window.showDirectoryPicker&&(0,m.jsxs)("button",{className:"btn btn-primary",disabled:n,onClick:async()=>{let e=await window.showDirectoryPicker(),t=await il(e);await iw(t)},children:[(0,m.jsx)("i",{className:"bi bi-folder-plus me-2"}),!t&&"Add Folder"]})]}),(0,m.jsxs)("div",{className:"d-flex gap-2",children:[(0,m.jsxs)("button",{className:"btn btn-danger",disabled:n,onClick:()=>ip.clear(),children:[(0,m.jsx)("i",{className:"bi bi-trash me-2"}),!t&&"Clear All"]}),(0,m.jsxs)("button",{className:"btn btn-outline-primary",disabled:n,onClick:()=>ip.reCompress(),children:[(0,m.jsx)("i",{className:"bi bi-arrow-repeat me-2"}),"Recompress"]}),(0,m.jsxs)("button",{className:"btn btn-success",disabled:n,onClick:async()=>{let t=new(await e.A(495004)).default,n=new Set;for(let e of ip.list.values()){if(!e.compress?.blob)continue;let i=function(e,t){let n=t=>{if(!e.has(t))return t;{let e=t.split("."),i=e.pop();return n(e.join("")+"(1)."+i)}};return n(t)}(n,iu(e,ip.option));n.add(i),t.file(i,e.compress.blob)}let i=await t.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}});ia(`compressed-images-${new Date().toISOString().slice(0,10)}.zip`,i)},children:[(0,m.jsx)("i",{className:"bi bi-download me-2"}),!t&&"Download All"]})]}),(0,m.jsx)(iS,{ref:i})]}),(0,m.jsx)(i1,{images:Array.from(ip.list.values()),disabled:n})]})});var i4=e.i(682980),i6=e.i(53331);function i8(e){let{desc:t,children:n,...i}=e;return(0,m.jsxs)("div",{className:(0,ij.default)(i6.default.container,"d-flex flex-column gap-2"),...i,children:[t&&(0,m.jsx)("small",{className:(0,ij.default)(i6.default.desc,"text-body-secondary"),children:t}),(0,m.jsx)("div",{children:n})]})}let i7=nZ(()=>{let e=ip.hasTaskRunning(),t=ip.tempOption.resize.method,n=null;"fitWidth"===t?n=(0,m.jsx)("input",{type:"number",className:"form-control",min:"0",step:"1",disabled:e,placeholder:"Width (px)",value:ip.tempOption.resize.width??"",onChange:e=>{ip.tempOption.resize.width=e.target.value?Number(e.target.value):void 0}}):"fitHeight"===t?n=(0,m.jsx)("input",{type:"number",className:"form-control",min:"0",step:"1",disabled:e,placeholder:"Height (px)",value:ip.tempOption.resize.height??"",onChange:e=>{ip.tempOption.resize.height=e.target.value?Number(e.target.value):void 0}}):"setShort"===t?n=(0,m.jsx)("input",{type:"number",className:"form-control",min:"0",step:"1",disabled:e,placeholder:"Short side (px)",value:ip.tempOption.resize.short??"",onChange:e=>{ip.tempOption.resize.short=e.target.value?Number(e.target.value):void 0}}):"setLong"===t?n=(0,m.jsx)("input",{type:"number",className:"form-control",min:"0",step:"1",disabled:e,placeholder:"Long side (px)",value:ip.tempOption.resize.long??"",onChange:e=>{ip.tempOption.resize.long=e.target.value?Number(e.target.value):void 0}}):"setCropRatio"===t?n=(0,m.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,m.jsx)("input",{type:"number",className:"form-control",min:"1",step:"1",disabled:e,placeholder:"Width ratio",value:ip.tempOption.resize.cropWidthRatio??"",onChange:e=>{ip.tempOption.resize.cropWidthRatio=e.target.value?Number(e.target.value):void 0}}),(0,m.jsx)("span",{className:"fw-bold",children:":"}),(0,m.jsx)("input",{type:"number",className:"form-control",min:"1",step:"1",disabled:e,placeholder:"Height ratio",value:ip.tempOption.resize.cropHeightRatio??"",onChange:e=>{ip.tempOption.resize.cropHeightRatio=e.target.value?Number(e.target.value):void 0}})]}):"setCropSize"===t&&(n=(0,m.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,m.jsx)("input",{type:"number",className:"form-control",min:"1",step:"1",disabled:e,placeholder:"Crop width",value:ip.tempOption.resize.cropWidthSize??"",onChange:e=>{ip.tempOption.resize.cropWidthSize=e.target.value?Number(e.target.value):void 0}}),(0,m.jsx)("span",{className:"fw-bold",children:""}),(0,m.jsx)("input",{type:"number",className:"form-control",min:"1",step:"1",disabled:e,placeholder:"Crop height",value:ip.tempOption.resize.cropHeightSize??"",onChange:e=>{ip.tempOption.resize.cropHeightSize=e.target.value?Number(e.target.value):void 0}})]}));let i=["jpg","jpeg"].includes(ip.tempOption.format.target||"");return(0,m.jsxs)("div",{className:"d-flex flex-column gap-4",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("h6",{className:"fw-semibold mb-3",children:"Resize"}),(0,m.jsxs)(i8,{children:[(0,m.jsxs)("select",{className:"form-select",value:t,disabled:e,onChange:e=>{let t=e.target.value;ip.tempOption.resize={method:t,width:void 0,height:void 0,short:void 0,long:void 0,cropWidthRatio:void 0,cropHeightRatio:void 0,cropWidthSize:void 0,cropHeightSize:void 0}},children:[(0,m.jsx)("option",{value:"",children:"No resize"}),[{value:"fitWidth",label:"Fit Width"},{value:"fitHeight",label:"Fit Height"},{value:"setShort",label:"Set Short Side"},{value:"setLong",label:"Set Long Side"},{value:"setCropRatio",label:"Crop by Ratio"},{value:"setCropSize",label:"Crop by Size"}].map(e=>(0,m.jsx)("option",{value:e.value,children:e.label},e.value))]}),n&&(0,m.jsx)("div",{className:"mt-2",children:n})]})]}),(0,m.jsx)("hr",{className:"my-4"}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h6",{className:"fw-semibold mb-3",children:"Output Format"}),(0,m.jsx)(i8,{children:(0,m.jsxs)("select",{className:"form-select",value:ip.tempOption.format.target||"",disabled:e,onChange:e=>{ip.tempOption.format.target=e.target.value||void 0},children:[(0,m.jsx)("option",{value:"",children:"Original format"}),Object.keys(ii.Mimes).filter(e=>!["svg","gif"].includes(e)).map(e=>({value:e,label:e.toUpperCase()})).map(e=>(0,m.jsx)("option",{value:e.value,children:e.label},e.value))]})}),i&&(0,m.jsx)(i8,{desc:"Background color for transparent areas",children:(0,m.jsx)("input",{type:"color",className:"form-control form-control-color",disabled:e,value:ip.tempOption.format.transparentFill||"#FFFFFF",onChange:e=>{ip.tempOption.format.transparentFill=e.target.value.toUpperCase()}})})]}),(0,m.jsx)("hr",{className:"my-4"}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h6",{className:"fw-semibold mb-3",children:"JPEG Quality"}),(0,m.jsxs)(i8,{desc:"Higher value = better quality, larger file",children:[(0,m.jsx)("input",{type:"range",className:"form-range",min:"0",max:"1",step:"0.01",disabled:e,value:ip.tempOption.jpeg.quality,onChange:e=>{ip.tempOption.jpeg.quality=parseFloat(e.target.value)}}),(0,m.jsxs)("div",{className:"text-center text-muted small",children:[(100*ip.tempOption.jpeg.quality).toFixed(0),"%"]})]})]}),(0,m.jsx)("hr",{className:"my-4"}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h6",{className:"fw-semibold mb-3",children:"PNG Options"}),(0,m.jsxs)(i8,{desc:"Number of colors (2256)",children:[(0,m.jsx)("input",{type:"range",className:"form-range",min:"2",max:"256",step:"1",disabled:e,value:ip.tempOption.png.colors,onChange:e=>{ip.tempOption.png.colors=parseInt(e.target.value)}}),(0,m.jsxs)("div",{className:"text-center text-muted small",children:[ip.tempOption.png.colors," colors"]})]}),(0,m.jsxs)(i8,{desc:"Dithering (0 = none, 1 = full)",children:[(0,m.jsx)("input",{type:"range",className:"form-range",min:"0",max:"1",step:"0.01",disabled:e,value:ip.tempOption.png.dithering,onChange:e=>{ip.tempOption.png.dithering=parseFloat(e.target.value)}}),(0,m.jsxs)("div",{className:"text-center text-muted small",children:[(100*ip.tempOption.png.dithering).toFixed(0),"%"]})]})]}),(0,m.jsx)("hr",{className:"my-4"}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h6",{className:"fw-semibold mb-3",children:"GIF Options"}),(0,m.jsx)(i8,{children:(0,m.jsxs)("div",{className:"form-check",children:[(0,m.jsx)("input",{className:"form-check-input",type:"checkbox",id:"gifDithering",checked:ip.tempOption.gif.dithering,disabled:e,onChange:e=>{ip.tempOption.gif.dithering=e.target.checked}}),(0,m.jsx)("label",{className:"form-check-label",htmlFor:"gifDithering",children:"Enable dithering"})]})}),(0,m.jsxs)(i8,{desc:"Number of colors (2256)",children:[(0,m.jsx)("input",{type:"range",className:"form-range",min:"2",max:"256",step:"1",disabled:e,value:ip.tempOption.gif.colors,onChange:e=>{ip.tempOption.gif.colors=parseInt(e.target.value)}}),(0,m.jsxs)("div",{className:"text-center text-muted small",children:[ip.tempOption.gif.colors," colors"]})]})]}),ii.Mimes.avif&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("hr",{className:"my-4"}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h6",{className:"fw-semibold mb-3",children:"AVIF Options"}),(0,m.jsxs)(i8,{desc:"Quality (1 = lowest, 100 = highest)",children:[(0,m.jsx)("input",{type:"range",className:"form-range",min:"1",max:"100",step:"1",disabled:e,value:ip.tempOption.avif.quality,onChange:e=>{ip.tempOption.avif.quality=parseInt(e.target.value)}}),(0,m.jsx)("div",{className:"text-center text-muted small",children:ip.tempOption.avif.quality})]}),(0,m.jsxs)(i8,{desc:"Encoding speed (1 = slowest/best, 10 = fastest)",children:[(0,m.jsx)("input",{type:"range",className:"form-range",min:"1",max:"10",step:"1",disabled:e,value:ip.tempOption.avif.speed,onChange:e=>{ip.tempOption.avif.speed=parseInt(e.target.value)}}),(0,m.jsxs)("div",{className:"text-center text-muted small",children:["Speed ",ip.tempOption.avif.speed]})]})]})]})]})});var i9=e.i(789998),re=e.i(650720);let rt=nZ(()=>{let e=ip.hasTaskRunning(),{isPad:t,isPC:n}=iG(),i=(0,m.jsx)(re.default,{id:"option-help-popover",className:"shadow",children:(0,m.jsx)(re.default.Body,{className:"p-3 small",children:"Customize compression settings. Modifications to the options will be applied to all images."})}),r=(0,m.jsxs)("div",{className:"h-100 d-flex flex-column",children:[(0,m.jsxs)("div",{className:"p-3 border-bottom bg-body-tertiary d-flex justify-content-between align-items-center",children:[(0,m.jsx)(i9.default,{trigger:["hover","focus"],placement:"bottom",overlay:i,delay:{show:150,hide:300},children:(0,m.jsx)("div",{className:"text-secondary",tabIndex:0,children:(0,m.jsx)("i",{className:"bi bi-exclamation-circle fs-5"})})}),(0,m.jsxs)("div",{className:"d-flex gap-2",children:[(0,m.jsxs)("button",{className:"btn btn-outline-secondary btn-sm",disabled:e,onClick:()=>{ip.showOption=!1,ip.tempOption={...id},ip.option={...id},ip.reCompress()},children:[(0,m.jsx)("i",{className:"bi bi-arrow-clockwise me-1"}),"Reset"]}),(0,m.jsxs)("button",{className:"btn btn-primary btn-sm",disabled:e,onClick:()=>{ip.showOption=!1,ip.option=tq(ip.tempOption),ip.reCompress()},children:[(0,m.jsx)("i",{className:"bi bi-check-lg me-1"}),"Apply"]})]})]}),(0,m.jsx)("div",{className:"flex-grow-1 overflow-auto p-3 bg-body",children:(0,m.jsx)(i7,{})})]});return n?(0,m.jsx)("div",{className:(0,ij.default)(i4.default.side,i4.default.sidePc,"h-100 bg-body border-start shadow-sm"),children:r}):(0,m.jsxs)("div",{className:(0,ij.default)("offcanvas offcanvas-end",ip.showOption&&"show"),tabIndex:-1,style:{visibility:ip.showOption?"visible":"hidden"},children:[(0,m.jsx)("div",{className:"offcanvas-body p-0 h-100",children:(0,m.jsx)("div",{className:(0,ij.default)(i4.default.side,t?i4.default.sidePad:i4.default.sideMobile,"h-100"),children:r})}),ip.showOption&&(0,m.jsx)("div",{className:"offcanvas-backdrop fade show",onClick:()=>ip.showOption=!1})]})});var rn=e.i(482791),ri=e.i(487266);let rr=nZ(()=>{let{currentTheme:e}=(0,iX.useTheme)(),t=(0,nB.useRef)(ip.list.get(ip.compareId)),n=(0,nB.useRef)(null),i=(0,nB.useRef)(null),[r,s]=(0,nB.useState)({x:0,xrate:.5,scale:.8,moving:!1,status:"show",dividerWidth:4,containerWidth:0,containerHeight:0,imageWidth:0,imageHeight:0}),[a,o]=(0,nB.useState)(!1),[l,u]=(0,nB.useState)(!1),c=(0,nB.useCallback)(e=>{s(t=>({...t,...e}))},[]),d=(0,nB.useCallback)(()=>r,[r]),h=(0,nB.useRef)(c),f=(0,nB.useRef)(d);(0,nB.useEffect)(()=>{h.current=c,f.current=d},[c,d]),(0,nB.useEffect)(()=>{let e=document.documentElement,r=i.current,s=!1,a=0,o=()=>{let e,i,r=f.current(),s=n.current.getBoundingClientRect();t.current.width/t.current.height>s.width/s.height?i=(e=s.width*r.scale)*t.current.height/t.current.width:e=(i=s.height*r.scale)*t.current.width/t.current.height,h.current({x:s.width*r.xrate,imageWidth:e,imageHeight:i,containerWidth:s.width,containerHeight:s.height})},l=e=>{s=!0,a=e.clientX,h.current({moving:!0})},u=()=>{s=!1,a=0,h.current({moving:!1})},c=e=>{if(s){let t=f.current(),n=t.x+e.clientX-a,i=(t.containerWidth-t.imageWidth)/2,r=(t.containerWidth+t.imageWidth)/2;n<i&&(n=i),n>r&&(n=r),a=e.clientX,h.current({x:n,xrate:n/t.containerWidth})}},d=e=>{let n,i;e.preventDefault();let r=f.current(),s=r.scale-.001*e.deltaY;s=Math.max(.1,Math.min(1,s)),t.current.width/t.current.height>r.containerWidth/r.containerHeight?i=(n=r.containerWidth*s)*t.current.height/t.current.width:n=(i=r.containerHeight*s)*t.current.width/t.current.height;let a=(r.x-(r.containerWidth-r.imageWidth)/2)/r.imageWidth*n+(r.containerWidth-n)/2;h.current({scale:s,imageWidth:n,imageHeight:i,x:a})};return window.addEventListener("resize",o),n.current.addEventListener("wheel",d,{passive:!1}),r.addEventListener("mousedown",l),e.addEventListener("mousemove",c),e.addEventListener("mouseup",u),o(),()=>{window.removeEventListener("resize",o),n.current?.removeEventListener("wheel",d),r.removeEventListener("mousedown",l),e.removeEventListener("mousemove",c),e.removeEventListener("mouseup",u)}},[]);let p={width:`${r.x}px`},v={width:`${r.containerWidth-r.x}px`},b={width:`${r.dividerWidth}px`,left:`${r.x-r.dividerWidth/2}px`,opacity:+(0!==r.x)},g={opacity:l&&a?1:0,transition:"opacity 0.3s ease"},_={width:r.imageWidth,height:r.imageHeight,left:`${(r.containerWidth-r.imageWidth)/2}px`,...g},y={width:r.imageWidth,height:r.imageHeight,right:`${(r.containerWidth-r.imageWidth)/2}px`,...g},x=`${rn.default.container} ${r.moving?rn.default.moving:""} ${"show"===r.status?rn.default.show:rn.default.hide}`,w="dark"===e?"outline-light":"outline-dark",j=(0,m.jsx)(re.default,{id:"compare-help-popover",children:(0,m.jsx)(re.default.Body,{className:"text-small",children:ip.locale?.previewHelp||"Move the divider to compare original and compressed images. Use mouse wheel to zoom."})});return(0,nz.createPortal)((0,m.jsxs)("div",{className:x,ref:n,onAnimationEnd:e=>{e.animationName===rn.default.BoxHide&&(ip.compareId=null)},children:[(0,m.jsx)("div",{className:"position-absolute top-0 start-0 bottom-0 overflow-hidden",style:p,children:(0,m.jsx)("img",{src:t.current.src,style:_,alt:"Original",onLoad:()=>o(!0)})}),(0,m.jsx)("div",{className:"position-absolute top-0 end-0 bottom-0 overflow-hidden",style:v,children:(0,m.jsx)("img",{src:t.current.compress.src,style:y,alt:"Compressed",onLoad:()=>u(!0)})}),(0,m.jsx)("div",{className:`position-absolute top-0 bottom-0 ${"dark"===e?"bg-dark":"bg-white"} ${"dark"===e?"shadow":"shadow-sm"} d-flex align-items-center justify-content-center user-select-none`,style:b,ref:i,children:(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"currentColor",className:"dark"===e?"text-light":"text-dark",children:(0,m.jsx)("path",{d:"M6.45,17.45L1,12L6.45,6.55L7.86,7.96L4.83,11H19.17L16.14,7.96L17.55,6.55L23,12L17.55,17.45L16.14,16.04L19.17,13H4.83L7.86,16.04L6.45,17.45Z"})})}),(0,m.jsx)("div",{className:`position-absolute top-0 end-0 p-3 ${rn.default.action}`,children:(0,m.jsxs)("div",{className:"btn-group shadow",role:"group",children:[(0,m.jsx)(i9.default,{trigger:["hover","focus"],placement:"bottom-end",overlay:j,children:(0,m.jsx)(ri.default,{size:"sm",variant:w,children:(0,m.jsx)("i",{className:"bi bi-question-circle"})})}),(0,m.jsx)(ri.default,{size:"sm",variant:w,onClick:()=>h.current({status:"hide"}),"aria-label":"Close",children:(0,m.jsx)("i",{className:"bi bi-x-lg"})})]})})]}),document.body)}),rs=nZ(()=>((0,nB.useEffect)(()=>{ib=new Worker(e.r(41515),{type:"module",type:void 0}),ig=new Worker(e.r(925306),{type:"module",type:void 0});let t=e=>i_(e);return ib.addEventListener("message",t),ig.addEventListener("message",t),()=>{ib.removeEventListener("message",t),ig.removeEventListener("message",t),ib.terminate(),ig.terminate(),ib=null,ig=null}},[]),(0,m.jsxs)(v.default,{children:[(0,m.jsx)(b.default,{title:"",children:(0,m.jsx)(g.default,{gap:"5",children:(0,m.jsxs)(iq.default,{gap:"3",alignment:"start",distribution:"between",children:[0===ip.list.size?(0,m.jsx)(iA,{}):(0,m.jsx)(i5,{}),(0,m.jsx)(rt,{})]})})}),null!==ip.compareId&&(0,m.jsx)(rr,{})]})));e.s(["default",0,rs],687124)}]);