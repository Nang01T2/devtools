(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,847443,e=>{"use strict";var t=e.i(843476),r=e.i(439911),s=e.i(271645),n=e.i(812140),a=e.i(849989),i=e.i(490705),l=e.i(65415),o=e.i(837153),c=e.i(929359),d=e.i(115080),u=e.i(109876);let m=["json","http_query_string","xml","yaml","toml","properties"],p=e=>{switch(e){case"json":return"JSON";case"xml":return"XML";case"yaml":return"YAML";case"toml":return"TOML";case"php_array":return"PHP Array";case"properties":return"Properties";case"http_query_string":return"HTTP Query String";default:return e.toUpperCase()}},h=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function g({result:e,selectedFormat:r,onFormatChange:g,height:b="300px"}){let{currentTheme:j}=(0,u.useTheme)(),x=(0,s.useMemo)(()=>{if(!e)return"";switch(r){case"json":return JSON.stringify(e,null,2);case"xml":{let t='<?xml version="1.0" encoding="UTF-8"?>\n<geo>\n';for(let[r,s]of Object.entries(e))t+=`  <${r}>${h(String(s))}</${r}>
`;return t+"</geo>"}case"yaml":return Object.entries(e).map(([e,t])=>`${e}: ${t}`).join("\n");case"toml":return Object.entries(e).map(([e,t])=>{let r="string"==typeof t?`"${t.replace(/"/g,'\\"')}"`:t;return`${e} = ${r}`}).join("\n");case"php_array":{let t=Object.entries(e).map(([e,t])=>{let r="string"==typeof t?`"${t.replace(/"/g,'\\"')}"`:t;return`    "${e}" => ${r},`}).join("\n");return`array(
${t}
)`}case"properties":return Object.entries(e).map(([e,t])=>`${e}=${t}`).join("\n");case"http_query_string":return new URLSearchParams(Object.fromEntries(Object.entries(e).map(([e,t])=>[e,String(t)]))).toString();default:return""}},[e,r]),y=(0,s.useMemo)(()=>{let e=[d.EditorView.editable.of(!1),d.EditorView.lineWrapping];switch("http_query_string"!==r&&e.push(d.EditorView.lineWrapping),"dark"===j&&e.push(c.oneDark),r){case"json":e.push((0,a.json)());break;case"xml":e.push((0,i.xml)());break;case"yaml":e.push((0,l.yaml)());break;case"toml":case"php_array":e.push((0,o.javascript)())}return e},[r,j]),f=(0,s.useCallback)(()=>{x&&navigator.clipboard.writeText(x).then(()=>{},()=>alert("Copy failed"))},[x]);return(0,t.jsxs)("div",{className:"position-relative",style:{width:"100%"},children:[(0,t.jsxs)("div",{className:"position-absolute top-0 end-0 z-3 d-flex flex-column flex-md-row gap-2 align-items-end align-items-md-center mt-3 mt-md-3 me-3",children:[(0,t.jsx)("button",{className:"btn btn-outline-secondary btn-sm rounded-pill order-2 order-md-1",onClick:f,disabled:!x,title:"Copy to clipboard",children:(0,t.jsx)("i",{className:"bi bi-clipboard"})}),(0,t.jsxs)("div",{className:"dropdown order-1 order-md-2",children:[(0,t.jsx)("button",{className:"btn btn-info btn-sm dropdown-toggle text-white fw-medium px-3",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:p(r)}),(0,t.jsx)("ul",{className:"dropdown-menu dropdown-menu-end",children:m.map(e=>(0,t.jsx)("li",{children:(0,t.jsx)("button",{className:`dropdown-item ${r===e?"active":""}`,onClick:()=>g(e),children:p(e)})},e))})]})]}),(0,t.jsx)(n.default,{value:x||"No result yet...",height:b,extensions:y,theme:"dark"===j?c.oneDark:"light",basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,foldGutter:!0},readOnly:!0,className:"pt-5 border rounded shadow-sm",style:{width:"100%"}})]})}function b(){let[e,n]=(0,s.useState)(""),[a,i]=(0,s.useState)(!1),[l,o]=(0,s.useState)(null),[c,d]=(0,s.useState)("json"),u=async()=>{i(!0),o(null);let t="https://get.geojs.io/v1/ip/geo.json",r=e.trim();r&&"localhost"!==r&&(t+=`?ip=${encodeURIComponent(r)}`);try{let e=await fetch(t);if(!e.ok)throw Error(`HTTP ${e.status}`);let r=await e.json();o(Array.isArray(r)&&1===r.length?r[0]:r)}catch(e){o({error:e.message||"Unknown error"})}finally{i(!1)}};return(0,t.jsx)(r.default,{children:(0,t.jsx)("div",{className:"card shadow-lg",style:{width:"100%"},children:(0,t.jsxs)("div",{className:"card-body p-5",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"row g-3 align-items-center",children:[(0,t.jsx)("div",{className:"col",children:(0,t.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter IP address (leave blank for your current IP)",value:e,onChange:e=>n(e.target.value),onKeyDown:e=>"Enter"===e.key&&u(),disabled:a})}),(0,t.jsx)("div",{className:"col-auto",children:(0,t.jsx)("button",{className:"btn btn-primary btn-lg px-5",onClick:u,disabled:a,children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Loading..."]}):"Query"})})]}),""===e.trim()&&(0,t.jsx)("div",{className:"form-text text-center mt-3",children:(0,t.jsx)("a",{href:"#",className:"text-decoration-none",onClick:e=>{e.preventDefault(),n(""),u()},children:"Or query your current IP location now"})})]}),l&&(0,t.jsx)("div",{className:"mt-5",children:(0,t.jsx)(g,{result:l,selectedFormat:c,onFormatChange:d,height:"400px"})})]})})})}e.s(["default",()=>b],847443)}]);