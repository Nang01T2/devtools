(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,559266,817782,169109,722081,829025,e=>{"use strict";var n=e.i(984891);e.s(["forEach",()=>n.default],817782);var n=n,r=e.i(984199),t=e.i(587652),o=e.i(222030);e.s(["flatten",()=>o.default],169109);var o=o,a=e.i(553908),n=n,i=e.i(151728);e.i(566661);var d=e.i(704642);class u{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,n=e._prev;if(n!==e)return c(n),n}enqueue(e){var n=this._sentinel;e._prev&&e._next&&c(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){for(var e=[],n=this._sentinel,r=n._prev;r!==n;)e.push(JSON.stringify(r,f)),r=r._prev;return"["+e.join(", ")+"]"}}function c(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function f(e,n){if("_next"!==e&&"_prev"!==e)return n}var h=t.constant(1);function s(e,r,t,o,a){var i=a?[]:void 0;return n.default(e.inEdges(o.v),function(n){var o=e.edge(n),d=e.node(n.v);a&&i.push({v:n.v,w:n.w}),d.out-=o,l(r,t,d)}),n.default(e.outEdges(o.v),function(n){var o=e.edge(n),a=n.w,i=e.node(a);i.in-=o,l(r,t,i)}),e.removeNode(o.v),i}function l(e,n,r){r.out?r.in?e[r.out-r.in+n].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}function g(e){var t,c,f,g,v,p="greedy"===e.graph().acyclicer?function(e,r){if(1>=e.nodeCount())return[];var t,c,f,g,v,p,w,m=(t=e,c=r||h,f=new d.Graph,g=0,v=0,n.default(t.nodes(),function(e){f.setNode(e,{v:e,in:0,out:0})}),n.default(t.edges(),function(e){var n=f.edge(e.v,e.w)||0,r=c(e);f.setEdge(e.v,e.w,n+r),v=Math.max(v,f.node(e.v).out+=r),g=Math.max(g,f.node(e.w).in+=r)}),p=i.range(v+g+3).map(function(){return new u}),w=g+1,n.default(f.nodes(),function(e){l(p,w,f.node(e))}),{graph:f,buckets:p,zeroIdx:w}),b=function(e,n,r){for(var t,o=[],a=n[n.length-1],i=n[0];e.nodeCount();){for(;t=i.dequeue();)s(e,n,r,t);for(;t=a.dequeue();)s(e,n,r,t);if(e.nodeCount()){for(var d=n.length-2;d>0;--d)if(t=n[d].dequeue()){o=o.concat(s(e,n,r,t,!0));break}}}return o}(m.graph,m.buckets,m.zeroIdx);return o.default(a.map(b,function(n){return e.outEdges(n.v,n.w)}))}(e,(t=e,function(e){return t.edge(e).weight})):(c=e,f=[],g={},v={},n.default(c.nodes(),function e(r){Object.prototype.hasOwnProperty.call(v,r)||(v[r]=!0,g[r]=!0,n.default(c.outEdges(r),function(n){Object.prototype.hasOwnProperty.call(g,n.w)?f.push(n):e(n.w)}),delete g[r])}),f);n.default(p,function(n){var t=e.edge(n);e.removeEdge(n),t.forwardName=n.name,t.reversed=!0,e.setEdge(n.w,n.v,t,r.uniqueId("rev"))})}function v(e){n.default(e.edges(),function(n){var r=e.edge(n);if(r.reversed){e.removeEdge(n);var t=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(n.w,n.v,r,t)}})}e.s(["run",()=>g,"undo",()=>v],559266);var p=e.i(64038);e.s(["merge",()=>p.default],722081);var w=e.i(931953);e.s(["pick",()=>w.default],829025)},161378,e=>{"use strict";var n=e.i(573144);e.s(["defaults",()=>n.default])},461696,915888,e=>{"use strict";var n=e.i(559266),r=e.i(817782),t=e.i(722081),o=e.i(829025),a=e.i(161378),i=e.i(972789),i=i,d=e.i(421813),u=e.i(369011);e.i(566661);var c=e.i(704642),f=e.i(984199),h=e.i(553908),s=e.i(913198),s=s,l=e.i(151728),g=e.i(595007),v=e.i(309113),v=v,p=e.i(49521),p=p,i=i,w=e.i(581910),w=w;function m(e,n,r,t){var o;do o=f.uniqueId(t);while(e.hasNode(o))return r.dummy=n,e.setNode(o,r),o}function b(e){var n=new c.Graph({multigraph:e.isMultigraph()}).setGraph(e.graph());return r.forEach(e.nodes(),function(r){e.children(r).length||n.setNode(r,e.node(r))}),r.forEach(e.edges(),function(r){n.setEdge(r,e.edge(r))}),n}function E(e,n){var r,t,o=e.x,a=e.y,i=n.x-o,d=n.y-a,u=e.width/2,c=e.height/2;if(!i&&!d)throw Error("Not possible to find intersection inside of the rectangle");return Math.abs(d)*u>Math.abs(i)*c?(d<0&&(c=-c),r=c*i/d,t=c):(i<0&&(u=-u),r=u,t=u*d/i),{x:o+r,y:a+t}}function y(e){var n=h.map(l.range(x(e)+1),function(){return[]});return r.forEach(e.nodes(),function(r){var t=e.node(r),o=t.rank;g.isUndefined(o)||(n[o][t.order]=r)}),n}function k(e,n,r,t){var o={width:0,height:0};return arguments.length>=4&&(o.rank=r,o.order=t),m(e,"border",o,n)}function x(e){return i.default(h.map(e.nodes(),function(n){var r=e.node(n).rank;if(!g.isUndefined(r))return r}))}function O(e,n){var r=w.default();try{return n()}finally{console.log(e+" time: "+(w.default()-r)+"ms")}}function _(e,n){return n()}function P(e,n,r,t,o,a){var i=o[n][a-1],d=m(e,"border",{width:0,height:0,rank:a,borderType:n},r);o[n][a]=d,e.setParent(d,t),i&&e.setEdge(i,d,{weight:1})}function N(e){r.forEach(e.nodes(),function(n){R(e.node(n))}),r.forEach(e.edges(),function(n){R(e.edge(n))})}function R(e){var n=e.width;e.width=e.height,e.height=n}function j(e){e.y=-e.y}function L(e){var n=e.x;e.x=e.y,e.y=n}function M(e){e.graph().dummyChains=[],r.forEach(e.edges(),function(n){!function(e,n){var r,t,o=n.v,a=e.node(o).rank,i=n.w,d=e.node(i).rank,u=n.name,c=e.edge(n),f=c.labelRank;if(d!==a+1){e.removeEdge(n);var h=void 0;for(t=0,++a;a<d;++t,++a)c.points=[],r=m(e,"edge",h={width:0,height:0,edgeLabel:c,edgeObj:n,rank:a},"_d"),a===f&&(h.width=c.width,h.height=c.height,h.dummy="edge-label",h.labelpos=c.labelpos),e.setEdge(o,r,{weight:c.weight},u),0===t&&e.graph().dummyChains.push(r),o=r;e.setEdge(o,i,{weight:c.weight},u)}}(e,n)})}function C(e){r.forEach(e.graph().dummyChains,function(n){var r,t=e.node(n),o=t.edgeLabel;for(e.setEdge(t.edgeObj,o);t.dummy;)r=e.successors(n)[0],e.removeNode(n),o.points.push({x:t.x,y:t.y}),"edge-label"===t.dummy&&(o.x=t.x,o.y=t.y,o.width=t.width,o.height=t.height),n=r,t=e.node(n)})}e.s(["run",()=>M,"undo",()=>C],944343);var B=e.i(317864),v=v;function G(e){var n={};r.forEach(e.sources(),function r(t){var o=e.node(t);if(Object.prototype.hasOwnProperty.call(n,t))return o.rank;n[t]=!0;var a=v.default(h.map(e.outEdges(t),function(n){return r(n.w)-e.edge(n).minlen}));return(a===1/0||null==a)&&(a=0),o.rank=a})}function T(e,n){return e.node(n.w).rank-e.node(n.v).rank-e.edge(n).minlen}function U(e){var n,t,o,a,i=new c.Graph({directed:!1}),d=e.nodes()[0],u=e.nodeCount();for(i.setNode(d,{});n=i,t=e,r.forEach(n.nodes(),function e(o){r.forEach(t.nodeEdges(o),function(r){var a=r.v,i=o===a?r.w:a;n.hasNode(i)||T(t,r)||(n.setNode(i,{}),n.setEdge(o,i,{}),e(i))})}),n.nodeCount()<u;)o=function(e,n){return B.minBy(n.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return T(n,r)})}(i,e),a=i.hasNode(o.v)?T(e,o):-T(e,o),function(e,n,t){r.forEach(e.nodes(),function(e){n.node(e).rank+=t})}(i,e,a);return i}var q=e.i(664151),q=q,S=e.i(812319),I=e.i(178662),V=e.i(587652);V.constant(1),e.i(327389),V.constant(1);var z=e.i(242837),z=z;function D(){}D.prototype=Error();var A=e.i(644071),A=A;function F(e,n,r){A.default(n)||(n=[n]);var t=(e.isDirected()?e.successors:e.neighbors).bind(e),o=[],a={};return I.each(n,function(n){if(!e.hasNode(n))throw Error("Graph does not have node: "+n);!function e(n,r,t,o,a,i){!Object.prototype.hasOwnProperty.call(o,r)&&(o[r]=!0,t||i.push(r),I.each(a(r),function(r){e(n,r,t,o,a,i)}),t&&i.push(r))}(e,n,"post"===r,a,t,o)}),o}function K(e){n=e,t=new c.Graph().setGraph(n.graph()),r.forEach(n.nodes(),function(e){t.setNode(e,n.node(e))}),r.forEach(n.edges(),function(e){var r=t.edge(e.v,e.w)||{weight:0,minlen:1},o=n.edge(e);t.setEdge(e.v,e.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})}),G(e=t);var n,t,o,a,i=U(e);for(Q(i),J(i,e);o=W(i);)a=X(i,e,o),Y(i,e,o,a)}function J(e,n){var t=F(e,e.nodes(),"post");t=t.slice(0,t.length-1),r.forEach(t,function(r){var t,o,a,i;t=e,o=n,a=r,i=t.node(a).parent,t.edge(a,i).cutvalue=H(t,o,a)})}function H(e,n,t){var o=e.node(t).parent,a=!0,i=n.edge(t,o),d=0;return i||(a=!1,i=n.edge(o,t)),d=i.weight,r.forEach(n.nodeEdges(t),function(r){var i=r.v===t,u=i?r.w:r.v;if(u!==o){var c,f,h,s=i===a,l=n.edge(r).weight;if(d+=s?l:-l,c=e,f=t,h=u,c.hasEdge(f,h)){var g=e.edge(t,u).cutvalue;d+=s?-g:g}}}),d}function Q(e,n){arguments.length<2&&(n=e.nodes()[0]),function e(n,t,o,a,i){var d=o,u=n.node(a);return t[a]=!0,r.forEach(n.neighbors(a),function(r){Object.prototype.hasOwnProperty.call(t,r)||(o=e(n,t,o,r,a))}),u.low=d,u.lim=o++,i?u.parent=i:delete u.parent,o}(e,{},1,n)}function W(e){return q.default(e.edges(),function(n){return e.edge(n).cutvalue<0})}function X(e,n,r){var t=r.v,o=r.w;n.hasEdge(t,o)||(t=r.w,o=r.v);var a=e.node(t),i=e.node(o),d=a,u=!1;a.lim>i.lim&&(d=i,u=!0);var c=S.filter(n.edges(),function(n){return u===Z(e,e.node(n.v),d)&&u!==Z(e,e.node(n.w),d)});return B.minBy(c,function(e){return T(n,e)})}function Y(e,n,t,o){var a,i,d,u,c=t.v,f=t.w;e.removeEdge(c,f),e.setEdge(o.v,o.w,{}),Q(e),J(e,n),a=e,i=n,d=q.default(a.nodes(),function(e){return!i.node(e).parent}),u=(u=F(a,d,"pre")).slice(1),r.forEach(u,function(e){var n=a.node(e).parent,r=i.edge(e,n),t=!1;r||(r=i.edge(n,e),t=!0),i.node(e).rank=i.node(n).rank+(t?r.minlen:-r.minlen)})}function Z(e,n,r){return r.low<=n.lim&&n.lim<=r.lim}K.initLowLimValues=Q,K.initCutValues=J,K.calcCutValue=H,K.leaveEdge=W,K.enterEdge=X,K.exchangeEdges=Y;var i=i,$=e.i(126841),ee=e.i(681047),en=e.i(874221),s=s,er=e.i(169109),et=e.i(452587),i=i,p=p;function eo(e,n,r){for(var t;n.length&&(t=d.last(n)).i<=r;)n.pop(),e.push(t.vs),r++;return r}function ea(e,n,t){return h.map(n,function(n){var o,a;return o=function(e){for(var n;e.hasNode(n=f.uniqueId("_root")););return n}(e),a=new c.Graph({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(n){return e.node(n)}),r.forEach(e.nodes(),function(i){var d=e.node(i),u=e.parent(i);(d.rank===n||d.minRank<=n&&n<=d.maxRank)&&(a.setNode(i),a.setParent(i,u||o),r.forEach(e[t](i),function(n){var r=n.v===i?n.w:n.v,t=a.edge(r,i),o=g.isUndefined(t)?0:t.weight;a.setEdge(r,i,{weight:e.edge(n).weight+o})}),Object.prototype.hasOwnProperty.call(d,"minRank")&&a.setNode(i,{borderLeft:d.borderLeft[n],borderRight:d.borderRight[n]}))}),a})}function ei(e,n){r.forEach(n,function(n){r.forEach(n,function(n,r){e.node(n).order=r})})}var ed=e.i(504834),ed=ed,i=i,q=q,eu=e.i(602622),eu=eu,v=v,i=i;function ec(e,n,r){if(n>r){var t=n;n=r,r=t}Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,configurable:!0,value:{},writable:!0}),Object.defineProperty(e[n],r,{enumerable:!0,configurable:!0,value:!0,writable:!0})}function ef(e,f){var w=f&&f.debugTiming?O:_;w("layout",()=>{var f=w("  buildLayoutGraph",()=>{var n,i,d;return n=e,i=new c.Graph({multigraph:!0,compound:!0}),d=eE(n.graph()),i.setGraph(t.merge({},es,eb(d,eh),o.pick(d,el))),r.forEach(n.nodes(),function(e){var r=eE(n.node(e));i.setNode(e,a.defaults(eb(r,eg),ev)),i.setParent(e,n.parent(e))}),r.forEach(n.edges(),function(e){var r=eE(n.edge(e));i.setEdge(e,t.merge({},ew,eb(r,ep),o.pick(r,em)))}),i});w("  runLayout",()=>{var e,a;return e=f,void((a=w)("    makeSpaceForEdgeLabels",()=>{var n,t;return t=(n=e).graph(),void(t.ranksep/=2,r.forEach(n.edges(),function(e){var r=n.edge(e);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}),a("    removeSelfEdges",()=>{var n;return n=e,void r.forEach(n.edges(),function(e){if(e.v===e.w){var r=n.node(e.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:e,label:n.edge(e)}),n.removeEdge(e)}})}),a("    acyclic",()=>n.run(e)),a("    nestingGraph.run",()=>{var n,t,o,a,d,u,c,f;return n=m(e,"root",{},"_root"),u=e,c={},r.forEach(u.children(),function(e){!function e(n,t){var o=u.children(n);o&&o.length&&r.forEach(o,function(n){e(n,t+1)}),c[n]=t}(e,1)}),t=c,a=2*(o=i.default($.values(t))-1)+1,e.graph().nestingRoot=n,r.forEach(e.edges(),function(n){e.edge(n).minlen*=a}),d=(f=e,ee.reduce(f.edges(),function(e,n){return e+f.edge(n).weight},0)+1),void(r.forEach(e.children(),function(i){!function e(n,t,o,a,i,d,u){var c=n.children(u);if(!c.length){u!==t&&n.setEdge(t,u,{weight:0,minlen:o});return}var f=k(n,"_bt"),h=k(n,"_bb"),s=n.node(u);n.setParent(f,u),s.borderTop=f,n.setParent(h,u),s.borderBottom=h,r.forEach(c,function(r){e(n,t,o,a,i,d,r);var c=n.node(r),s=c.borderTop?c.borderTop:r,l=c.borderBottom?c.borderBottom:r,g=c.borderTop?a:2*a,v=s!==l?1:i-d[u]+1;n.setEdge(f,s,{weight:g,minlen:v,nestingEdge:!0}),n.setEdge(l,h,{weight:g,minlen:v,nestingEdge:!0})}),n.parent(u)||n.setEdge(t,f,{weight:0,minlen:i+d[u]})}(e,n,a,d,o,t,i)}),e.graph().nodeRankFactor=a)}),a("    rank",()=>(function(e){switch(e.graph().ranker){case"network-simplex":default:K(e);break;case"tight-tree":var n;G(n=e),U(n);break;case"longest-path":G(e)}})(b(e))),a("    injectEdgeLabelProxies",()=>{var n;return n=e,void r.forEach(n.edges(),function(e){var r=n.edge(e);if(r.width&&r.height){var t=n.node(e.v),o={rank:(n.node(e.w).rank-t.rank)/2+t.rank,e:e};m(n,"edge-proxy",o,"_ep")}})}),a("    removeEmptyRanks",()=>{var n,t,o,a;return n=v.default(h.map(e.nodes(),function(n){return e.node(n).rank})),t=[],r.forEach(e.nodes(),function(r){var o=e.node(r).rank-n;t[o]||(t[o]=[]),t[o].push(r)}),o=0,a=e.graph().nodeRankFactor,void r.forEach(t,function(n,t){g.isUndefined(n)&&t%a!=0?--o:o&&r.forEach(n,function(n){e.node(n).rank+=o})})}),a("    nestingGraph.cleanup",()=>{var n;return n=e.graph(),void(e.removeNode(n.nestingRoot),delete n.nestingRoot,r.forEach(e.edges(),function(n){e.edge(n).nestingEdge&&e.removeEdge(n)}))}),a("    normalizeRanks",()=>{var n;return n=v.default(h.map(e.nodes(),function(n){return e.node(n).rank})),void r.forEach(e.nodes(),function(r){var t=e.node(r);p.default(t,"rank")&&(t.rank-=n)})}),a("    assignRankMinMax",()=>{var n,t;return n=e,t=0,void(r.forEach(n.nodes(),function(e){var r=n.node(e);r.borderTop&&(r.minRank=n.node(r.borderTop).rank,r.maxRank=n.node(r.borderBottom).rank,t=i.default(t,r.maxRank))}),n.graph().maxRank=t)}),a("    removeEdgeLabelProxies",()=>{var n;return n=e,void r.forEach(n.nodes(),function(e){var r=n.node(e);"edge-proxy"===r.dummy&&(n.edge(r.e).labelRank=r.rank,n.removeNode(e))})}),a("    normalize.run",()=>M(e)),a("    parentDummyChains",()=>{var n,t,o,a;return t=e,o={},a=0,r.forEach(t.children(),function e(n){var i=a;r.forEach(t.children(n),e),o[n]={low:i,lim:a++}}),n=o,void r.forEach(e.graph().dummyChains,function(r){for(var t=e.node(r),o=t.edgeObj,a=function(e,n,r,t){var o,a,i=[],d=[],u=Math.min(n[r].low,n[t].low),c=Math.max(n[r].lim,n[t].lim);o=r;do i.push(o=e.parent(o));while(o&&(n[o].low>u||c>n[o].lim))for(a=o,o=t;(o=e.parent(o))!==a;)d.push(o);return{path:i.concat(d.reverse()),lca:a}}(e,n,o.v,o.w),i=a.path,d=a.lca,u=0,c=i[0],f=!0;r!==o.w;){if(t=e.node(r),f){for(;(c=i[u])!==d&&e.node(c).maxRank<t.rank;)u++;c===d&&(f=!1)}if(!f){for(;u<i.length-1&&e.node(c=i[u+1]).minRank<=t.rank;)u++;c=i[u]}e.setParent(r,c),r=e.successors(r)[0]}})}),a("    addBorderSegments",()=>{r.forEach(e.children(),function n(t){var o=e.children(t),a=e.node(t);if(o.length&&r.forEach(o,n),Object.prototype.hasOwnProperty.call(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var i=a.minRank,d=a.maxRank+1;i<d;++i)P(e,"borderLeft","_bl",t,a,i),P(e,"borderRight","_br",t,a,i)}})}),a("    order",()=>(function(e){var n=x(e),t=ea(e,l.range(1,n+1),"inEdges"),a=ea(e,l.range(n-1,-1,-1),"outEdges"),d=(u={},f=S.filter(e.nodes(),function(n){return!e.children(n).length}),v=i.default(h.map(f,function(n){return e.node(n).rank})),w=h.map(l.range(v+1),function(){return[]}),m=et.sortBy(f,function(n){return e.node(n).rank}),r.forEach(m,function n(t){p.default(u,t)||(u[t]=!0,w[e.node(t).rank].push(t),r.forEach(e.successors(t),n))}),w);ei(e,d);for(var u,f,v,w,m,b,E=1/0,k=0,O=0;O<4;++k,++O){(function(e,n){var t=new c.Graph;r.forEach(e,function(e){var a,i,d,u=e.graph().root,c=function e(n,t,a,i){var d,u,c,f,s,l,v,p,w,m,b,E,y=n.children(t),k=n.node(t),x=k?k.borderLeft:void 0,O=k?k.borderRight:void 0,_={};x&&(y=S.filter(y,function(e){return e!==x&&e!==O}));var P=(d=y,h.map(d,function(e){var r=n.inEdges(e);if(!r.length)return{v:e};var t=ee.reduce(r,function(e,r){var t=n.edge(r),o=n.node(r.v);return{sum:e.sum+t.weight*o.order,weight:e.weight+t.weight}},{sum:0,weight:0});return{v:e,barycenter:t.sum/t.weight,weight:t.weight}}));r.forEach(P,function(r){if(n.children(r.v).length){var t,o,d=e(n,r.v,a,i);_[r.v]=d,Object.prototype.hasOwnProperty.call(d,"barycenter")&&(t=r,o=d,g.isUndefined(t.barycenter)?(t.barycenter=o.barycenter,t.weight=o.weight):(t.barycenter=(t.barycenter*t.weight+o.barycenter*o.weight)/(t.weight+o.weight),t.weight+=o.weight))}});var N=(u={},r.forEach(P,function(e,n){var r=u[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:n};g.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)}),r.forEach(a.edges(),function(e){var n=u[e.v],r=u[e.w];g.isUndefined(n)||g.isUndefined(r)||(r.indegree++,n.out.push(u[e.w]))}),function(e){for(var n=[];e.length;){var t=e.pop();n.push(t),r.forEach(t.in.reverse(),function(e){return function(n){!n.merged&&(g.isUndefined(n.barycenter)||g.isUndefined(e.barycenter)||n.barycenter>=e.barycenter)&&function(e,n){var r=0,t=0;e.weight&&(r+=e.barycenter*e.weight,t+=e.weight),n.weight&&(r+=n.barycenter*n.weight,t+=n.weight),e.vs=n.vs.concat(e.vs),e.barycenter=r/t,e.weight=t,e.i=Math.min(n.i,e.i),n.merged=!0}(e,n)}}(t)),r.forEach(t.out,function(n){return function(r){r.in.push(n),0==--r.indegree&&e.push(r)}}(t))}return h.map(S.filter(n,function(e){return!e.merged}),function(e){return o.pick(e,["vs","i","barycenter","weight"])})}(S.filter(u,function(e){return!e.indegree})));!function(e,n){r.forEach(e,function(e){e.vs=er.flatten(e.vs.map(function(e){return n[e]?n[e].vs:e}))})}(N,_);var R=(l=(c=function(e){return Object.prototype.hasOwnProperty.call(e,"barycenter")},f={lhs:[],rhs:[]},r.forEach(N,function(e){c(e)?f.lhs.push(e):f.rhs.push(e)}),s=f).lhs,v=et.sortBy(s.rhs,function(e){return-e.i}),p=[],w=0,m=0,b=0,l.sort(function(e){return function(n,r){return n.barycenter<r.barycenter?-1:n.barycenter>r.barycenter?1:e?r.i-n.i:n.i-r.i}}(!!i)),b=eo(p,v,b),r.forEach(l,function(e){b+=e.vs.length,p.push(e.vs),w+=e.barycenter*e.weight,m+=e.weight,b=eo(p,v,b)}),E={vs:er.flatten(p)},m&&(E.barycenter=w/m,E.weight=m),E);if(x&&(R.vs=er.flatten([x,R.vs,O]),n.predecessors(x).length)){var j=n.node(n.predecessors(x)[0]),L=n.node(n.predecessors(O)[0]);Object.prototype.hasOwnProperty.call(R,"barycenter")||(R.barycenter=0,R.weight=0),R.barycenter=(R.barycenter*R.weight+j.order+L.order)/(R.weight+2),R.weight+=2}return R}(e,u,t,n);r.forEach(c.vs,function(n,r){e.node(n).order=r}),a=c.vs,d={},r.forEach(a,function(n){for(var r,o,a=e.parent(n);a;){if((r=e.parent(a))?(o=d[r],d[r]=a):(o=i,i=a),o&&o!==a)return void t.setEdge(o,a);a=r}})})})(k%2?t:a,k%4>=2),d=y(e);var _=function(e,n){for(var t=0,o=1;o<n.length;++o)t+=function(e,n,t){for(var o=s.default(t,h.map(t,function(e,n){return n})),a=er.flatten(h.map(n,function(n){return et.sortBy(h.map(e.outEdges(n),function(n){return{pos:o[n.w],weight:e.edge(n).weight}}),"pos")})),i=1;i<t.length;)i<<=1;var d=2*i-1;i-=1;var u=h.map(Array(d),function(){return 0}),c=0;return r.forEach(a.forEach(function(e){var n=e.pos+i;u[n]+=e.weight;for(var r=0;n>0;)n%2&&(r+=u[n+1]),n=n-1>>1,u[n]+=e.weight;c+=e.weight*r})),c}(e,n[o-1],n[o]);return t}(e,d);_<E&&(O=0,b=en.cloneDeep(d),E=_)}ei(e,b)})(e)),a("    insertSelfEdges",()=>{var n,t;return t=y(n=e),void r.forEach(t,function(e){var t=0;r.forEach(e,function(e,o){var a=n.node(e);a.order=o+t,r.forEach(a.selfEdges,function(e){m(n,"selfedge",{width:e.label.width,height:e.label.height,rank:a.rank,order:o+ ++t,e:e.e,label:e.label},"_se")}),delete a.selfEdges})})}),a("    adjustCoordinateSystem",()=>{var n;("lr"===(n=e.graph().rankdir.toLowerCase())||"rl"===n)&&N(e)}),a("    position",()=>{var n,o,a,f,s,g,p,w,m,E,k,x,O,_,P,N;_=y(O=n=b(n=e)),P=O.graph().ranksep,N=0,r.forEach(_,function(e){var n=i.default(h.map(e,function(e){return O.node(e).height}));r.forEach(e,function(e){O.node(e).y=N+n/2}),N+=n+P}),ed.default((f=y(o=n),g=t.merge((s={},ee.reduce(f,function(e,n){var t=0,a=0,i=e.length,u=d.last(n);return r.forEach(n,function(e,d){var c=function(e,n){if(e.node(n).dummy)return q.default(e.predecessors(n),function(n){return e.node(n).dummy})}(o,e),f=c?o.node(c).order:i;(c||e===u)&&(r.forEach(n.slice(a,d+1),function(e){r.forEach(o.predecessors(e),function(n){var r=o.node(n),a=r.order;(a<t||f<a)&&!(r.dummy&&o.node(e).dummy)&&ec(s,n,e)})}),a=d+1,t=f)}),n}),s),function(e,n){var t={};function o(n,o,a,i,d){var u;r.forEach(l.range(o,a),function(o){u=n[o],e.node(u).dummy&&r.forEach(e.predecessors(u),function(n){var r=e.node(n);r.dummy&&(r.order<i||r.order>d)&&ec(t,n,u)})})}return ee.reduce(n,function(n,t){var a,i=-1,d=0;return r.forEach(t,function(r,u){if("border"===e.node(r).dummy){var c=e.predecessors(r);c.length&&(a=e.node(c[0]).order,o(t,d,u,i,a),d=u,i=a)}o(t,d,t.length,a,n.length)}),t}),t}(o,f)),p={},r.forEach(["u","d"],function(e){a="u"===e?f:$.values(f).reverse(),r.forEach(["l","r"],function(n){"r"===n&&(a=h.map(a,function(e){return $.values(e).reverse()}));var t,i,d,f,s=("u"===e?o.predecessors:o.successors).bind(o),l=(t=a,i={},d={},f={},r.forEach(t,function(e){r.forEach(e,function(e,n){i[e]=e,d[e]=e,f[e]=n})}),r.forEach(t,function(e){var n=-1;r.forEach(e,function(e){var r=s(e);if(r.length)for(var t=((r=et.sortBy(r,function(e){return f[e]})).length-1)/2,o=Math.floor(t),a=Math.ceil(t);o<=a;++o){var u=r[o];d[e]===e&&n<f[u]&&!function(e,n,r){if(n>r){var t=n;n=r,r=t}return!!e[n]&&Object.prototype.hasOwnProperty.call(e[n],r)}(g,e,u)&&(d[u]=e,d[e]=i[e]=i[u],n=f[u])}})}),{root:i,align:d}),v=function(e,n,t,o,a){var i,d,u,f,h,s,l,g,v,p,w={},m=(i=e,d=n,u=t,f=a,g=new c.Graph,p=(h=(v=i.graph()).nodesep,s=v.edgesep,l=f,function(e,n,r){var t,o,a=e.node(n),i=e.node(r);if(t=0+a.width/2,Object.prototype.hasOwnProperty.call(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":o=-a.width/2;break;case"r":o=a.width/2}if(o&&(t+=l?o:-o),o=0,t+=(a.dummy?s:h)/2,t+=(i.dummy?s:h)/2,t+=i.width/2,Object.prototype.hasOwnProperty.call(i,"labelpos"))switch(i.labelpos.toLowerCase()){case"l":o=i.width/2;break;case"r":o=-i.width/2}return o&&(t+=l?o:-o),o=0,t}),r.forEach(d,function(e){var n;r.forEach(e,function(e){var r=u[e];if(g.setNode(r),n){var t=u[n],o=g.edge(t,r);g.setEdge(t,r,Math.max(p(i,e,n),o||0))}n=e})}),g),b=a?"borderLeft":"borderRight";function E(e,n){for(var r=m.nodes(),t=r.pop(),o={};t;)o[t]?e(t):(o[t]=!0,r.push(t),r=r.concat(n(t))),t=r.pop()}return E(function(e){w[e]=m.inEdges(e).reduce(function(e,n){return Math.max(e,w[n.v]+m.edge(n))},0)},m.predecessors.bind(m)),E(function(n){var r=m.outEdges(n).reduce(function(e,n){return Math.min(e,w[n.w]-m.edge(n))},1/0),t=e.node(n);r!==1/0&&t.borderType!==b&&(w[n]=Math.max(w[n],r))},m.successors.bind(m)),r.forEach(o,function(e){w[e]=w[t[e]]}),w}(o,a,l.root,l.align,"r"===n);"r"===n&&(v=u.mapValues(v,function(e){return-e})),p[e+n]=v})}),w=B.minBy($.values(p),function(e){var n=-1/0,r=1/0;return eu.default(e,function(e,t){var a,i,d=(a=o,i=t,a.node(i).width/2);n=Math.max(e+d,n),r=Math.min(e-d,r)}),n-r}),m=$.values(w),E=v.default(m),k=i.default(m),r.forEach(["u","d"],function(e){r.forEach(["l","r"],function(n){var r,t=e+n,o=p[t];if(o!==w){var a=$.values(o);(r="l"===n?E-v.default(a):k-i.default(a))&&(p[t]=u.mapValues(o,function(e){return e+r}))}})}),x=o.graph().align,u.mapValues(p.ul,function(e,n){if(x)return p[x.toLowerCase()][n];var r=et.sortBy(h.map(p,n));return(r[1]+r[2])/2})),function(e,r){n.node(r).x=e})}),a("    positionSelfEdges",()=>{var n;return n=e,void r.forEach(n.nodes(),function(e){var r=n.node(e);if("selfedge"===r.dummy){var t=n.node(r.e.v),o=t.x+t.width/2,a=t.y,i=r.x-o,d=t.height/2;n.setEdge(r.e,r.label),n.removeNode(e),r.label.points=[{x:o+2*i/3,y:a-d},{x:o+5*i/6,y:a-d},{x:o+i,y:a},{x:o+5*i/6,y:a+d},{x:o+2*i/3,y:a+d}],r.label.x=r.x,r.label.y=r.y}})}),a("    removeBorderNodes",()=>{var n;return n=e,void(r.forEach(n.nodes(),function(e){if(n.children(e).length){var r=n.node(e),t=n.node(r.borderTop),o=n.node(r.borderBottom),a=n.node(d.last(r.borderLeft)),i=n.node(d.last(r.borderRight));r.width=Math.abs(i.x-a.x),r.height=Math.abs(o.y-t.y),r.x=a.x+r.width/2,r.y=t.y+r.height/2}}),r.forEach(n.nodes(),function(e){"border"===n.node(e).dummy&&n.removeNode(e)}))}),a("    normalize.undo",()=>C(e)),a("    fixupEdgeLabelCoords",()=>{var n;return n=e,void r.forEach(n.edges(),function(e){var r=n.edge(e);if(Object.prototype.hasOwnProperty.call(r,"x"))switch(("l"===r.labelpos||"r"===r.labelpos)&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset}})}),a("    undoCoordinateSystem",()=>{var n,t,o;("bt"===(n=e.graph().rankdir.toLowerCase())||"rl"===n)&&(t=e,r.forEach(t.nodes(),function(e){j(t.node(e))}),r.forEach(t.edges(),function(e){var n=t.edge(e);r.forEach(n.points,j),Object.prototype.hasOwnProperty.call(n,"y")&&j(n)})),("lr"===n||"rl"===n)&&(o=e,r.forEach(o.nodes(),function(e){L(o.node(e))}),r.forEach(o.edges(),function(e){var n=o.edge(e);r.forEach(n.points,L),Object.prototype.hasOwnProperty.call(n,"x")&&L(n)}),N(e))}),a("    translateGraph",()=>(function(e){var n=1/0,t=0,o=1/0,a=0,i=e.graph(),d=i.marginx||0,u=i.marginy||0;function c(e){var r=e.x,i=e.y,d=e.width,u=e.height;n=Math.min(n,r-d/2),t=Math.max(t,r+d/2),o=Math.min(o,i-u/2),a=Math.max(a,i+u/2)}r.forEach(e.nodes(),function(n){c(e.node(n))}),r.forEach(e.edges(),function(n){var r=e.edge(n);Object.prototype.hasOwnProperty.call(r,"x")&&c(r)}),n-=d,o-=u,r.forEach(e.nodes(),function(r){var t=e.node(r);t.x-=n,t.y-=o}),r.forEach(e.edges(),function(t){var a=e.edge(t);r.forEach(a.points,function(e){e.x-=n,e.y-=o}),Object.prototype.hasOwnProperty.call(a,"x")&&(a.x-=n),Object.prototype.hasOwnProperty.call(a,"y")&&(a.y-=o)}),i.width=t-n+d,i.height=a-o+u})(e)),a("    assignNodeIntersects",()=>{var n;return n=e,void r.forEach(n.edges(),function(e){var r,t,o=n.edge(e),a=n.node(e.v),i=n.node(e.w);o.points?(r=o.points[0],t=o.points[o.points.length-1]):(o.points=[],r=i,t=a),o.points.unshift(E(a,r)),o.points.push(E(i,t))})}),a("    reversePoints",()=>{var n;return n=e,void r.forEach(n.edges(),function(e){var r=n.edge(e);r.reversed&&r.points.reverse()})}),a("    acyclic.undo",()=>n.undo(e)))}),w("  updateInputGraph",()=>{var n,t;return n=e,t=f,void(r.forEach(n.nodes(),function(e){var r=n.node(e),o=t.node(e);r&&(r.x=o.x,r.y=o.y,t.children(e).length&&(r.width=o.width,r.height=o.height))}),r.forEach(n.edges(),function(e){var r=n.edge(e),o=t.edge(e);r.points=o.points,Object.prototype.hasOwnProperty.call(o,"x")&&(r.x=o.x,r.y=o.y)}),n.graph().width=t.graph().width,n.graph().height=t.graph().height)})})}var eh=["nodesep","edgesep","ranksep","marginx","marginy"],es={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},el=["acyclicer","ranker","rankdir","align"],eg=["width","height"],ev={width:0,height:0},ep=["minlen","weight","width","height","labeloffset"],ew={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},em=["labelpos"];function eb(e,n){return u.mapValues(o.pick(e,n),Number)}function eE(e){var n={};return r.forEach(e,function(e,r){n[r.toLowerCase()]=e}),n}e.s(["layout",()=>ef],915888),e.i(944343),e.s([],461696)}]);